import{v as Lt,z as et,A as tt,B as za,D as ft,E as qe,F as An,G as h,H as s,I as A,J as t,K as i,L as Vn,M as xe,N as n,O as at,P as nt,Q as Rn,R as Mn,T as l,U as L,V as u,W as Ct,X as H,Y as K,Z as yt,_ as yo,$ as v,a0 as y,i as B,a1 as Sa,a2 as S,a3 as Ye,a as D,b as Ge,p as Pt,S as ua,s as ie,g as e,a4 as pe,a5 as Da,a6 as Hr,l as La,a7 as xa,a8 as rt,a9 as Te,u as p,aa as ut,ab as _l,ac as Ut,ad as cn,ae as Dn,af as Oa,ag as hl,ah as ya,d as Fn,ai as Ht,aj as yl,ak as bl,al as ln,j as tr,am as $l,an as Fo,ao as Gr,ap as Xa,aq as Ur,ar as Qr,as as xl,at as Tl,au as wl,av as Cl,aw as Pl,ax as Eo,ay as Sl,az as $r,aA as xr,aB as Dl,aC as Fl,aD as No,aE as Il,aF as kl,aG as Al,aH as Vl,aI as Rl,aJ as Ml,aK as Ll,aL as Io,aM as ko,aN as Ao,aO as Vo,aP as xn,aQ as Ro,aR as Ol,aS as zl,aT as Za,aU as El,h as Nl,aV as Tr,aW as Bl,aX as ql,aY as wr,aZ as Cr,x as jl}from"./CglMtoSz.js";import{A as Wr,c as Gt,d as Yr,a as ba,b as Qa,R as Kr,w as Pr,e as Hl,S as Gl,n as Ul,m as Ql,f as Wl,g as Yl,h as Kl,i as Xl,p as Ln,j as nn,k as Xr,D as Zr,C as Zl,l as Jr,o as bo,q as Jl,P as es,r as ts,T as as,s as Sr}from"./BMuJlwvQ.js";import{F as ea,a as Fa,I as Dt,b as va,C as ta,T as _n,c as On,d as Tn,e as ka,B as Ke,f as Cn,L as It,R as fa,P as _a,g as ha,h as Ta,S as wa,i as Ca,j as Bo,k as ra,l as $o,D as xo,m as To,n as ar,o as dn,p as qo,q as Ea,r as Xt,s as no,t as el,u as oo,v as jo,w as sn,x as en,y as Pn,z as Ho,A as Go,E as Uo,G as tl,H as Qo,J as ro,K as lo,M as qa,N as ja,O as Dr,Q as wn,U as so,V as ns,W as nr,X as or,Y as rr,Z as lr,_ as sr,$ as zn,a0 as En,a1 as Nn,a2 as Bn,a3 as qn,a4 as jn,a5 as Hn,a6 as Gn,a7 as os,a8 as rs,a9 as ls,aa as ss,ab as is,ac as al,ad as cs,ae as Wo,af as Yo,ag as Va,ah as pa,ai as Mo,aj as Ko,ak as Yt,al as ds,am as Lo,an as Fr,ao as us,ap as Rt,aq as Ir}from"./D3gtaW12.js";import{s as Un}from"./D-Pcb39S.js";import{o as Zt,s as He,d as ga,n as $t,g as pn,e as Ga,l as io,r as co,b as Ua,_ as uo,f as nl,z as wo,h as ms}from"./KFa1jneB.js";import{C as mo,S as ol,a as Oo,b as kr,P as vs,c as Xo,d as rl,M as gs,L as ps,D as fs,R as _s,e as hs,H as Ma,f as Ar,T as Zo,g as ll,h as Jo,Z as ys,i as bs,j as sl,k as $s,l as xs,m as Ts,n as ws,o as Cs,p as Ps,q as Ss,r as Ds,A as Vr,s as Rr,t as Fs,E as Is,u as ks,v as As,w as Vs,x as Rs,y as Ms,z as il,B as ir,F as cr,G as cl,X as vo,I as Ls,J as Os,K as zs,N as Es,O as Ns,Q as dl,U as Bs,V as qs,W as Mr,Y as ul,_ as Ja,$ as js}from"./D2V3TrCl.js";import{a as fn,$ as ma,c as Qn,b as tn,p as ml,i as Hs,h as Gs,j as Us,k as Qs,l as Ws,m as Ys,n as Lr,o as Ks}from"./BFKdG0ZG.js";const Xs=Zt({id:$t().optional(),cuid:He().optional(),name:He().min(1,"Account name is required").min(2,"Account name must be at least 2 characters").max(50,"Account name must be less than 50 characters").regex(/^[a-zA-Z0-9\s\-_.'&()]+$/,"Account name contains invalid characters"),slug:He().min(2,"Slug must be at least 2 characters").max(30,"Slug must be less than 30 characters").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens").optional(),closed:ga().optional(),notes:He().max(500,"Notes must be less than 500 characters").optional().nullable(),dateOpened:He().optional(),createdAt:He().optional(),updatedAt:He().optional(),deletedAt:He().optional().nullable()});Zt({id:$t().positive(),name:He().transform(c=>c?.trim()).pipe(He().min(2,"Account name must be at least 2 characters").max(50,"Account name must be less than 50 characters").regex(/^[a-zA-Z0-9\s\-_.'&()]+$/,"Account name contains invalid characters")).optional(),slug:He().transform(c=>c?.trim()?.toLowerCase()).pipe(He().min(2,"Slug must be at least 2 characters").max(30,"Slug must be less than 30 characters").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens")).optional(),notes:He().transform(c=>c?.trim()).pipe(He().max(500,"Notes must be less than 500 characters")).optional().nullable(),closed:ga().optional()});const Zs=Zt({id:$t().optional(),parentId:$t().optional().nullable(),name:He().transform(c=>c?.trim()).pipe(He().min(1,"Category name is required").max(50,"Category name must be less than 50 characters").refine(c=>!(Lt.contains(c,"<")||Lt.contains(c,">")||Lt.contains(c,"{")||Lt.contains(c,"}")||Lt.contains(c,"[")||Lt.contains(c,"]")||Lt.contains(c,"\\")||Lt.contains(c,"|")),"Category name contains invalid characters")),notes:He().transform(c=>c?.trim()).pipe(He().max(500,"Notes must be less than 500 characters").refine(c=>c?!(Lt.contains(c,"<")||Lt.contains(c,">")):!0,"Notes cannot contain HTML tags")).optional().nullable(),dateCreated:He().optional(),createdAt:He().optional(),updatedAt:He().optional(),deletedAt:He().optional().nullable()});Zt({id:$t().positive(),parentId:$t().optional().nullable(),name:He().transform(c=>c?.trim()).pipe(He().min(1,"Category name is required").max(50,"Category name must be less than 50 characters").refine(c=>!(Lt.contains(c,"<")||Lt.contains(c,">")||Lt.contains(c,"{")||Lt.contains(c,"}")||Lt.contains(c,"[")||Lt.contains(c,"]")||Lt.contains(c,"\\")||Lt.contains(c,"|")),"Category name contains invalid characters")).optional(),notes:He().transform(c=>c?.trim()).pipe(He().max(500,"Notes must be less than 500 characters").refine(c=>c?!(Lt.contains(c,"<")||Lt.contains(c,">")):!0,"Notes cannot contain HTML tags")).optional().nullable()});const Js=Zt({id:$t().optional(),name:He().transform(c=>c?.trim()).pipe(He().min(1,"Payee name is required").max(50,"Payee name must be less than 50 characters").regex(/^[a-zA-Z0-9\s\-_&']+$/,"Payee name contains invalid characters")),notes:He().transform(c=>c?.trim()).pipe(He().max(500,"Notes must be less than 500 characters")).optional().nullable(),dateCreated:He().optional(),createdAt:He().optional(),updatedAt:He().optional(),deletedAt:He().optional().nullable()});Zt({id:$t().positive(),name:He().transform(c=>c?.trim()).pipe(He().min(1,"Payee name is required").max(50,"Payee name must be less than 50 characters").regex(/^[a-zA-Z0-9\s\-_&']+$/,"Payee name contains invalid characters")).optional(),notes:He().transform(c=>c?.trim()).pipe(He().max(500,"Notes must be less than 500 characters")).optional().nullable()});Zt({id:$t().optional(),accountId:$t().positive("Account is required"),parentId:$t().optional().nullable(),status:pn(["cleared","pending","scheduled"]).default("pending"),payeeId:$t().optional().nullable(),amount:$t().refine(c=>c!==0,"Amount cannot be zero").refine(c=>Math.abs(c)<=999999.99,"Amount cannot exceed $999,999.99"),categoryId:$t().optional().nullable(),notes:He().transform(c=>c?.trim()).pipe(He().max(500,"Notes must be less than 500 characters").refine(c=>c?!(Lt.contains(c,"<")||Lt.contains(c,">")):!0,"Notes cannot contain HTML tags")).optional().nullable(),date:He().optional(),scheduleId:$t().optional().nullable(),createdAt:He().optional(),updatedAt:He().optional(),deletedAt:He().optional().nullable()});Zt({id:$t().positive(),accountId:$t().positive("Account is required").optional(),parentId:$t().optional().nullable(),status:pn(["cleared","pending","scheduled"]).optional(),payeeId:$t().optional().nullable(),amount:$t().refine(c=>c!==0,"Amount cannot be zero").refine(c=>Math.abs(c)<=999999.99,"Amount cannot exceed $999,999.99").optional(),categoryId:$t().optional().nullable(),notes:He().transform(c=>c?.trim()).pipe(He().max(500,"Notes must be less than 500 characters").refine(c=>c?!(Lt.contains(c,"<")||Lt.contains(c,">")):!0,"Notes cannot contain HTML tags")).optional().nullable(),date:He().optional(),scheduleId:$t().optional().nullable()});const ei=Zt({id:$t().optional(),name:He().min(2,"Name must contain at least 2 characters"),description:He().max(500,"Description must be less than 500 characters").optional().nullable(),icon:He().optional().nullable(),filters:Ga(Ua(Zt({column:He(),filter:He(),value:Ua(nl())})).or(uo())),display:Ga(Zt({grouping:Ga(Ua(He())),sort:Ga(Ua(Zt({desc:ga(),id:He()}))),expanded:io(!0).default(!0).or(co(He(),ga())),visibility:io(!0).default(!0).or(co(He(),ga()))}).or(uo())),dirty:ga().optional()});Zt({id:$t().positive(),name:He().min(2,"Name must contain at least 2 characters").optional(),description:He().max(500,"Description must be less than 500 characters").optional().nullable(),icon:He().optional().nullable(),filters:Ga(Ua(Zt({column:He(),filter:He(),value:Ua(nl())})).or(uo())),display:Ga(Zt({grouping:Ga(Ua(He())),sort:Ga(Ua(Zt({desc:ga(),id:He()}))),expanded:io(!0).default(!0).or(co(He(),ga())),visibility:io(!0).default(!0).or(co(He(),ga()))}).or(uo())),dirty:ga().optional()});const ti=Zt({id:$t().optional(),name:He().transform(c=>c?.trim()).pipe(He().min(2,"Schedule name must be at least 2 characters").max(30,"Schedule name must be less than 30 characters")),slug:He().transform(c=>c?.trim()?.toLowerCase()).pipe(He().min(2,"Slug must be at least 2 characters").max(30,"Slug must be less than 30 characters").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens")),status:pn(["active","inactive"]).default("active"),amount:$t().default(0),amount_2:$t().default(0),amount_type:pn(["exact","approximate","range"]).default("exact"),recurring:ga().default(!1),auto_add:ga().default(!1),dateId:$t().optional().nullable(),payeeId:$t().positive("Payee is required"),accountId:$t().positive("Account is required"),createdAt:He().optional(),updatedAt:He().optional()});Zt({id:$t().positive(),name:He().transform(c=>c?.trim()).pipe(He().min(2,"Schedule name must be at least 2 characters").max(30,"Schedule name must be less than 30 characters")).optional(),slug:He().transform(c=>c?.trim()?.toLowerCase()).pipe(He().min(2,"Slug must be at least 2 characters").max(30,"Slug must be less than 30 characters").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens")).optional(),status:pn(["active","inactive"]).optional(),amount:$t().optional(),amount_2:$t().optional(),amount_type:pn(["exact","approximate","range"]).optional(),recurring:ga().optional(),auto_add:ga().optional(),dateId:$t().optional().nullable(),payeeId:$t().positive("Payee is required").optional(),accountId:$t().positive("Account is required").optional()});Mt[v]="src/lib/components/forms/manage-account-form.svelte";var ai=h(y("<!> <!> <!>",1),Mt[v],[]),ni=h(y("<!> <!> <!>",1),Mt[v],[]),oi=h(y('<form method="post" action="/accounts?/add-account" class="grid grid-cols-2 gap-2"><input hidden name="id"/> <!> <!> <!></form>'),Mt[v],[[58,0,[[59,2]]]]);function Mt(c,a){et(new.target),tt(a,!0,Mt);const[d,r]=Rn(),o=()=>(Mn(G,"formData"),An(G,"$formData",d)),{data:{manageAccountForm:g}}=za,T=Wr.get(),m=Un(g,{id:"account-form",validators:wo(Xs),onResult:async({result:J})=>{a.onSave&&B(J.type,"success")&&J.data&&(a.accountId&&a.accountId>0?T.updateAccount(J.data.entity):T.addAccount(J.data.entity),a.onSave(J.data.entity))}}),{form:G,enhance:Q}=m;if(a.accountId&&a.accountId>0){const J=T.getById(a.accountId);J&&(ft(G,qe(o).id=a.accountId,qe(o)),ft(G,qe(o).name=J.name,qe(o)),ft(G,qe(o).notes=J.notes,qe(o)))}var z=oi(),ae=A(z);Sa(ae);var R=s(ae,2);t(()=>i(R,()=>ea,(J,re)=>{re(J,{get form(){return m},name:"name",children:l(Mt,(ne,ye)=>{var _e=L(),ce=u(_e);{const X=l(Mt,function(te,le){Ct(...arguments);let C=()=>le?.().props;C();var w=ai(),U=u(w);t(()=>i(U,()=>Fa,(b,P)=>{P(b,{children:l(Mt,(f,W)=>{H();var k=K("Name");n(f,k)}),$$slots:{default:!0}})}),"component",Mt,63,8,{componentTag:"Form.Label"});var x=s(U,2);t(()=>Dt(x,yt(C,{get value(){return o().name},set value(b){ft(G,qe(o).name=b,qe(o))}})),"component",Mt,64,8,{componentTag:"Input"});var _=s(x,2);t(()=>i(_,()=>va,(b,P)=>{P(b,{})}),"component",Mt,65,8,{componentTag:"Form.FieldErrors"}),n(te,w)});t(()=>i(ce,()=>ta,(te,le)=>{le(te,{children:X,$$slots:{default:!0}})}),"component",Mt,61,4,{componentTag:"Form.Control"})}n(ne,_e)}),$$slots:{default:!0}})}),"component",Mt,60,2,{componentTag:"Form.Field"});var F=s(R,2);t(()=>i(F,()=>ea,(J,re)=>{re(J,{get form(){return m},name:"notes",class:"col-span-full",children:l(Mt,(ne,ye)=>{var _e=L(),ce=u(_e);{const X=l(Mt,function(te,le){Ct(...arguments);let C=()=>le?.().props;C();var w=ni(),U=u(w);t(()=>i(U,()=>Fa,(b,P)=>{P(b,{children:l(Mt,(f,W)=>{H();var k=K("Notes");n(f,k)}),$$slots:{default:!0}})}),"component",Mt,72,8,{componentTag:"Form.Label"});var x=s(U,2);t(()=>_n(x,yt(C,{get value(){return o().notes},set value(b){ft(G,qe(o).notes=b,qe(o))}})),"component",Mt,73,8,{componentTag:"Textarea"});var _=s(x,2);t(()=>i(_,()=>va,(b,P)=>{P(b,{})}),"component",Mt,74,8,{componentTag:"Form.FieldErrors"}),n(te,w)});t(()=>i(ce,()=>ta,(te,le)=>{le(te,{children:X,$$slots:{default:!0}})}),"component",Mt,70,4,{componentTag:"Form.Control"})}n(ne,_e)}),$$slots:{default:!0}})}),"component",Mt,69,2,{componentTag:"Form.Field"});var ee=s(F,2);t(()=>i(ee,()=>On,(J,re)=>{re(J,{children:l(Mt,(ne,ye)=>{H();var _e=K("save");n(ne,_e)}),$$slots:{default:!0}})}),"component",Mt,78,2,{componentTag:"Form.Button"}),S(z),Vn(z,J=>Q?.(J)),xe(()=>yo(ae,o().id)),n(c,z);var E=at({...nt()});return r(),E}Qe[v]="src/lib/components/input/advanced-date-input.svelte";var ri=h(y("<!> <!> <!> <!> <!>",1),Qe[v],[]),li=h(y('<div role="group" aria-labelledby="day-picker-label"><span id="day-picker-label" class="sr-only">Select specific day</span> <!></div>'),Qe[v],[[188,4,[[189,6]]]]),si=h(y('<!> <div class="grid w-full grid-cols-4"></div>',1),Qe[v],[[198,6]]),ii=h(y('<div role="group" aria-labelledby="month-picker-label"><span id="month-picker-label" class="sr-only">Select month and year</span> <!></div>'),Qe[v],[[193,4,[[194,6]]]]),ci=h(y('<div><!> <div class="grid grid-cols-4 gap-0"></div></div>'),Qe[v],[[213,6,[[215,8]]]]),di=h(y('<div role="group" aria-labelledby="quarter-picker-label"><span id="quarter-picker-label" class="sr-only">Select quarter and year</span> <!></div>'),Qe[v],[[209,4,[[210,6]]]]),ui=h(y('<div><!> <div class="grid grid-cols-2"></div></div>'),Qe[v],[[231,6,[[233,8]]]]),mi=h(y('<div role="group" aria-labelledby="half-year-picker-label"><span id="half-year-picker-label" class="sr-only">Select half year and year</span> <!></div>'),Qe[v],[[227,4,[[228,6]]]]),vi=h(y('<div role="group" aria-labelledby="year-picker-label"><span id="year-picker-label" class="sr-only">Select year</span> <!></div>'),Qe[v],[[245,4,[[246,6]]]]),gi=h(y('<div role="region"><form><fieldset><legend class="sr-only">Select date range type</legend> <!></fieldset> <!> <!></form></div>'),Qe[v],[[157,0,[[158,0,[[159,2,[[160,4]]]]]]]]);function Qe(c,a){et(new.target),tt(a,!0,Qe);let d=Ye(a,"disabled",3,!1),r=Ye(a,"ariaLabel",3,"Advanced date input"),o=D(Ge("day"),"dateType"),g=D(Ge(Pt(fn(ma()))),"value");const T=3,m=6,G=6,Q=fn(ma()),z="en-US",ae=new Qn(z,{month:"long"}),R=Array.from({length:12},(P,f)=>{const W=Q.set({month:f+1});return{value:W.month,label:ae.format(W.toDate(ma()))}}),F=Array.from({length:4},(P,f)=>({value:Q.set({month:f*T+1}).month,label:`Q${f+1}`})),ee=Array.from({length:2},(P,f)=>({value:Q.set({month:f*m+1}).month,label:`H${f+1}`})),E=Array.from({length:G},(P,f)=>({label:String(new Date().getFullYear()-f),value:new Date().getFullYear()-f}));let J=D(Ge(""),"selectedMonth"),re=D(Ge(""),"selectedQuarter"),ne=D(Ge(""),"selectedHalfYear"),ye=D(Ge(""),"selectedYear");new ua,new ua,new ua;const _e=(()=>{let P=null;return()=>(P||(P={month:new ua,quarter:new ua,halfYear:new ua},E.forEach(f=>{R.forEach(W=>{P.month.set(`${f.value}${W.value}`,new tn(f.value,W.value,1))}),F.forEach(W=>{P.quarter.set(`${f.value}${W.value}`,new tn(f.value,W.value,1))}),ee.forEach(W=>{P.halfYear.set(`${f.value}${W.value}`,new tn(f.value,W.value,1))})})),P)})(),ce=()=>{try{switch(e(o)){case"month":return new Qn(z,{month:"short",year:"numeric"}).format(e(g).toDate(ma()));case"year":return new Qn(z,{year:"numeric"}).format(e(g).toDate(ma()));case"quarter":return`Q${Math.ceil(e(g).month/T)} ${e(g).year}`;case"half-year":return`H${Math.ceil(e(g).month/m)} ${e(g).year}`;default:return new Qn(z,{month:"short",day:"2-digit",year:"numeric"}).format(e(g).toDate(ma()))}}catch(P){return console.error(...La("error","Error formatting date:",P)),"Invalid Date"}},X=P=>{P.preventDefault();try{const f={value:B(e(o),"day",!1)?`${e(o)}:${e(g).toString()}`:e(g).toString(),label:ce()};a.onSubmit(f)}catch(f){console.error(...La("error","Error submitting date:",f))}};var te=gi(),le=A(te),C=A(le),w=s(A(C),2);t(()=>i(w,()=>Tn,(P,f)=>{f(P,{type:"single",variant:"outline",size:"default",role:"radiogroup","aria-labelledby":"date-type-label",get value(){return e(o)},set value(W){ie(o,W,!0)},children:l(Qe,(W,k)=>{var q=ri(),I=u(q);t(()=>i(I,()=>ka,(V,M)=>{M(V,{value:"day","aria-label":"Select specific day",children:l(Qe,(oe,ue)=>{H();var Z=K("Day");n(oe,Z)}),$$slots:{default:!0}})}),"component",Qe,169,6,{componentTag:"ToggleGroup.Item"});var N=s(I,2);t(()=>i(N,()=>ka,(V,M)=>{M(V,{value:"month","aria-label":"Select entire month",children:l(Qe,(oe,ue)=>{H();var Z=K("Month");n(oe,Z)}),$$slots:{default:!0}})}),"component",Qe,172,6,{componentTag:"ToggleGroup.Item"});var O=s(N,2);t(()=>i(O,()=>ka,(V,M)=>{M(V,{value:"quarter","aria-label":"Select quarter (3 months)",children:l(Qe,(oe,ue)=>{H();var Z=K("Quarter");n(oe,Z)}),$$slots:{default:!0}})}),"component",Qe,175,6,{componentTag:"ToggleGroup.Item"});var Y=s(O,2);t(()=>i(Y,()=>ka,(V,M)=>{M(V,{value:"half-year","aria-label":"Select half year (6 months)",children:l(Qe,(oe,ue)=>{H();var Z=K("Half Year");n(oe,Z)}),$$slots:{default:!0}})}),"component",Qe,178,6,{componentTag:"ToggleGroup.Item"});var $=s(Y,2);t(()=>i($,()=>ka,(V,M)=>{M(V,{value:"year","aria-label":"Select entire year",children:l(Qe,(oe,ue)=>{H();var Z=K("Year");n(oe,Z)}),$$slots:{default:!0}})}),"component",Qe,181,6,{componentTag:"ToggleGroup.Item"}),n(W,q)}),$$slots:{default:!0}})}),"component",Qe,161,4,{componentTag:"ToggleGroup.Root"}),S(C);var U=s(C,2);{var x=P=>{var f=li(),W=s(A(f),2);t(()=>Cn(W,{type:"single",numberOfMonths:2,class:"p-0",get value(){return e(g)},set value(k){ie(g,k,!0)}}),"component",Qe,190,6,{componentTag:"Calendar"}),S(f),n(P,f)},_=P=>{var f=L(),W=u(f);{var k=I=>{var N=ii(),O=s(A(N),2);t(()=>i(O,()=>Tn,(Y,$)=>{$(Y,{type:"single",variant:"outline",onValueChange:V=>{if(V){const M=_e().month.get(V);M&&ie(g,M,!0)}else ie(J,"")},class:"items-start justify-start grid h-[360px] overflow-auto",get value(){return e(J)},set value(V){ie(J,V,!0)},children:l(Qe,(V,M)=>{var oe=L(),ue=u(oe);xa(()=>E,Z=>Z),t(()=>rt(ue,16,()=>E,Z=>Z,(Z,j)=>{var ge=si(),ve=u(ge);t(()=>It(ve,{class:"my-2",children:l(Qe,($e,me)=>{H();var fe=K();xe(()=>Te(fe,j.label)),n($e,fe)}),$$slots:{default:!0}}),"component",Qe,197,6,{componentTag:"Label"});var Ie=s(ve,2);xa(()=>R,$e=>$e),t(()=>rt(Ie,20,()=>R,$e=>$e,($e,me)=>{var fe=L(),de=u(fe);{let be=p(()=>j.value+(me.value+""));t(()=>i(de,()=>ka,(he,Re)=>{Re(he,{get value(){return e(be)},get"aria-label"(){return me.label},children:l(Qe,(ke,Ce)=>{H();var De=K();xe(()=>Te(De,me.label)),n(ke,De)}),$$slots:{default:!0}})}),"component",Qe,200,10,{componentTag:"ToggleGroup.Item"})}n($e,fe)}),"each",Qe,199,8),S(Ie),n(Z,ge)}),"each",Qe,196,4),n(V,oe)}),$$slots:{default:!0}})}),"component",Qe,195,6,{componentTag:"ToggleGroup.Root"}),S(N),n(I,N)},q=I=>{var N=L(),O=u(N);{var Y=V=>{var M=di(),oe=s(A(M),2);t(()=>i(oe,()=>Tn,(ue,Z)=>{Z(ue,{type:"single",variant:"outline",onValueChange:j=>{if(j){const ge=_e().quarter.get(j);ge&&ie(g,ge,!0)}else ie(re,"")},class:"items-stretch justify-start grid grid-cols-2 h-[360px] overflow-auto",get value(){return e(re)},set value(j){ie(re,j,!0)},children:l(Qe,(j,ge)=>{var ve=L(),Ie=u(ve);xa(()=>E,$e=>$e),t(()=>rt(Ie,16,()=>E,$e=>$e,($e,me)=>{var fe=ci(),de=A(fe);t(()=>It(de,{class:"my-2",children:l(Qe,(he,Re)=>{H();var ke=K();xe(()=>Te(ke,me.label)),n(he,ke)}),$$slots:{default:!0}}),"component",Qe,214,8,{componentTag:"Label"});var be=s(de,2);xa(()=>F,he=>he),t(()=>rt(be,20,()=>F,he=>he,(he,Re)=>{var ke=L(),Ce=u(ke);{let De=p(()=>me.value+(Re.value+""));t(()=>i(Ce,()=>ka,(Fe,Ve)=>{Ve(Fe,{get value(){return e(De)},get"aria-label"(){return Re.label},children:l(Qe,(we,Ae)=>{H();var ze=K();xe(()=>Te(ze,Re.label)),n(we,ze)}),$$slots:{default:!0}})}),"component",Qe,217,12,{componentTag:"ToggleGroup.Item"})}n(he,ke)}),"each",Qe,216,10),S(be),S(fe),n($e,fe)}),"each",Qe,212,4),n(j,ve)}),$$slots:{default:!0}})}),"component",Qe,211,6,{componentTag:"ToggleGroup.Root"}),S(M),n(V,M)},$=V=>{var M=L(),oe=u(M);{var ue=j=>{var ge=mi(),ve=s(A(ge),2);t(()=>i(ve,()=>Tn,(Ie,$e)=>{$e(Ie,{type:"single",variant:"outline",onValueChange:me=>{if(me){const fe=_e().halfYear.get(me);fe&&ie(g,fe,!0)}else ie(ne,"")},class:"items-start justify-start grid grid-cols-3 gap-2 h-[360px] overflow-auto",get value(){return e(ne)},set value(me){ie(ne,me,!0)},children:l(Qe,(me,fe)=>{var de=L(),be=u(de);xa(()=>E,he=>he),t(()=>rt(be,16,()=>E,he=>he,(he,Re)=>{var ke=ui(),Ce=A(ke);t(()=>It(Ce,{class:"my-2 text-center block",children:l(Qe,(Fe,Ve)=>{H();var we=K();xe(()=>Te(we,Re.label)),n(Fe,we)}),$$slots:{default:!0}}),"component",Qe,232,8,{componentTag:"Label"});var De=s(Ce,2);xa(()=>ee,Fe=>Fe),t(()=>rt(De,20,()=>ee,Fe=>Fe,(Fe,Ve)=>{var we=L(),Ae=u(we);{let ze=p(()=>`${Re.value}${Ve.value}`);t(()=>i(Ae,()=>ka,(Pe,Me)=>{Me(Pe,{get value(){return e(ze)},get"aria-label"(){return`${Ve.label??""} ${Re.label??""}`},children:l(Qe,(Be,Ue)=>{H();var Ee=K();xe(()=>Te(Ee,Ve.label)),n(Be,Ee)}),$$slots:{default:!0}})}),"component",Qe,235,12,{componentTag:"ToggleGroup.Item"})}n(Fe,we)}),"each",Qe,234,10),S(De),S(ke),n(he,ke)}),"each",Qe,230,4),n(me,de)}),$$slots:{default:!0}})}),"component",Qe,229,6,{componentTag:"ToggleGroup.Root"}),S(ge),n(j,ge)},Z=j=>{var ge=L(),ve=u(ge);{var Ie=$e=>{var me=vi(),fe=s(A(me),2);t(()=>i(fe,()=>Tn,(de,be)=>{be(de,{type:"single",variant:"outline",onValueChange:he=>{he?ie(g,new tn(parseInt(he),1,1),!0):ie(ye,"")},class:"items-start justify-start grid grid-cols-3 h-[360px] overflow-auto",get value(){return e(ye)},set value(he){ie(ye,he,!0)},children:l(Qe,(he,Re)=>{var ke=L(),Ce=u(ke);xa(()=>E,De=>De),t(()=>rt(Ce,16,()=>E,De=>De,(De,Fe)=>{var Ve=L(),we=u(Ve);{let Ae=p(()=>`${Fe.value}`);t(()=>i(we,()=>ka,(ze,Pe)=>{Pe(ze,{get value(){return e(Ae)},get"aria-label"(){return Fe.label},children:l(Qe,(Me,Be)=>{H();var Ue=K();xe(()=>Te(Ue,Fe.label)),n(Me,Ue)}),$$slots:{default:!0}})}),"component",Qe,249,6,{componentTag:"ToggleGroup.Item"})}n(De,Ve)}),"each",Qe,248,4),n(he,ke)}),$$slots:{default:!0}})}),"component",Qe,247,6,{componentTag:"ToggleGroup.Root"}),S(me),n($e,me)};t(()=>pe(ve,$e=>{B(e(o),"year")&&$e(Ie)},!0),"if",Qe,244,2)}n(j,ge)};t(()=>pe(oe,j=>{B(e(o),"half-year")?j(ue):j(Z,!1)},!0),"if",Qe,226,2)}n(V,M)};t(()=>pe(O,V=>{B(e(o),"quarter")?V(Y):V($,!1)},!0),"if",Qe,208,2)}n(I,N)};t(()=>pe(W,I=>{B(e(o),"month")?I(k):I(q,!1)},!0),"if",Qe,192,2)}n(P,f)};t(()=>pe(U,P=>{B(e(o),"day")?P(x):P(_,!1)}),"if",Qe,187,2)}var b=s(U,2);return t(()=>Ke(b,{type:"submit",get disabled(){return d()},children:l(Qe,(P,f)=>{H();var W=K("Apply");n(P,W)}),$$slots:{default:!0}}),"component",Qe,257,2,{componentTag:"Button"}),S(le),S(te),xe(()=>Da(te,"aria-label",r())),Hr("submit",le,X),n(c,te),at({...nt()})}oa[v]="src/lib/components/input/date-input.svelte";var pi=h(y("<!> ",1),oa[v],[]),fi=h(y("<!> <!>",1),oa[v],[]);function oa(c,a){et(new.target),tt(a,!0,oa);let d=Ye(a,"value",15);var r=L(),o=u(r);return t(()=>i(o,()=>fa,(g,T)=>{T(g,{children:l(oa,(m,G)=>{var Q=fi(),z=u(Q);{const R=l(oa,function(F,ee){Ct(...arguments);let E=()=>ee?.().props;E();{let J=p(()=>Gt("w-full justify-start text-left font-normal",a.buttonClass));t(()=>Ke(F,yt(E,{variant:"outline",get class(){return e(J)},children:l(oa,(re,ne)=>{var ye=pi(),_e=u(ye);t(()=>mo(_e,{class:"-mt-1 mr-1 inline-block size-4"}),"component",oa,31,8,{componentTag:"CalendarDays"});var ce=s(_e);xe(X=>Te(ce,` ${X??""}`),[()=>Yr.format(d()?d().toDate(ma()):fn(ma()).toDate(ma()))]),n(re,ye)}),$$slots:{default:!0}})),"component",oa,26,6,{componentTag:"Button"})}});t(()=>i(z,()=>_a,(F,ee)=>{ee(F,{child:R,$$slots:{child:!0}})}),"component",oa,24,2,{componentTag:"Popover.Trigger"})}var ae=s(z,2);t(()=>i(ae,()=>ha,(R,F)=>{F(R,{class:"w-auto p-0",align:"start",children:l(oa,(ee,E)=>{{let J=p(()=>d()??fn(ma()));t(()=>Cn(ee,{type:"single",get value(){return e(J)},onValueChange:re=>{d(re),a.handleSubmit&&a.handleSubmit(re)},initialFocus:!0}),"component",oa,41,4,{componentTag:"Calendar"})}}),$$slots:{default:!0}})}),"component",oa,40,2,{componentTag:"Popover.Content"}),n(m,Q)}),$$slots:{default:!0}})}),"component",oa,23,0,{componentTag:"Popover.Root"}),n(c,r),at({...nt()})}Le[v]="src/lib/components/input/display-input.svelte";var _i=h(y("<!> Display",1),Le[v],[]),hi=h(y('<div class="hidden space-x-1 lg:flex"><!></div>'),Le[v],[[50,14]]),yi=h(y("<!> <!>",1),Le[v],[]),bi=h(y(" <!>",1),Le[v],[]),$i=h(y('<div class="hidden space-x-1 lg:flex"><!></div>'),Le[v],[[87,14]]),xi=h(y("<!> <!>",1),Le[v],[]),Ti=h(y(" <!>",1),Le[v],[]),wi=h(y("<!> <!>",1),Le[v],[]),Ci=h(y('<div class="hidden space-x-1 lg:flex"><!></div>'),Le[v],[[181,14]]),Pi=h(y("<!> <!>",1),Le[v],[]),Si=h(y('<div class="grid gap-2"><div class="grid grid-cols-3 items-center gap-4"><!> <!></div> <div class="grid grid-cols-3 items-center gap-4"><!> <!></div> <div class="grid grid-cols-3 items-center gap-4"><!> <!></div></div> <div class="mt-4 flex justify-start"><!> <!></div>',1),Le[v],[[35,4,[[36,6],[76,6],[158,6]]],[208,4]]),Di=h(y("<!> <!>",1),Le[v],[]);function Le(c,a){et(new.target),tt(a,!0,Le);const d=D(p(()=>ba.get().activeView),"currentView"),r=D(p(()=>e(d).table),"table"),o=D(p(()=>e(r).getAllColumns().filter(F=>F.getCanGroup())),"groupableColumns"),g=D(p(()=>e(r).getAllColumns().filter(F=>F.getCanSort())),"sortableColumns"),T=D(p(()=>e(r).getAllColumns().filter(F=>F.getCanHide())),"visiableColumns"),m=D(p(()=>e(d).view.getGrouping()),"grouping"),G=D(p(()=>e(d).view.getSorting()),"sorting"),Q=D(p(()=>e(d).view.getVisibility()),"visibility"),z=D(p(()=>e(T).filter(F=>!Object.keys(e(Q)).includes(F.id)||B(e(Q)[F.id],!0))),"visibleColumns");var ae=L(),R=u(ae);return t(()=>i(R,()=>fa,(F,ee)=>{ee(F,{children:l(Le,(E,J)=>{var re=Di(),ne=u(re);{let _e=p(()=>Gt(Ea({variant:"outline"}),"h-8"));t(()=>i(ne,()=>_a,(ce,X)=>{X(ce,{get class(){return e(_e)},children:l(Le,(te,le)=>{var C=_i(),w=u(C);t(()=>ol(w,{}),"component",Le,31,4,{componentTag:"SlidersHorizontal"}),H(),n(te,C)}),$$slots:{default:!0}})}),"component",Le,30,2,{componentTag:"Popover.Trigger"})}var ye=s(ne,2);t(()=>i(ye,()=>ha,(_e,ce)=>{ce(_e,{class:"w-80",children:l(Le,(X,te)=>{var le=Si(),C=u(le),w=A(C),U=A(w);t(()=>It(U,{for:"grouping",children:l(Le,(O,Y)=>{H();var $=K("Grouping");n(O,$)}),$$slots:{default:!0}}),"component",Le,37,8,{componentTag:"Label"});var x=s(U,2);{let O=p(()=>e(d).view.getGrouping());t(()=>i(x,()=>Ta,(Y,$)=>{$(Y,{type:"multiple",name:"grouping",get value(){return e(O)},onValueChange:V=>{e(d).updateTableGrouping(V)},children:l(Le,(V,M)=>{var oe=yi(),ue=u(oe);t(()=>i(ue,()=>wa,(j,ge)=>{ge(j,{class:"w-[180px]",children:l(Le,(ve,Ie)=>{var $e=L(),me=u($e);{var fe=be=>{t(()=>Xt(be,{variant:"secondary",children:l(Le,(he,Re)=>{H();var ke=K("none selected");n(he,ke)}),$$slots:{default:!0}}),"component",Le,48,14,{componentTag:"Badge"})},de=be=>{var he=hi(),Re=A(he);{var ke=De=>{t(()=>Xt(De,{variant:"secondary",class:"rounded-sm px-1 font-normal",children:l(Le,(Fe,Ve)=>{H();var we=K();xe(()=>Te(we,`${e(m).length??""} selected`)),n(Fe,we)}),$$slots:{default:!0}}),"component",Le,52,18,{componentTag:"Badge"})},Ce=De=>{var Fe=L(),Ve=u(Fe);t(()=>rt(Ve,17,()=>e(o).filter(we=>e(m).includes(we.id)),ut,(we,Ae)=>{t(()=>Xt(we,{variant:"secondary",class:"rounded-sm px-1 font-normal",children:l(Le,(ze,Pe)=>{H();var Me=K();xe(()=>Te(Me,e(Ae).columnDef.meta?.label)),n(ze,Me)}),$$slots:{default:!0}}),"component",Le,57,20,{componentTag:"Badge"})}),"each",Le,56,18),n(De,Fe)};t(()=>pe(Re,De=>{e(m).length>2?De(ke):De(Ce,!1)}),"if",Le,51,16)}S(he),n(be,he)};t(()=>pe(me,be=>{B(e(m).length,0)?be(fe):be(de,!1)}),"if",Le,47,12)}n(ve,$e)}),$$slots:{default:!0}})}),"component",Le,46,10,{componentTag:"Select.Trigger"});var Z=s(ue,2);t(()=>i(Z,()=>Ca,(j,ge)=>{ge(j,{children:l(Le,(ve,Ie)=>{var $e=L(),me=u($e);t(()=>i(me,()=>Bo,(fe,de)=>{de(fe,{children:l(Le,(be,he)=>{var Re=L(),ke=u(Re);t(()=>rt(ke,17,()=>e(o),ut,(Ce,De)=>{var Fe=L(),Ve=u(Fe);{let we=p(()=>e(De).columnDef.meta?.label??e(De).id);t(()=>i(Ve,()=>ra,(Ae,ze)=>{ze(Ae,{get value(){return e(De).id},get label(){return e(we)},children:l(Le,(Pe,Me)=>{H();var Be=K();xe(()=>Te(Be,e(De).columnDef.meta?.label??e(De).id)),n(Pe,Be)}),$$slots:{default:!0}})}),"component",Le,68,16,{componentTag:"Select.Item"})}n(Ce,Fe)}),"each",Le,67,14),n(be,Re)}),$$slots:{default:!0}})}),"component",Le,66,12,{componentTag:"Select.Group"}),n(ve,$e)}),$$slots:{default:!0}})}),"component",Le,65,10,{componentTag:"Select.Content"}),n(V,oe)}),$$slots:{default:!0}})}),"component",Le,38,8,{componentTag:"Select.Root"})}S(w);var _=s(w,2),b=A(_);t(()=>It(b,{children:l(Le,(O,Y)=>{H();var $=K("Sorting");n(O,$)}),$$slots:{default:!0}}),"component",Le,77,8,{componentTag:"Label"});var P=s(b,2);t(()=>i(P,()=>$o,(O,Y)=>{Y(O,{children:l(Le,($,V)=>{var M=wi(),oe=u(M);{let Z=p(()=>Gt("flex h-9 w-[180px] items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm text-muted-foreground shadow-sm ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1"));t(()=>i(oe,()=>xo,(j,ge)=>{ge(j,{get class(){return e(Z)},children:l(Le,(ve,Ie)=>{var $e=xi(),me=u($e);{var fe=he=>{t(()=>Xt(he,{variant:"secondary",children:l(Le,(Re,ke)=>{H();var Ce=K("none selected");n(Re,Ce)}),$$slots:{default:!0}}),"component",Le,85,14,{componentTag:"Badge"})},de=he=>{var Re=$i(),ke=A(Re);{var Ce=Fe=>{t(()=>Xt(Fe,{variant:"secondary",class:"rounded-sm px-1 text-xs font-semibold",children:l(Le,(Ve,we)=>{H();var Ae=K();xe(()=>Te(Ae,`${e(G).length??""} selected`)),n(Ve,Ae)}),$$slots:{default:!0}}),"component",Le,89,18,{componentTag:"Badge"})},De=Fe=>{var Ve=L(),we=u(Ve);t(()=>rt(we,17,()=>e(G),ut,(Ae,ze)=>{const Pe=D(p(()=>e(g).find(Ee=>B(e(ze).id,Ee.id))),"col");e(Pe);var Me=L(),Be=u(Me);{var Ue=Ee=>{t(()=>Xt(Ee,{variant:"secondary",class:"rounded-sm px-1 text-xs font-semibold",children:l(Le,(Ze,ot)=>{H();var _t=bi(),ct=u(_t),bt=s(ct);{var Bt=Ot=>{t(()=>Oo(Ot,{class:"ml-1 size-4"}),"component",Le,99,26,{componentTag:"CircleChevronDown"})},Tt=Ot=>{t(()=>kr(Ot,{class:"ml-1 size-4"}),"component",Le,101,26,{componentTag:"CircleChevronUp"})};t(()=>pe(bt,Ot=>{e(ze).desc?Ot(Bt):Ot(Tt,!1)}),"if",Le,98,24)}xe(()=>Te(ct,`${e(Pe).columnDef.meta?.label??""} `)),n(Ze,_t)}),$$slots:{default:!0}}),"component",Le,96,22,{componentTag:"Badge"})};t(()=>pe(Be,Ee=>{e(Pe)&&Ee(Ue)}),"if",Le,95,20)}n(Ae,Me)}),"each",Le,93,18),n(Fe,Ve)};t(()=>pe(ke,Fe=>{e(G).length>2?Fe(Ce):Fe(De,!1)}),"if",Le,88,16)}S(Re),n(he,Re)};t(()=>pe(me,he=>{B(e(G).length,0)?he(fe):he(de,!1)}),"if",Le,84,12)}var be=s(me,2);t(()=>Oo(be,{class:"size-4 opacity-50"}),"component",Le,109,12,{componentTag:"ChevronDown"}),n(ve,$e)}),$$slots:{default:!0}})}),"component",Le,79,10,{componentTag:"DropdownMenu.Trigger"})}var ue=s(oe,2);t(()=>i(ue,()=>To,(Z,j)=>{j(Z,{children:l(Le,(ge,ve)=>{var Ie=L(),$e=u(Ie);t(()=>i($e,()=>ar,(me,fe)=>{fe(me,{children:l(Le,(de,be)=>{var he=L(),Re=u(he);t(()=>rt(Re,17,()=>e(g),ut,(ke,Ce)=>{var De=L(),Fe=u(De);t(()=>i(Fe,()=>dn,(Ve,we)=>{we(Ve,{onSelect:()=>{let Ae=e(d).view.getSorting();e(G).find(ze=>B(ze.id,e(Ce).id))?Ae=Ae.map(ze=>B(ze.id,e(Ce).id,!1)?ze:B(ze.desc,!0)?!1:B(ze.desc,!1)?Object.assign({},ze,{desc:!0}):{id:e(Ce).id,desc:!1}).filter(Boolean):Ae.push({id:e(Ce).id,desc:!1}),e(d).updateTableSorting(Ae)},closeOnSelect:!1,children:l(Le,(Ae,ze)=>{const Pe=D(p(()=>e(G).find(ot=>B(ot.id,e(Ce).id))),"sorter");e(Pe),H();var Me=Ti(),Be=u(Me),Ue=s(Be);{var Ee=ot=>{t(()=>Oo(ot,{class:"absolute right-0 mr-1"}),"component",Le,148,20,{componentTag:"CircleChevronDown"})},Ze=ot=>{var _t=L(),ct=u(_t);{var bt=Bt=>{t(()=>kr(Bt,{class:"absolute right-0 mr-1"}),"component",Le,150,20,{componentTag:"CircleChevronUp"})};t(()=>pe(ct,Bt=>{e(Pe)&&!e(Pe).desc&&Bt(bt)},!0),"if",Le,149,18)}n(ot,_t)};t(()=>pe(Ue,ot=>{e(Pe)&&e(Pe).desc?ot(Ee):ot(Ze,!1)}),"if",Le,147,18)}xe(()=>Te(Be,`${e(Ce).columnDef.meta?.label??""} `)),n(Ae,Me)}),$$slots:{default:!0}})}),"component",Le,114,16,{componentTag:"DropdownMenu.Item"}),n(ke,De)}),"each",Le,113,14),n(de,he)}),$$slots:{default:!0}})}),"component",Le,112,12,{componentTag:"DropdownMenu.Group"}),n(ge,Ie)}),$$slots:{default:!0}})}),"component",Le,111,10,{componentTag:"DropdownMenu.Content"}),n($,M)}),$$slots:{default:!0}})}),"component",Le,78,8,{componentTag:"DropdownMenu.Root"}),S(_);var f=s(_,2),W=A(f);t(()=>It(W,{children:l(Le,(O,Y)=>{H();var $=K("Visibility");n(O,$)}),$$slots:{default:!0}}),"component",Le,159,8,{componentTag:"Label"});var k=s(W,2);{let O=p(()=>e(z).map(Y=>Y.id));t(()=>i(k,()=>Ta,(Y,$)=>{$(Y,{type:"multiple",name:"visibility",get value(){return e(O)},onValueChange:V=>{const M=Object.assign({},...e(T).map(oe=>({[oe.id]:!1})),...V.map(oe=>({[oe]:!0})));e(d).updateTableVisibility(M)},children:l(Le,(V,M)=>{var oe=Pi(),ue=u(oe);t(()=>i(ue,()=>wa,(j,ge)=>{ge(j,{class:"w-[180px] text-muted-foreground",children:l(Le,(ve,Ie)=>{var $e=L(),me=u($e);{var fe=be=>{t(()=>Xt(be,{variant:"secondary",children:l(Le,(he,Re)=>{H();var ke=K("none selected");n(he,ke)}),$$slots:{default:!0}}),"component",Le,179,14,{componentTag:"Badge"})},de=be=>{var he=Ci(),Re=A(he);{var ke=De=>{t(()=>Xt(De,{variant:"secondary",class:"rounded-sm px-1 font-normal",children:l(Le,(Fe,Ve)=>{H();var we=K();xe(()=>Te(we,`${e(z).length??""} selected`)),n(Fe,we)}),$$slots:{default:!0}}),"component",Le,183,18,{componentTag:"Badge"})},Ce=De=>{var Fe=L(),Ve=u(Fe);t(()=>rt(Ve,17,()=>e(z),ut,(we,Ae)=>{t(()=>Xt(we,{variant:"secondary",class:"rounded-sm px-1 font-normal",children:l(Le,(ze,Pe)=>{H();var Me=K();xe(()=>Te(Me,e(Ae).columnDef.meta?.label)),n(ze,Me)}),$$slots:{default:!0}}),"component",Le,188,20,{componentTag:"Badge"})}),"each",Le,187,18),n(De,Fe)};t(()=>pe(Re,De=>{e(z).length>2?De(ke):De(Ce,!1)}),"if",Le,182,16)}S(he),n(be,he)};t(()=>pe(me,be=>{B(e(z).length,0)?be(fe):be(de,!1)}),"if",Le,178,12)}n(ve,$e)}),$$slots:{default:!0}})}),"component",Le,177,10,{componentTag:"Select.Trigger"});var Z=s(ue,2);t(()=>i(Z,()=>Ca,(j,ge)=>{ge(j,{children:l(Le,(ve,Ie)=>{var $e=L(),me=u($e);t(()=>i(me,()=>Bo,(fe,de)=>{de(fe,{children:l(Le,(be,he)=>{var Re=L(),ke=u(Re);t(()=>rt(ke,17,()=>e(T),ut,(Ce,De)=>{var Fe=L(),Ve=u(Fe);{let we=p(()=>e(De).columnDef.meta?.label??e(De).id);t(()=>i(Ve,()=>ra,(Ae,ze)=>{ze(Ae,{get value(){return e(De).id},get label(){return e(we)},children:l(Le,(Pe,Me)=>{H();var Be=K();xe(()=>Te(Be,e(De).columnDef.meta?.label??e(De).id)),n(Pe,Be)}),$$slots:{default:!0}})}),"component",Le,199,16,{componentTag:"Select.Item"})}n(Ce,Fe)}),"each",Le,198,14),n(be,Re)}),$$slots:{default:!0}})}),"component",Le,197,12,{componentTag:"Select.Group"}),n(ve,$e)}),$$slots:{default:!0}})}),"component",Le,196,10,{componentTag:"Select.Content"}),n(V,oe)}),$$slots:{default:!0}})}),"component",Le,160,8,{componentTag:"Select.Root"})}S(f),S(C);var q=s(C,2),I=A(q);{let O=p(()=>B(typeof e(d).view.getExpanded(),"boolean")&&e(d).view.getExpanded()),Y=p(()=>B(e(m).length,0));t(()=>qo(I,{id:"expand-all",get checked(){return e(O)},onCheckedChange:$=>{e(d).updateTableAllRowsExpanded($?!0:{})},"aria-labelledby":"Expand all rows",get disabled(){return e(Y)}}),"component",Le,209,6,{componentTag:"Switch"})}var N=s(I,2);t(()=>It(N,{for:"expand-all",class:"ml-1 text-sm font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l(Le,(O,Y)=>{H();var $=K("Expand All");n(O,$)}),$$slots:{default:!0}}),"component",Le,219,6,{componentTag:"Label"}),S(q),n(X,le)}),$$slots:{default:!0}})}),"component",Le,34,2,{componentTag:"Popover.Content"}),n(E,re)}),$$slots:{default:!0}})}),"component",Le,29,0,{componentTag:"Popover.Root"}),n(c,ae),at({...nt()})}lt[v]="src/lib/components/input/entity-input.svelte";var Fi=h(y("<!> ",1),lt[v],[]),Ii=h(y('<!> <div class="flex-grow"> </div> <!>',1),lt[v],[[153,18]]),ki=h(y("<!> <!>",1),lt[v],[]),Ai=h(y('<div class="flex"><!> <!></div> <!>',1),lt[v],[[126,10]]),Vi=h(y('<div class="p-2"><!> <!></div>'),lt[v],[[175,8]]),Ri=h(y("<!> <!>",1),lt[v],[]),Mi=h(y("<div><!></div>"),lt[v],[[98,0]]);function lt(c,a){et(new.target),tt(a,!0,lt);let d=Ye(a,"value",15);const r=()=>a.entities.find(ne=>cn(ne.id,d()?.id));let o=D(p(()=>d()?.name),"label"),g=D(p(r),"selected"),T=D(Ge(!1),"open"),m=D(Ge(!1),"manage"),G=D(Ge(0),"managingId");if(a.defaultValue){const ne=a.entities.find(ye=>B(ye.id,a.defaultValue));ne&&d(ne)}const Q=ne=>{ie(m,!e(m)),e(m)||ie(G,0)},z=(ne,ye)=>{a.management?.onSave(ne,ye),ie(G,0),ie(m,!1),a.handleSubmit&&a.handleSubmit(ne)},ae=ne=>{a.management?.onDelete(ne),ie(G,0),ie(m,!1),a.handleSubmit&&a.handleSubmit(void 0)},R=()=>{ie(G,0),ie(m,!0)};let F=D(Ge(""),"searchValue");const ee=D(p(()=>new _l(a.entities,{keys:["name"],includeScore:!0})),"fused");let E=D(Ge(Pt(a.entities)),"visibleEntities");Ut(()=>{e(F)?ie(E,e(ee).search(e(F)).map(ne=>ne.item),!0):ie(E,a.entities,!0)});var J=Mi(),re=A(J);return t(()=>i(re,()=>fa,(ne,ye)=>{ye(ne,{onOpenChange:_e=>{_e||ie(m,!1)},get open(){return e(T)},set open(_e){ie(T,_e,!0)},children:l(lt,(_e,ce)=>{var X=Ri(),te=u(X);{const C=l(lt,function(w,U){Ct(...arguments);let x=()=>U?.().props;x();{let _=p(()=>Gt("block justify-start overflow-hidden text-ellipsis whitespace-nowrap text-left font-normal",!d()&&"text-muted-foreground",a.buttonClass||"w-48"));t(()=>Ke(w,yt(x,{variant:"outline",get class(){return e(_)},children:l(lt,(b,P)=>{var f=Fi(),W=u(f);t(()=>i(W,()=>a.icon,(q,I)=>{I(q,{class:"-mt-1 mr-1 inline-block size-4"})}),"component",lt,118,10,{componentTag:"Icon"});var k=s(W);xe(()=>Te(k,` ${e(o)??""}`)),n(b,f)}),$$slots:{default:!0}})),"component",lt,109,8,{componentTag:"Button"})}});t(()=>i(te,()=>_a,(w,U)=>{U(w,{child:C,$$slots:{child:!0}})}),"component",lt,107,4,{componentTag:"Popover.Trigger"})}var le=s(te,2);t(()=>i(le,()=>ha,(C,w)=>{w(C,{class:"p-0",align:"start",children:l(lt,(U,x)=>{var _=L(),b=u(_);{var P=W=>{var k=L(),q=u(k);t(()=>i(q,()=>no,(I,N)=>{N(I,{shouldFilter:!1,children:l(lt,(O,Y)=>{var $=Ai(),V=u($),M=A(V);t(()=>i(M,()=>el,(j,ge)=>{ge(j,{get placeholder(){return`Search ${a.entityLabel??""}...`},get value(){return e(F)},set value(ve){ie(F,ve,!0)}})}),"component",lt,127,12,{componentTag:"Command.Input"});var oe=s(M,2);{var ue=j=>{t(()=>Ke(j,{size:"icon",class:"h-11 w-12 rounded-none border-b shadow-none",onclick:R,children:l(lt,(ge,ve)=>{t(()=>vs(ge,{}),"component",lt,134,16,{componentTag:"Plus"})}),$$slots:{default:!0}}),"component",lt,129,14,{componentTag:"Button"})};t(()=>pe(oe,j=>{a.management?.enable&&j(ue)}),"if",lt,128,12)}S(V);var Z=s(V,2);t(()=>i(Z,()=>oo,(j,ge)=>{ge(j,{children:l(lt,(ve,Ie)=>{var $e=ki(),me=u($e);t(()=>i(me,()=>jo,(de,be)=>{be(de,{children:l(lt,(he,Re)=>{H();var ke=K("No results found.");n(he,ke)}),$$slots:{default:!0}})}),"component",lt,139,12,{componentTag:"Command.Empty"});var fe=s(me,2);t(()=>i(fe,()=>sn,(de,be)=>{be(de,{children:l(lt,(he,Re)=>{var ke=L(),Ce=u(ke);t(()=>rt(Ce,17,()=>e(E),ut,(De,Fe)=>{var Ve=L(),we=u(Ve);{let Ae=p(()=>e(Fe).id+""),ze=p(()=>Gt(cn(d()?.id,e(Fe).id)&&"bg-muted"));t(()=>i(we,()=>en,(Pe,Me)=>{Me(Pe,{get value(){return e(Ae)},get class(){return e(ze)},onSelect:()=>{d(e(Fe)),a.handleSubmit&&a.handleSubmit(e(Fe))},children:l(lt,(Be,Ue)=>{var Ee=Ii(),Ze=u(Ee);{let Bt=p(()=>Gt(cn(e(g)?.id,e(Fe).id,!1)&&"text-transparent"));t(()=>Xo(Ze,{get class(){return e(Bt)}}),"component",lt,152,18,{componentTag:"Check"})}var ot=s(Ze,2),_t=A(ot,!0);S(ot);var ct=s(ot,2);{var bt=Bt=>{t(()=>Ke(Bt,{variant:"outline",size:"icon",class:"mr-1 p-1 text-xs",onclick:Tt=>{ie(G,e(Fe).id,!0),Q(Tt)},children:l(lt,(Tt,Ot)=>{t(()=>rl(Tt,{}),"component",lt,166,22,{componentTag:"Pencil"})}),$$slots:{default:!0}}),"component",lt,157,20,{componentTag:"Button"})};t(()=>pe(ct,Bt=>{a.management?.enable&&Bt(bt)}),"if",lt,156,18)}xe(()=>Te(_t,e(Fe).name)),n(Be,Ee)}),$$slots:{default:!0}})}),"component",lt,142,16,{componentTag:"Command.Item"})}n(De,Ve)}),"each",lt,141,14),n(he,ke)}),$$slots:{default:!0}})}),"component",lt,140,12,{componentTag:"Command.Group"}),n(ve,$e)}),$$slots:{default:!0}})}),"component",lt,138,10,{componentTag:"Command.List"}),n(O,$)}),$$slots:{default:!0}})}),"component",lt,125,8,{componentTag:"Command.Root"}),n(W,k)},f=W=>{var k=Vi(),q=A(k);t(()=>Ke(q,{variant:"outline",size:"icon",onclick:Q,children:l(lt,(Y,$)=>{t(()=>gs(Y,{class:"size-4"}),"component",lt,177,12,{componentTag:"MoveLeft"})}),$$slots:{default:!0}}),"component",lt,176,10,{componentTag:"Button"});var I=s(q,2);{var N=Y=>{var $=L(),V=u($);t(()=>i(V,()=>a.management.component,(M,oe)=>{oe(M,{get id(){return e(G)},onSave:z,onDelete:ae})}),"component",lt,180,12,{componentTag:"management.component"}),n(Y,$)},O=Y=>{var $=L(),V=u($);{var M=oe=>{var ue=L(),Z=u(ue);t(()=>i(Z,()=>a.management.component,(j,ge)=>{ge(j,{onSave:z})}),"component",lt,182,12,{componentTag:"management.component"}),n(oe,ue)};t(()=>pe(V,oe=>{a.management&&oe(M)},!0),"if",lt,181,10)}n(Y,$)};t(()=>pe(I,Y=>{e(G)>0&&a.management?Y(N):Y(O,!1)}),"if",lt,179,10)}S(k),n(W,k)};t(()=>pe(b,W=>{e(m)?W(f,!1):W(P)}),"if",lt,124,6)}n(U,_)}),$$slots:{default:!0}})}),"component",lt,123,4,{componentTag:"Popover.Content"}),n(_e,X)}),$$slots:{default:!0}})}),"component",lt,99,2,{componentTag:"Popover.Root"}),S(J),xe(ne=>Oa(J,1,ne),[()=>Dn(Gt("flex items-center space-x-4",a.class))]),n(c,J),at({...nt()})}Vt[v]="src/lib/components/input/filter-input.svelte";var Li=h(y("<!> Filter",1),Vt[v],[]),Oi=h(y("<!> <span> </span>",1),Vt[v],[[63,12]]),zi=h(y("<!> <!>",1),Vt[v],[]),Ei=h(y('<div class="flex gap-2"><!> <!></div>'),Vt[v],[[34,0]]);function Vt(c,a){et(new.target),tt(a,!0,Vt);let d=Ye(a,"value",15);const r=D(p(()=>ba.get()?.activeView),"currentView"),o=D(p(()=>e(r)?.view?.getAllFilteredColumns()?.map(Q=>a.availableFilters.find(z=>B(z.column.id,Q)))??[]),"_selectedFilters");let g=D(p(()=>a.availableFilters.filter(Q=>e(o).findIndex(z=>B(z?.name,Q.name))<0)),"selectableFilters");var T=Ei(),m=A(T);t(()=>rt(m,17,()=>e(o),ut,(Q,z)=>{var ae=L(),R=u(ae);{var F=ee=>{const E=D(p(()=>{const{component:ne,props:ye}=e(z).component();return{Component:ne,props:ye}}),"[@const]");e(E);var J=L(),re=u(J);t(()=>i(re,()=>e(E).Component,(ne,ye)=>{ye(ne,yt(()=>e(E).props))}),"component",Vt,38,6,{componentTag:"Component"}),n(ee,J)};t(()=>pe(R,ee=>{e(z)&&ee(F)}),"if",Vt,36,4)}n(Q,ae)}),"each",Vt,35,2);var G=s(m,2);return t(()=>i(G,()=>$o,(Q,z)=>{z(Q,{children:l(Vt,(ae,R)=>{var F=zi(),ee=u(F);{let J=p(()=>Gt(Ea({variant:"outline"}),"h-8"));t(()=>i(ee,()=>xo,(re,ne)=>{ne(re,{get class(){return e(J)},children:l(Vt,(ye,_e)=>{var ce=Li(),X=u(ce);t(()=>ps(X,{}),"component",Vt,44,6,{componentTag:"ListFilterPlus"}),H(),n(ye,ce)}),$$slots:{default:!0}})}),"component",Vt,43,4,{componentTag:"DropdownMenu.Trigger"})}var E=s(ee,2);t(()=>i(E,()=>To,(J,re)=>{re(J,{children:l(Vt,(ne,ye)=>{var _e=L(),ce=u(_e);t(()=>i(ce,()=>ar,(X,te)=>{te(X,{children:l(Vt,(le,C)=>{var w=L(),U=u(w);t(()=>rt(U,17,()=>e(g),ut,(x,_)=>{var b=L(),P=u(b);t(()=>i(P,()=>dn,(f,W)=>{W(f,{onSelect:()=>{e(r).addFilter({column:e(_).column.id,value:e(_).value,filter:e(_).column.columnDef.filterFn?.toString()||""}),d(e(r).view.getAllFilterValues())},children:l(Vt,(k,q)=>{var I=Oi(),N=u(I);{var O=V=>{var M=L(),oe=u(M);t(()=>i(oe,()=>e(_).icon,(ue,Z)=>{Z(ue,{})}),"component",Vt,61,14,{componentTag:"selectableFilter.icon"}),n(V,M)};t(()=>pe(N,V=>{e(_).icon&&V(O)}),"if",Vt,60,12)}var Y=s(N,2),$=A(Y,!0);S(Y),xe(()=>Te($,e(_).name)),n(k,I)}),$$slots:{default:!0}})}),"component",Vt,50,10,{componentTag:"DropdownMenu.Item"}),n(x,b)}),"each",Vt,49,8),n(le,w)}),$$slots:{default:!0}})}),"component",Vt,48,6,{componentTag:"DropdownMenu.Group"}),n(ne,_e)}),$$slots:{default:!0}})}),"component",Vt,47,4,{componentTag:"DropdownMenu.Content"}),n(ae,F)}),$$slots:{default:!0}})}),"component",Vt,42,2,{componentTag:"DropdownMenu.Root"}),S(T),n(c,T),at({...nt()})}ht[v]="src/lib/components/input/numeric-input.svelte";var Ni=h(y('<div class="p-2"><!> <div class="keypad grid grid-cols-3 grid-rows-3 gap-2"><!> <!> <!> <!> <!> <!> <!></div></div>'),ht[v],[[131,6,[[134,8]]]]),Bi=h(y("<!> <!>",1),ht[v],[]),qi=h(y('<div class="flex items-center space-x-4"><!></div>'),ht[v],[[101,0]]);function ht(c,a){et(new.target),tt(a,!0,ht);let d=Ye(a,"value",15),r=D(Ge(Pt(a.open||!1)),"dialogOpen"),o=D(Ge(Pt((d()||0).toFixed(2))),"new_amount"),g=D(Ge(null),"input");const T=E=>()=>{ie(o,e(o)+E)},m=()=>{ie(o,e(o)?.substring(0,e(o).length-1),!0)},G=()=>{ie(o,""),e(g)?.focus()},Q=()=>{d(parseFloat(e(o))),ie(r,!1),a.onSubmit?.()},z=()=>B(e(o)?.match(/\-?\d+?\.\d{2}/),null,!1)&&B(e(o),"0.00",!1),ae=()=>{e(o)&&B(e(o),"0.00",!1)&&B(e(o),"-",!1)?ie(o,(parseFloat(e(o))*-1).toString(),!0):B(e(o),"-")?ie(o,""):ie(o,"-")},R=E=>{if(!e(r))return;e(o)?.includes(".")&&B(E.key,".")&&E.preventDefault();const J=E.target,re=J?.selectionStart||0,ne=J?.selectionEnd||J?.value?.length;switch(E.key){case"Enter":e(o)&&Q();break;case"Backspace":break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":z()&&cn(parseFloat(e(o)),0,!1)&&B(re,ne)&&E.preventDefault();break;case"-":(e(o).length>0&&B(e(o),"0.00",!1)||e(o)?.startsWith("-"))&&E.preventDefault();break;default:E.preventDefault()}};var F=qi();Hr("keydown",hl,R);var ee=A(F);return t(()=>i(ee,()=>fa,(E,J)=>{J(E,{onOpenChange:re=>{re&&cn(parseFloat(e(o)),0)&&ie(o,"")},get open(){return e(r)},set open(re){ie(r,re,!0)},children:l(ht,(re,ne)=>{var ye=Bi(),_e=u(ye);{const X=l(ht,function(te,le){Ct(...arguments);let C=()=>le?.().props;C();{let w=p(()=>Gt("justify-start text-left font-normal",!e(o)&&"text-muted-foreground",a.buttonClass||"w-36"));t(()=>Ke(te,yt(C,{variant:"outline",get class(){return e(w)},children:l(ht,(U,x)=>{H();var _=K();xe(b=>Te(_,b),[()=>Qa.format(parseFloat(e(o))||0)]),n(U,_)}),$$slots:{default:!0}})),"component",ht,113,8,{componentTag:"Button"})}});t(()=>i(_e,()=>_a,(te,le)=>{le(te,{child:X,$$slots:{child:!0}})}),"component",ht,111,4,{componentTag:"Popover.Trigger"})}var ce=s(_e,2);t(()=>i(ce,()=>ha,(X,te)=>{te(X,{class:"p-0",align:"start",onEscapeKeydown:()=>ie(o,d().toString(),!0),children:l(ht,(le,C)=>{var w=Ni(),U=A(w);t(()=>Dt(U,{class:"mb-2",placeholder:"0.00",get value(){return e(o)},set value(I){ie(o,I,!0)},get ref(){return e(g)},set ref(I){ie(g,I,!0)}}),"component",ht,132,8,{componentTag:"Input"});var x=s(U,2),_=A(x);t(()=>rt(_,16,()=>Array.from({length:9},(I,N)=>N+1),ut,(I,N)=>{{let O=p(z),Y=p(()=>T(N.toString()));t(()=>Ke(I,{variant:"outline",get disabled(){return e(O)},get onclick(){return e(Y)},children:l(ht,($,V)=>{H();var M=K();xe(()=>Te(M,N)),n($,M)}),$$slots:{default:!0}}),"component",ht,136,12,{componentTag:"Button"})}}),"each",ht,135,10);var b=s(_,2);{let I=p(()=>e(o)?.includes(".")),N=p(()=>T("."));t(()=>Ke(b,{variant:"outline",get disabled(){return e(I)},get onclick(){return e(N)},children:l(ht,(O,Y)=>{H();var $=K(".");n(O,$)}),$$slots:{default:!0}}),"component",ht,145,10,{componentTag:"Button"})}var P=s(b,2);{let I=p(z),N=p(()=>T("0"));t(()=>Ke(P,{variant:"outline",get disabled(){return e(I)},get onclick(){return e(N)},children:l(ht,(O,Y)=>{H();var $=K("0");n(O,$)}),$$slots:{default:!0}}),"component",ht,148,10,{componentTag:"Button"})}var f=s(P,2);{let I=p(()=>!e(o));t(()=>Ke(f,{variant:"outline",get disabled(){return e(I)},onclick:m,children:l(ht,(N,O)=>{t(()=>fs(N,{}),"component",ht,150,12,{componentTag:"Delete"})}),$$slots:{default:!0}}),"component",ht,149,10,{componentTag:"Button"})}var W=s(f,2);t(()=>Ke(W,{variant:"outline",onclick:ae,children:l(ht,(I,N)=>{var O=L(),Y=u(O);{var $=M=>{var oe=K("-");n(M,oe)},V=M=>{var oe=K("+");n(M,oe)};t(()=>pe(Y,M=>{!e(o)||parseFloat(e(o))>=0?M($):M(V,!1)}),"if",ht,154,12)}n(I,O)}),$$slots:{default:!0}}),"component",ht,153,10,{componentTag:"Button"});var k=s(W,2);{let I=p(()=>!e(o));t(()=>Ke(k,{variant:"outline",get disabled(){return e(I)},onclick:G,children:l(ht,(N,O)=>{H();var Y=K("clear");n(N,Y)}),$$slots:{default:!0}}),"component",ht,160,10,{componentTag:"Button"})}var q=s(k,2);{let I=p(()=>!e(o)||B(e(o),"-"));t(()=>Ke(q,{get disabled(){return e(I)},onclick:Q,children:l(ht,(N,O)=>{H();var Y=K("submit");n(N,Y)}),$$slots:{default:!0}}),"component",ht,161,10,{componentTag:"Button"})}S(x),S(w),n(le,w)}),$$slots:{default:!0}})}),"component",ht,126,4,{componentTag:"Popover.Content"}),n(re,ye)}),$$slots:{default:!0}})}),"component",ht,103,2,{componentTag:"Popover.Root"}),S(F),n(c,F),at({...nt()})}kt[v]="src/lib/components/input/multi-numeric-input.svelte";var ji=h(y("<!> <!>",1),kt[v],[]),Hi=h(y("<!> <!>",1),kt[v],[]),Gi=h(y('<div class="flex items-center space-x-1"><!> <!></div>'),kt[v],[[57,0]]);function kt(c,a){et(new.target),tt(a,!0,kt);var d=ya(a);let r=Ye(a,"value",31,()=>Fn(Pt([0,0]),"value")),o=Ye(a,"type",15,"exact"),g=Fn(Pt([{value:"exact",label:"is exactly"},{value:"approximate",label:"is approximately"},{value:"range",label:"is between"}]),"types"),T=D(Ge(null),"triggerRef"),m=D(Ge(!1),"typeOpen");function G(){ie(m,!1),yl().then(()=>{e(T).focus()})}function Q(E){B(E,"range")&&B(o(),"range",!1)&&(B(r()[1]??0,0)||(r()[1]??0)<=(r()[0]??0))&&d.mutation("value",["value",1],r(r()[1]=(r()[0]??0)+.01,!0),42,8),o(E)}Ut(()=>{B(o(),"range")&&(r()[1]??0)<=(r()[0]??0)&&d.mutation("value",["value",1],r(r()[1]=(r()[0]??0)+.01,!0),52,6)});var z=Gi(),ae=A(z);t(()=>i(ae,()=>fa,(E,J)=>{J(E,{get open(){return e(m)},set open(re){ie(m,re,!0)},children:l(kt,(re,ne)=>{var ye=ji(),_e=u(ye);{const X=l(kt,function(te,le){Ct(...arguments);let C=()=>le?.().props;C(),t(()=>Ke(te,yt({variant:"outline",class:"justify-between"},C,{role:"combobox",get"aria-expanded"(){return a.open},children:l(kt,(w,U)=>{H();var x=K();xe(_=>Te(x,_),[()=>g.find(_=>B(_.value,o()))?.label??"Select Type"]),n(w,x)}),$$slots:{default:!0}})),"component",kt,62,8,{componentTag:"Button"})});t(()=>i(_e,()=>_a,(te,le)=>{le(te,{get ref(){return e(T)},set ref(C){ie(T,C,!0)},child:X,$$slots:{child:!0}})}),"component",kt,60,4,{componentTag:"Popover.Trigger"})}var ce=s(_e,2);t(()=>i(ce,()=>ha,(X,te)=>{te(X,{class:"w-auto p-0",children:l(kt,(le,C)=>{var w=L(),U=u(w);t(()=>i(U,()=>no,(x,_)=>{_(x,{children:l(kt,(b,P)=>{var f=L(),W=u(f);t(()=>i(W,()=>oo,(k,q)=>{q(k,{children:l(kt,(I,N)=>{var O=L(),Y=u(O);t(()=>i(Y,()=>sn,($,V)=>{V($,{children:l(kt,(M,oe)=>{var ue=L(),Z=u(ue);t(()=>rt(Z,17,()=>g,ut,(j,ge)=>{var ve=L(),Ie=u(ve);t(()=>i(Ie,()=>en,($e,me)=>{me($e,{get value(){return e(ge).label},onSelect:()=>{Q(e(ge).value),G()},children:l(kt,(fe,de)=>{H();var be=K();xe(()=>Te(be,e(ge).label)),n(fe,be)}),$$slots:{default:!0}})}),"component",kt,78,14,{componentTag:"Command.Item"}),n(j,ve)}),"each",kt,77,12),n(M,ue)}),$$slots:{default:!0}})}),"component",kt,76,10,{componentTag:"Command.Group"}),n(I,O)}),$$slots:{default:!0}})}),"component",kt,75,8,{componentTag:"Command.List"}),n(b,f)}),$$slots:{default:!0}})}),"component",kt,74,6,{componentTag:"Command.Root"}),n(le,w)}),$$slots:{default:!0}})}),"component",kt,73,4,{componentTag:"Popover.Content"}),n(re,ye)}),$$slots:{default:!0}})}),"component",kt,59,2,{componentTag:"Popover.Root"});var R=s(ae,2);{var F=E=>{Ht("bind:value={value[0]}",r,()=>0,96,6),d.binding("value",ht,()=>r()[0]),t(()=>ht(E,{get value(){return r()[0]},set value(J){d.mutation("value",["value",0],r(r()[0]=J,!0),96,18)}}),"component",kt,95,4,{componentTag:"NumericInput"})},ee=E=>{var J=L(),re=u(J);{var ne=ye=>{var _e=Hi(),ce=u(_e);Ht("bind:value={value[0]}",r,()=>0,100,6),d.binding("value",ht,()=>r()[0]),t(()=>ht(ce,{get value(){return r()[0]},set value(te){d.mutation("value",["value",0],r(r()[0]=te,!0),100,18)}}),"component",kt,99,4,{componentTag:"NumericInput"});var X=s(ce,2);Ht("bind:value={value[1]}",r,()=>1,103,6),d.binding("value",ht,()=>r()[1]),t(()=>ht(X,{get value(){return r()[1]},set value(te){d.mutation("value",["value",1],r(r()[1]=te,!0),103,18)}}),"component",kt,102,4,{componentTag:"NumericInput"}),n(ye,_e)};t(()=>pe(re,ye=>{B(o(),"range")&&ye(ne)},!0),"if",kt,98,2)}n(E,J)};t(()=>pe(R,E=>{B(o(),"exact")||B(o(),"approximate")?E(F):E(ee,!1)}),"if",kt,94,2)}return S(z),n(c,z),at({...nt()})}se[v]="src/lib/components/input/repeating-date-input.svelte";var Ui=h(y("<!> ",1),se[v],[]),Qi=h(y("<!> <!>",1),se[v],[]),Wi=h(y('<!> <div class="flex-1 space-y-1"><div class="flex items-center gap-2"><!> <span class="font-medium">Make this recurring</span></div> <p class="text-muted-foreground text-sm">Set up a repeating schedule for this item</p></div>',1),se[v],[[179,6,[[180,8,[[182,10]]],[184,8]]]]),Yi=h(y("<!> <!>",1),se[v],[]),Ki=h(y("<!> <!> <!> <!>",1),se[v],[]),Xi=h(y('<div class="flex items-center gap-2 text-sm"><span>Repeat every</span> <!> <span> </span></div>'),se[v],[[207,14,[[208,16],[217,16]]]]),Zi=h(y('<div class="flex items-center gap-2 text-sm"><span>Repeat every</span> <!> <span> </span></div> <div class="space-y-2"><!> <div class="grid grid-cols-4 gap-2"></div></div>',1),se[v],[[223,14,[[224,16],[233,16]]],[236,14,[[238,16]]]]),Ji=h(y("<span>On day</span> <!> <span>of the month</span>",1),se[v],[[284,26],[293,26]]),ec=h(y('<div class="space-y-3"><div class="flex items-center gap-3"><!> <!></div> <div class="flex items-start gap-3"><!> <div class="space-y-3"><!> <div class="space-y-2"><!> <div class="flex flex-wrap gap-1"></div></div> <div class="space-y-2"><!> <div class="grid grid-cols-4 gap-1"></div></div></div></div></div>'),se[v],[[279,20,[[281,22],[298,22,[[300,24,[[303,26,[[306,28]]],[323,26,[[325,28]]]]]]]]]]),tc=h(y('<div class="flex items-center gap-2 text-sm"><span>Repeat every</span> <!> <span> </span></div> <div class="space-y-4"><div class="flex items-center gap-2"><!> <!></div> <!></div>',1),se[v],[[258,14,[[259,16],[268,16]]],[271,14,[[272,16]]]]),ac=h(y('<div class="flex items-center gap-2 text-sm"><span>Repeat every</span> <!> <span> </span></div>'),se[v],[[351,14,[[352,16],[361,16]]]]),nc=h(y("<!> <!> <!> <!> <!>",1),se[v],[]),oc=h(y('<div class="space-y-2"><div class="flex items-center space-x-2"><!> <!></div> <div class="flex items-center space-x-2"><!> <!></div> <div class="flex items-center space-x-2"><!> <!></div></div>'),se[v],[[378,14,[[379,16],[383,16],[387,16]]]]),rc=h(y('<!> <div class="flex-1"><div class="text-sm font-medium">Set end condition</div> <p class="text-muted-foreground text-xs">Limit the number of occurrences or set an end date</p></div>',1),se[v],[[412,14,[[413,16],[414,16]]]]),lc=h(y("<!> <!>",1),se[v],[]),sc=h(y('<div class="flex items-center gap-2 text-sm"><span>Stop after</span> <!> <span> </span></div>'),se[v],[[431,18,[[432,20],[441,20]]]]),ic=h(y("<!> ",1),se[v],[]),cc=h(y("<!> <!>",1),se[v],[]),dc=h(y("Repeat until <!>",1),se[v],[]),uc=h(y("<!> <!> <!>",1),se[v],[]),mc=h(y('<!> <!> <div class="space-y-4"><div class="space-y-2"><!> <p class="text-muted-foreground text-xs">Adjust dates that fall on weekends</p></div> <!></div> <!> <div class="space-y-4"><!> <!></div>',1),se[v],[[369,10,[[370,12,[[372,14]]]]],[398,10]]),vc=h(y("<!> <!>",1),se[v],[]),gc=h(y("<li> </li>"),se[v],[[492,16]]),pc=h(y('<div class="bg-destructive/10 rounded-lg p-3 text-sm"><div class="text-destructive flex items-center gap-2 font-medium"><!> Configuration Issues</div> <ul class="text-destructive/80 mt-2 space-y-1"></ul></div>'),se[v],[[485,10,[[486,12],[490,12]]]]),fc=h(y('<!> <div class="space-y-2"><!> <p class="bg-muted/50 rounded p-2 text-sm"> </p></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <div class="flex flex-wrap gap-3 text-xs"><div class="flex items-center gap-1"><div class="bg-primary h-3 w-3 rounded"></div> <span>Recurring dates</span></div> <div class="flex items-center gap-1"><div class="bg-primary/30 border-primary/50 h-3 w-3 rounded border"></div> <span>Adjacent month occurrences</span></div></div></div>',1),se[v],[[499,8,[[501,10]]],[505,8],[539,8,[[541,10,[[542,12,[[543,14],[544,14]]],[546,12,[[547,14],[548,14]]]]]]]]),_c=h(y("<!> <!>",1),se[v],[]),hc=h(y('<div><div class="space-y-2"><!> <!></div> <div class="space-y-4"><!> <!></div> <!></div>'),se[v],[[152,0,[[154,2],[170,2]]]]);function se(c,a){et(new.target),tt(a,!0,se);var d=ya(a);let r=Ye(a,"value",31,()=>Fn(Pt(new Kr),"value")),o=Ye(a,"disabled",3,!1),g=D(Ge(!1),"isRepeating"),T=D(Ge(!1),"hasEndCondition"),m=D(p(()=>{const C=r().validate();return C?C.valid:!0}),"isValid"),G=D(p(()=>{const C=r().validate();return C?C.errors:[]}),"validationErrors");D(p(()=>r().upcoming.slice(0,5)),"upcomingDatesPreview");const Q=C=>Yr.format(C.toDate(ma())),z=C=>r().upcoming.some(w=>B(w.year,C.year)&&B(w.month,C.month)&&B(w.day,C.day)),ae=C=>{d.mutation("value",["value","frequency"],r(r().frequency=C,!0),107,4),d.mutation("value",["value","week_days"],r(r().week_days=[],!0),109,4),d.mutation("value",["value","weeks"],r(r().weeks=[],!0),110,4),d.mutation("value",["value","weeks_days"],r(r().weeks_days=[],!0),111,4),d.mutation("value",["value","days"],r(r().days=null,!0),112,4),d.mutation("value",["value","on"],r(r().on=!1,!0),113,4)},R=C=>{const w=r().week_days||[];w.indexOf(C)>-1?d.mutation("value",["value","week_days"],r(r().week_days=w.filter(x=>B(x,C,!1)),!0),121,6):d.mutation("value",["value","week_days"],r(r().week_days=[...w,C].sort(),!0),123,6)},F=C=>{const w=r().weeks||[];w.indexOf(C)>-1?d.mutation("value",["value","weeks"],r(r().weeks=w.filter(x=>B(x,C,!1)),!0),132,6):d.mutation("value",["value","weeks"],r(r().weeks=[...w,C].sort(),!0),134,6)},ee=C=>{const w=r().weeks_days||[];w.indexOf(C)>-1?d.mutation("value",["value","weeks_days"],r(r().weeks_days=w.filter(x=>B(x,C,!1)),!0),143,6):d.mutation("value",["value","weeks_days"],r(r().weeks_days=[...w,C].sort(),!0),145,6)};bl(()=>[r().end_type]);var E=hc(),J=A(E),re=A(J);t(()=>It(re,{for:"start-date",class:"text-sm font-medium",children:l(se,(C,w)=>{H();var U=K("Start Date");n(C,U)}),$$slots:{default:!0}}),"component",se,155,4,{componentTag:"Label"});var ne=s(re,2);t(()=>i(ne,()=>fa,(C,w)=>{w(C,{children:l(se,(U,x)=>{var _=Qi(),b=u(_);t(()=>i(b,()=>_a,(f,W)=>{W(f,{children:l(se,(k,q)=>{t(()=>Ke(k,{variant:"outline",class:"w-full justify-start text-left font-normal",get disabled(){return o()},children:l(se,(I,N)=>{var O=Ui(),Y=u(O);t(()=>mo(Y,{class:"mr-2 h-4 w-4"}),"component",se,159,10,{componentTag:"CalendarDays"});var $=s(Y);xe(V=>Te($,` ${V??""}`),[()=>r().start?Q(r().start):"Select a date"]),n(I,O)}),$$slots:{default:!0}}),"component",se,158,8,{componentTag:"Button"})}),$$slots:{default:!0}})}),"component",se,157,6,{componentTag:"Popover.Trigger"});var P=s(b,2);t(()=>i(P,()=>ha,(f,W)=>{W(f,{class:"w-auto p-0",align:"start",children:l(se,(k,q)=>{var I=L(),N=u(I);Ht("bind:value={value.start}",r,()=>"start",164,54),t(()=>i(N,()=>Cn,(O,Y)=>{d.binding("value",Y,()=>r().start),Y(O,{type:"single",initialFocus:!0,get disabled(){return o()},get value(){return r().start},set value($){d.mutation("value",["value","start"],r(r().start=$,!0),164,66)}})}),"component",se,164,8,{componentTag:"Calendar.Calendar"}),n(k,I)}),$$slots:{default:!0}})}),"component",se,163,6,{componentTag:"Popover.Content"}),n(U,_)}),$$slots:{default:!0}})}),"component",se,156,4,{componentTag:"Popover.Root"}),S(J);var ye=s(J,2),_e=A(ye);t(()=>It(_e,{class:"hover:bg-accent/50 has-[[aria-checked=true]]:border-primary has-[[aria-checked=true]]:bg-primary/5 flex cursor-pointer items-center gap-3 rounded-lg border p-4 transition-colors",children:l(se,(C,w)=>{var U=Wi(),x=u(U);t(()=>Pn(x,{get disabled(){return o()},class:"data-[state=checked]:border-primary data-[state=checked]:bg-primary",get checked(){return e(g)},set checked(f){ie(g,f,!0)}}),"component",se,174,6,{componentTag:"Checkbox"});var _=s(x,2),b=A(_),P=A(b);t(()=>_s(P,{class:"h-4 w-4"}),"component",se,181,10,{componentTag:"Repeat"}),H(2),S(b),H(2),S(_),n(C,U)}),$$slots:{default:!0}}),"component",se,171,4,{componentTag:"Label"});var ce=s(_e,2);{var X=C=>{var w=L(),U=u(w);t(()=>i(U,()=>Ho,(x,_)=>{_(x,{children:l(se,(b,P)=>{var f=vc(),W=u(f);t(()=>i(W,()=>Go,(q,I)=>{I(q,{class:"pb-4",children:l(se,(N,O)=>{var Y=Yi(),$=u(Y);t(()=>i($,()=>Uo,(M,oe)=>{oe(M,{class:"text-base",children:l(se,(ue,Z)=>{H();var j=K("Recurrence Pattern");n(ue,j)}),$$slots:{default:!0}})}),"component",se,192,10,{componentTag:"Card.Title"});var V=s($,2);t(()=>i(V,()=>tl,(M,oe)=>{oe(M,{children:l(se,(ue,Z)=>{H();var j=K("Configure how often this should repeat");n(ue,j)}),$$slots:{default:!0}})}),"component",se,193,10,{componentTag:"Card.Description"}),n(N,Y)}),$$slots:{default:!0}})}),"component",se,191,8,{componentTag:"Card.Header"});var k=s(W,2);t(()=>i(k,()=>Qo,(q,I)=>{I(q,{class:"space-y-6",children:l(se,(N,O)=>{var Y=mc(),$=u(Y);Ht("bind:value={value.frequency}",r,()=>"frequency",197,21),t(()=>i($,()=>ro,(me,fe)=>{d.binding("value",fe,()=>r().frequency),fe(me,{onValueChange:ae,get value(){return r().frequency},set value(de){d.mutation("value",["value","frequency"],r(r().frequency=de,!0),197,33)},children:l(se,(de,be)=>{var he=nc(),Re=u(he);t(()=>i(Re,()=>lo,(Ve,we)=>{we(Ve,{class:"grid w-full grid-cols-4",children:l(se,(Ae,ze)=>{var Pe=Ki(),Me=u(Pe);t(()=>i(Me,()=>qa,(Ze,ot)=>{ot(Ze,{value:"daily",get disabled(){return o()},children:l(se,(_t,ct)=>{H();var bt=K("Daily");n(_t,bt)}),$$slots:{default:!0}})}),"component",se,199,14,{componentTag:"Tabs.Trigger"});var Be=s(Me,2);t(()=>i(Be,()=>qa,(Ze,ot)=>{ot(Ze,{value:"weekly",get disabled(){return o()},children:l(se,(_t,ct)=>{H();var bt=K("Weekly");n(_t,bt)}),$$slots:{default:!0}})}),"component",se,200,14,{componentTag:"Tabs.Trigger"});var Ue=s(Be,2);t(()=>i(Ue,()=>qa,(Ze,ot)=>{ot(Ze,{value:"monthly",get disabled(){return o()},children:l(se,(_t,ct)=>{H();var bt=K("Monthly");n(_t,bt)}),$$slots:{default:!0}})}),"component",se,201,14,{componentTag:"Tabs.Trigger"});var Ee=s(Ue,2);t(()=>i(Ee,()=>qa,(Ze,ot)=>{ot(Ze,{value:"yearly",get disabled(){return o()},children:l(se,(_t,ct)=>{H();var bt=K("Yearly");n(_t,bt)}),$$slots:{default:!0}})}),"component",se,202,14,{componentTag:"Tabs.Trigger"}),n(Ae,Pe)}),$$slots:{default:!0}})}),"component",se,198,12,{componentTag:"Tabs.List"});var ke=s(Re,2);t(()=>i(ke,()=>ja,(Ve,we)=>{we(Ve,{value:"daily",class:"space-y-4",children:l(se,(Ae,ze)=>{var Pe=Xi(),Me=s(A(Pe),2);Ht("bind:value={value.interval}",r,()=>"interval",213,18),d.binding("value",Dt,()=>r().interval),t(()=>Dt(Me,{type:"number",min:"1",max:"365",class:"w-20",get disabled(){return o()},get value(){return r().interval},set value(Ee){d.mutation("value",["value","interval"],r(r().interval=Ee,!0),213,30)}}),"component",se,209,16,{componentTag:"Input"});var Be=s(Me,2),Ue=A(Be);S(Be),S(Pe),xe(()=>Te(Ue,`day${(r().interval||1)>1?"s":""}`)),n(Ae,Pe)}),$$slots:{default:!0}})}),"component",se,206,12,{componentTag:"Tabs.Content"});var Ce=s(ke,2);t(()=>i(Ce,()=>ja,(Ve,we)=>{we(Ve,{value:"weekly",class:"space-y-4",children:l(se,(Ae,ze)=>{var Pe=Zi(),Me=u(Pe),Be=s(A(Me),2);Ht("bind:value={value.interval}",r,()=>"interval",229,18),d.binding("value",Dt,()=>r().interval),t(()=>Dt(Be,{type:"number",min:"1",max:"52",class:"w-20",get disabled(){return o()},get value(){return r().interval},set value(ct){d.mutation("value",["value","interval"],r(r().interval=ct,!0),229,30)}}),"component",se,225,16,{componentTag:"Input"});var Ue=s(Be,2),Ee=A(Ue);S(Ue),S(Me);var Ze=s(Me,2),ot=A(Ze);t(()=>It(ot,{class:"text-sm font-medium",children:l(se,(ct,bt)=>{H();var Bt=K("On these days:");n(ct,Bt)}),$$slots:{default:!0}}),"component",se,237,16,{componentTag:"Label"});var _t=s(ot,2);t(()=>rt(_t,21,()=>Pr,ut,(ct,bt)=>{{let Bt=p(()=>(r().week_days||[]).includes(e(bt).value)?"default":"outline");t(()=>Ke(ct,{get variant(){return e(Bt)},size:"sm",onclick:()=>R(e(bt).value),get disabled(){return o()},class:"text-xs",children:l(se,(Tt,Ot)=>{H();var la=K();xe(Ia=>Te(la,Ia),[()=>e(bt).label.slice(0,3)]),n(Tt,la)}),$$slots:{default:!0}}),"component",se,240,20,{componentTag:"Button"})}}),"each",se,239,18),S(_t),S(Ze),xe(()=>Te(Ee,`week${(r().interval||1)>1?"s":""}`)),n(Ae,Pe)}),$$slots:{default:!0}})}),"component",se,222,12,{componentTag:"Tabs.Content"});var De=s(Ce,2);t(()=>i(De,()=>ja,(Ve,we)=>{we(Ve,{value:"monthly",class:"space-y-4",children:l(se,(Ae,ze)=>{var Pe=tc(),Me=u(Pe),Be=s(A(Me),2);Ht("bind:value={value.interval}",r,()=>"interval",264,18),d.binding("value",Dt,()=>r().interval),t(()=>Dt(Be,{type:"number",min:"1",max:"12",class:"w-20",get disabled(){return o()},get value(){return r().interval},set value(Tt){d.mutation("value",["value","interval"],r(r().interval=Tt,!0),264,30)}}),"component",se,260,16,{componentTag:"Input"});var Ue=s(Be,2),Ee=A(Ue);S(Ue),S(Me);var Ze=s(Me,2),ot=A(Ze),_t=A(ot);Ht("bind:checked={value.on}",r,()=>"on",273,26),d.binding("value",qo,()=>r().on),t(()=>qo(_t,{get disabled(){return o()},get checked(){return r().on},set checked(Tt){d.mutation("value",["value","on"],r(r().on=Tt,!0),273,40)}}),"component",se,273,18,{componentTag:"Switch"});var ct=s(_t,2);t(()=>It(ct,{class:"text-sm font-medium",children:l(se,(Tt,Ot)=>{H();var la=K("Specify occurrence pattern");n(Tt,la)}),$$slots:{default:!0}}),"component",se,274,18,{componentTag:"Label"}),S(ot);var bt=s(ot,2);{var Bt=Tt=>{var Ot=L(),la=u(Ot);Ht("bind:value={value.on_type}",r,()=>"on_type",278,35);{let Ia=p(()=>!r().on||o());t(()=>i(la,()=>Dr,(Na,Ya)=>{d.binding("value",Ya,()=>r().on_type),Ya(Na,{get disabled(){return e(Ia)},get value(){return r().on_type},set value(Ba){d.mutation("value",["value","on_type"],r(r().on_type=Ba,!0),278,47)},children:l(se,(Ba,on)=>{var Ka=ec(),hn=A(Ka),ur=A(hn);t(()=>i(ur,()=>wn,(sa,ia)=>{ia(sa,{value:"day"})}),"component",se,282,24,{componentTag:"RadioGroup.Item"});var pl=s(ur,2);t(()=>It(pl,{class:"flex items-center gap-2",children:l(se,(sa,ia)=>{var $a=Ji(),yn=s(u($a),2);Ht("bind:value={value.days}",r,()=>"days",289,28);{let bn=p(()=>B(r().on_type,"day",!1)||!r().on||o());d.binding("value",Dt,()=>r().days),t(()=>Dt(yn,{type:"number",min:"1",max:"31",class:"w-16",get disabled(){return e(bn)},get value(){return r().days},set value(Do){d.mutation("value",["value","days"],r(r().days=Do,!0),289,40)}}),"component",se,285,26,{componentTag:"Input"})}H(2),n(sa,$a)}),$$slots:{default:!0}}),"component",se,283,24,{componentTag:"Label"}),S(hn);var mr=s(hn,2),vr=A(mr);t(()=>i(vr,()=>wn,(sa,ia)=>{ia(sa,{value:"the",class:"mt-1"})}),"component",se,299,24,{componentTag:"RadioGroup.Item"});var gr=s(vr,2),pr=A(gr);t(()=>It(pr,{children:l(se,(sa,ia)=>{H();var $a=K("On the");n(sa,$a)}),$$slots:{default:!0}}),"component",se,301,26,{componentTag:"Label"});var So=s(pr,2),fr=A(So);t(()=>It(fr,{class:"text-muted-foreground text-xs font-medium",children:l(se,(sa,ia)=>{H();var $a=K("Week(s):");n(sa,$a)}),$$slots:{default:!0}}),"component",se,304,28,{componentTag:"Label"});var _r=s(fr,2);t(()=>rt(_r,21,()=>Hl,ut,(sa,ia)=>{{let $a=p(()=>(r().weeks||[]).includes(e(ia).value)?"default":"outline"),yn=p(()=>B(r().on_type,"the",!1)||!r().on||o());t(()=>Ke(sa,{get variant(){return e($a)},size:"sm",onclick:()=>F(e(ia).value),get disabled(){return e(yn)},class:"text-xs",children:l(se,(bn,Do)=>{H();var $n=K();xe(()=>Te($n,e(ia).label)),n(bn,$n)}),$$slots:{default:!0}}),"component",se,308,32,{componentTag:"Button"})}}),"each",se,307,30),S(_r),S(So);var hr=s(So,2),yr=A(hr);t(()=>It(yr,{class:"text-muted-foreground text-xs font-medium",children:l(se,(sa,ia)=>{H();var $a=K("Day(s):");n(sa,$a)}),$$slots:{default:!0}}),"component",se,324,28,{componentTag:"Label"});var br=s(yr,2);t(()=>rt(br,21,()=>Pr,ut,(sa,ia)=>{{let $a=p(()=>(r().weeks_days||[]).includes(e(ia).value)?"default":"outline"),yn=p(()=>B(r().on_type,"the",!1)||!r().on||o());t(()=>Ke(sa,{get variant(){return e($a)},size:"sm",onclick:()=>ee(e(ia).value),get disabled(){return e(yn)},class:"text-xs",children:l(se,(bn,Do)=>{H();var $n=K();xe(fl=>Te($n,fl),[()=>e(ia).label.slice(0,3)]),n(bn,$n)}),$$slots:{default:!0}}),"component",se,327,32,{componentTag:"Button"})}}),"each",se,326,30),S(br),S(hr),S(gr),S(mr),S(Ka),n(Ba,Ka)}),$$slots:{default:!0}})}),"component",se,278,18,{componentTag:"RadioGroup.Root"})}n(Tt,Ot)};t(()=>pe(bt,Tt=>{r().on&&Tt(Bt)}),"if",se,277,16)}S(Ze),xe(()=>Te(Ee,`month${(r().interval||1)>1?"s":""}`)),n(Ae,Pe)}),$$slots:{default:!0}})}),"component",se,257,12,{componentTag:"Tabs.Content"});var Fe=s(De,2);t(()=>i(Fe,()=>ja,(Ve,we)=>{we(Ve,{value:"yearly",class:"space-y-4",children:l(se,(Ae,ze)=>{var Pe=ac(),Me=s(A(Pe),2);Ht("bind:value={value.interval}",r,()=>"interval",357,18),d.binding("value",Dt,()=>r().interval),t(()=>Dt(Me,{type:"number",min:"1",max:"10",class:"w-20",get disabled(){return o()},get value(){return r().interval},set value(Ee){d.mutation("value",["value","interval"],r(r().interval=Ee,!0),357,30)}}),"component",se,353,16,{componentTag:"Input"});var Be=s(Me,2),Ue=A(Be);S(Be),S(Pe),xe(()=>Te(Ue,`year${(r().interval||1)>1?"s":""}`)),n(Ae,Pe)}),$$slots:{default:!0}})}),"component",se,350,12,{componentTag:"Tabs.Content"}),n(de,he)}),$$slots:{default:!0}})}),"component",se,197,10,{componentTag:"Tabs.Root"});var V=s($,2);t(()=>so(V,{}),"component",se,366,10,{componentTag:"Separator"});var M=s(V,2),oe=A(M),ue=A(oe);t(()=>It(ue,{class:"text-sm font-medium",children:l(se,(me,fe)=>{H();var de=K("Weekend Handling");n(me,de)}),$$slots:{default:!0}}),"component",se,371,14,{componentTag:"Label"}),H(2),S(oe);var Z=s(oe,2);Ht("bind:value={value.moveWeekends}",r,()=>"moveWeekends",377,29),t(()=>i(Z,()=>Dr,(me,fe)=>{d.binding("value",fe,()=>r().moveWeekends),fe(me,{get disabled(){return o()},get value(){return r().moveWeekends},set value(de){d.mutation("value",["value","moveWeekends"],r(r().moveWeekends=de,!0),377,41)},children:l(se,(de,be)=>{var he=oc(),Re=A(he),ke=A(Re);t(()=>i(ke,()=>wn,(Pe,Me)=>{Me(Pe,{value:"none"})}),"component",se,380,18,{componentTag:"RadioGroup.Item"});var Ce=s(ke,2);t(()=>It(Ce,{class:"text-sm",children:l(se,(Pe,Me)=>{H();var Be=K("No adjustment");n(Pe,Be)}),$$slots:{default:!0}}),"component",se,381,18,{componentTag:"Label"}),S(Re);var De=s(Re,2),Fe=A(De);t(()=>i(Fe,()=>wn,(Pe,Me)=>{Me(Pe,{value:"next_weekday"})}),"component",se,384,18,{componentTag:"RadioGroup.Item"});var Ve=s(Fe,2);t(()=>It(Ve,{class:"text-sm",children:l(se,(Pe,Me)=>{H();var Be=K("Move to next weekday (Monday)");n(Pe,Be)}),$$slots:{default:!0}}),"component",se,385,18,{componentTag:"Label"}),S(De);var we=s(De,2),Ae=A(we);t(()=>i(Ae,()=>wn,(Pe,Me)=>{Me(Pe,{value:"previous_weekday"})}),"component",se,388,18,{componentTag:"RadioGroup.Item"});var ze=s(Ae,2);t(()=>It(ze,{class:"text-sm",children:l(se,(Pe,Me)=>{H();var Be=K("Move to previous weekday (Friday)");n(Pe,Be)}),$$slots:{default:!0}}),"component",se,389,18,{componentTag:"Label"}),S(we),S(he),n(de,he)}),$$slots:{default:!0}})}),"component",se,377,12,{componentTag:"RadioGroup.Root"}),S(M);var j=s(M,2);t(()=>so(j,{}),"component",se,395,10,{componentTag:"Separator"});var ge=s(j,2),ve=A(ge);t(()=>It(ve,{class:"hover:bg-accent/50 has-[[aria-checked=true]]:border-primary has-[[aria-checked=true]]:bg-primary/5 flex cursor-pointer items-center gap-3 rounded-lg border p-3 transition-colors",children:l(se,(me,fe)=>{var de=rc(),be=u(de);t(()=>Pn(be,{onCheckedChange:he=>{he||d.mutation("value",["value","end_type"],r(r().end_type=null,!0),406,20)},get disabled(){return o()},class:"data-[state=checked]:border-primary data-[state=checked]:bg-primary",get checked(){return e(T)},set checked(he){ie(T,he,!0)}}),"component",se,402,14,{componentTag:"Checkbox"}),H(2),n(me,de)}),$$slots:{default:!0}}),"component",se,399,12,{componentTag:"Label"});var Ie=s(ve,2);{var $e=me=>{var fe=L(),de=u(fe);{let be=p(()=>r().end_type||"limit");t(()=>i(de,()=>ro,(he,Re)=>{Re(he,{get value(){return e(be)},onValueChange:ke=>d.mutation("value",["value","end_type"],r(r().end_type=ke,!0),423,39),children:l(se,(ke,Ce)=>{var De=uc(),Fe=u(De);t(()=>i(Fe,()=>lo,(Ae,ze)=>{ze(Ae,{class:"grid w-full grid-cols-2",children:l(se,(Pe,Me)=>{var Be=lc(),Ue=u(Be);t(()=>i(Ue,()=>qa,(Ze,ot)=>{ot(Ze,{value:"limit",get disabled(){return o()},children:l(se,(_t,ct)=>{H();var bt=K("Limit occurrences");n(_t,bt)}),$$slots:{default:!0}})}),"component",se,426,18,{componentTag:"Tabs.Trigger"});var Ee=s(Ue,2);t(()=>i(Ee,()=>qa,(Ze,ot)=>{ot(Ze,{value:"until",get disabled(){return o()},children:l(se,(_t,ct)=>{H();var bt=K("End on date");n(_t,bt)}),$$slots:{default:!0}})}),"component",se,427,18,{componentTag:"Tabs.Trigger"}),n(Pe,Be)}),$$slots:{default:!0}})}),"component",se,425,16,{componentTag:"Tabs.List"});var Ve=s(Fe,2);t(()=>i(Ve,()=>ja,(Ae,ze)=>{ze(Ae,{value:"limit",class:"space-y-2",children:l(se,(Pe,Me)=>{var Be=sc(),Ue=s(A(Be),2);Ht("bind:value={value.limit}",r,()=>"limit",437,22),d.binding("value",Dt,()=>r().limit),t(()=>Dt(Ue,{type:"number",min:"1",max:"999",class:"w-20",get disabled(){return o()},get value(){return r().limit},set value(ot){d.mutation("value",["value","limit"],r(r().limit=ot,!0),437,34)}}),"component",se,433,20,{componentTag:"Input"});var Ee=s(Ue,2),Ze=A(Ee);S(Ee),S(Be),xe(()=>Te(Ze,`occurrence${(r().limit||1)>1?"s":""}`)),n(Pe,Be)}),$$slots:{default:!0}})}),"component",se,430,16,{componentTag:"Tabs.Content"});var we=s(Ve,2);t(()=>i(we,()=>ja,(Ae,ze)=>{ze(Ae,{value:"until",class:"space-y-2",children:l(se,(Pe,Me)=>{H();var Be=dc(),Ue=s(u(Be));t(()=>i(Ue,()=>fa,(Ee,Ze)=>{Ze(Ee,{children:l(se,(ot,_t)=>{var ct=cc(),bt=u(ct);t(()=>i(bt,()=>_a,(Tt,Ot)=>{Ot(Tt,{children:l(se,(la,Ia)=>{t(()=>Ke(la,{variant:"outline",class:"ml-1 w-full justify-start text-left font-normal",get disabled(){return o()},children:l(se,(Na,Ya)=>{var Ba=ic(),on=u(Ba);t(()=>mo(on,{class:"mr-2 h-4 w-4"}),"component",se,454,24,{componentTag:"CalendarDays"});var Ka=s(on);xe(hn=>Te(Ka,` ${hn??""}`),[()=>r().end?Q(r().end):"Select end date"]),n(Na,Ba)}),$$slots:{default:!0}}),"component",se,449,22,{componentTag:"Button"})}),$$slots:{default:!0}})}),"component",se,448,20,{componentTag:"Popover.Trigger"});var Bt=s(bt,2);t(()=>i(Bt,()=>ha,(Tt,Ot)=>{Ot(Tt,{class:"w-auto p-0",align:"start",children:l(se,(la,Ia)=>{var Na=L(),Ya=u(Na);Ht("bind:value={value.end}",r,()=>"end",462,24),t(()=>i(Ya,()=>Cn,(Ba,on)=>{d.binding("value",on,()=>r().end),on(Ba,{type:"single",initialFocus:!0,get disabled(){return o()},get value(){return r().end},set value(Ka){d.mutation("value",["value","end"],r(r().end=Ka,!0),462,36)}})}),"component",se,459,22,{componentTag:"Calendar.Calendar"}),n(la,Na)}),$$slots:{default:!0}})}),"component",se,458,20,{componentTag:"Popover.Content"}),n(ot,ct)}),$$slots:{default:!0}})}),"component",se,447,18,{componentTag:"Popover.Root"}),n(Pe,Be)}),$$slots:{default:!0}})}),"component",se,445,16,{componentTag:"Tabs.Content"}),n(ke,De)}),$$slots:{default:!0}})}),"component",se,421,14,{componentTag:"Tabs.Root"})}n(me,fe)};t(()=>pe(Ie,me=>{e(T)&&me($e)}),"if",se,420,12)}S(ge),n(N,Y)}),$$slots:{default:!0}})}),"component",se,195,8,{componentTag:"Card.Content"}),n(b,f)}),$$slots:{default:!0}})}),"component",se,190,6,{componentTag:"Card.Root"}),n(C,w)};t(()=>pe(ce,C=>{e(g)&&C(X)}),"if",se,189,4)}S(ye);var te=s(ye,2);{var le=C=>{var w=L(),U=u(w);t(()=>i(U,()=>Ho,(x,_)=>{_(x,{children:l(se,(b,P)=>{var f=_c(),W=u(f);t(()=>i(W,()=>Go,(q,I)=>{I(q,{class:"pb-3",children:l(se,(N,O)=>{var Y=L(),$=u(Y);t(()=>i($,()=>Uo,(V,M)=>{M(V,{class:"text-base",children:l(se,(oe,ue)=>{H();var Z=K("Preview");n(oe,Z)}),$$slots:{default:!0}})}),"component",se,480,8,{componentTag:"Card.Title"}),n(N,Y)}),$$slots:{default:!0}})}),"component",se,479,6,{componentTag:"Card.Header"});var k=s(W,2);t(()=>i(k,()=>Qo,(q,I)=>{I(q,{class:"space-y-4",children:l(se,(N,O)=>{var Y=fc(),$=u(Y);{var V=me=>{var fe=pc(),de=A(fe),be=A(de);t(()=>hs(be,{class:"h-4 w-4"}),"component",se,487,14,{componentTag:"AlertCircle"}),H(),S(de);var he=s(de,2);t(()=>rt(he,21,()=>e(G),ut,(Re,ke)=>{var Ce=gc(),De=A(Ce);S(Ce),xe(()=>Te(De,` ${e(ke)??""}`)),n(Re,Ce)}),"each",se,491,14),S(he),S(fe),n(me,fe)};t(()=>pe($,me=>{!e(m)&&e(G).length>0&&me(V)}),"if",se,484,8)}var M=s($,2),oe=A(M);t(()=>It(oe,{class:"text-muted-foreground text-xs font-medium",children:l(se,(me,fe)=>{H();var de=K("Pattern:");n(me,de)}),$$slots:{default:!0}}),"component",se,500,10,{componentTag:"Label"});var ue=s(oe,2),Z=A(ue,!0);S(ue),S(M);var j=s(M,2),ge=A(j);t(()=>It(ge,{class:"text-muted-foreground text-xs font-medium",children:l(se,(me,fe)=>{H();var de=K("Calendar preview:");n(me,de)}),$$slots:{default:!0}}),"component",se,506,10,{componentTag:"Label"});var ve=s(ge,2);Ht("bind:placeholder={value.placeholder}",r,()=>"placeholder",512,12);{const me=l(se,function(fe,de){Ct(...arguments);let be=()=>de?.().day;be();let he=()=>de?.().outsideMonth;he();const Re=D(p(()=>r().start&&B(be(),r().start)),"isStartDate");e(Re);const ke=D(p(()=>z(be())),"isRecurring");e(ke);var Ce=L(),De=u(Ce);{let Fe=p(()=>Gt(e(Re)?"bg-green-500 font-bold text-white ring-2 ring-green-300 hover:bg-green-600":e(ke)?he()?"bg-primary/30 text-primary hover:bg-primary/40 border-primary/50 border":"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground":he()?"text-muted-foreground/50 hover:text-muted-foreground hover:bg-muted/50":""));t(()=>i(De,()=>ns,(Ve,we)=>{we(Ve,{get class(){return e(Fe)},children:l(se,(Ae,ze)=>{H();var Pe=K();xe(()=>Te(Pe,be().day)),n(Ae,Pe)}),$$slots:{default:!0}})}),"component",se,519,14,{componentTag:"Calendar.Day"})}n(fe,Ce)});t(()=>i(ve,()=>Cn,(fe,de)=>{d.binding("value",de,()=>r().placeholder),de(fe,{type:"single",get value(){return r().start},class:"rounded-md border [--cell-size:--spacing(11)] md:[--cell-size:--spacing(9.75)]",readonly:!0,captionLayout:"dropdown",get placeholder(){return r().placeholder},set placeholder(be){d.mutation("value",["value","placeholder"],r(r().placeholder=be,!0),512,30)},day:me,$$slots:{day:!0}})}),"component",se,507,10,{componentTag:"Calendar.Calendar"})}S(j);var Ie=s(j,2),$e=A(Ie);t(()=>It($e,{class:"text-muted-foreground text-xs font-medium",children:l(se,(me,fe)=>{H();var de=K("Legend:");n(me,de)}),$$slots:{default:!0}}),"component",se,540,10,{componentTag:"Label"}),H(2),S(Ie),xe(()=>Te(Z,r().formatted)),n(N,Y)}),$$slots:{default:!0}})}),"component",se,482,6,{componentTag:"Card.Content"}),n(b,f)}),$$slots:{default:!0}})}),"component",se,478,4,{componentTag:"Card.Root"}),n(C,w)};t(()=>pe(te,C=>{e(g)&&r().start&&C(le)}),"if",se,477,2)}return S(E),xe(C=>Oa(E,1,C),[()=>Dn(Gt("space-y-6",a.class))]),n(c,E),at({...nt()})}Je[v]="src/lib/components/forms/manage-schedule-form.svelte";var yc=h(y("<!> <!> <!>",1),Je[v],[]),bc=h(y("<!> <!> <!> <input hidden/>",1),Je[v],[[125,10]]),$c=h(y("<!> <!> <!> <input hidden/>",1),Je[v],[[143,10]]),xc=h(y("<!> <!> <!> <input hidden/>",1),Je[v],[[158,10]]),Tc=h(y("<input hidden/>"),Je[v],[[166,10]]),wc=h(y("<input hidden/>"),Je[v],[[174,10]]),Cc=h(y('<form method="post" action="/schedules?/save-schedule"><input hidden name="id"/> <!> <div><!> <!> <!> <!> <!> <!></div> <!></form>'),Je[v],[[98,0,[[99,2],[111,2]]]]);function Je(c,a){et(new.target),tt(a,!0,Je);const[d,r]=Rn(),o=()=>(Mn(F,"formData"),An(F,"$formData",d)),{data:{accounts:g,payees:T,manageScheduleForm:m}}=za,G=Gl.get();let Q=D(Ge(Pt({id:0,name:""})),"payee"),z=D(Ge(Pt({id:0,name:""})),"account"),ae=D(Ge(Pt(new Kr)),"repeating_date");const R=Un(m,{id:"schedule-form",validators:wo(ti),onResult:async({result:b})=>{a.onSave&&B(b.type,"success")&&b.data&&(G.addSchedule(b.data.entity),a.onSave(b.data.entity))}}),{form:F,enhance:ee}=R;let E=D(Ge(Pt([0,0])),"amount"),J=D(Ge(void 0),"defaultPayee"),re=D(Ge(void 0),"defaultAccount");if(ft(F,qe(o).amount_type="exact",qe(o)),a.scheduleId&&a.scheduleId>0){ft(F,qe(o).id=a.scheduleId,qe(o));const b=G.getById(a.scheduleId);ft(F,qe(o).name=b?.name,qe(o)),ft(F,qe(o).payeeId=ie(J,b?.payeeId,!0),qe(o)),ft(F,qe(o).accountId=ie(re,b?.accountId,!0),qe(o)),ft(F,qe(o).amount_type=b?.amount_type,qe(o)),e(E)[0]=b?.amount||0,e(E)[1]=b?.amount_2||0}Ut(()=>{ft(F,qe(o).payeeId=e(Q).id,qe(o)),ft(F,qe(o).accountId=e(z).id,qe(o)),ft(F,qe(o).amount=e(E)[0],qe(o)),ft(F,qe(o).amount_2=e(E)[1],qe(o))});var ne=Cc(),ye=A(ne);Sa(ye);var _e=s(ye,2);t(()=>i(_e,()=>ea,(b,P)=>{P(b,{get form(){return R},name:"name",children:l(Je,(f,W)=>{var k=L(),q=u(k);{const I=l(Je,function(N,O){Ct(...arguments);let Y=()=>O?.().props;Y();var $=yc(),V=u($);t(()=>i(V,()=>Fa,(ue,Z)=>{Z(ue,{children:l(Je,(j,ge)=>{H();var ve=K("Name");n(j,ve)}),$$slots:{default:!0}})}),"component",Je,104,8,{componentTag:"Form.Label"});var M=s(V,2);t(()=>Dt(M,yt(Y,{get value(){return o().name},set value(ue){ft(F,qe(o).name=ue,qe(o))}})),"component",Je,105,8,{componentTag:"Input"});var oe=s(M,2);t(()=>i(oe,()=>va,(ue,Z)=>{Z(ue,{})}),"component",Je,106,8,{componentTag:"Form.FieldErrors"}),n(N,$)});t(()=>i(q,()=>ta,(N,O)=>{O(N,{children:I,$$slots:{default:!0}})}),"component",Je,102,4,{componentTag:"Form.Control"})}n(f,k)}),$$slots:{default:!0}})}),"component",Je,101,2,{componentTag:"Form.Field"});var ce=s(_e,2),X=A(ce);t(()=>i(X,()=>ea,(b,P)=>{P(b,{get form(){return R},name:"payeeId",children:l(Je,(f,W)=>{var k=L(),q=u(k);{const I=l(Je,function(N,O){Ct(...arguments);let Y=()=>O?.().props;Y();var $=bc(),V=u($);t(()=>i(V,()=>Fa,(Z,j)=>{j(Z,{children:l(Je,(ge,ve)=>{H();var Ie=K("Payee");n(ge,Ie)}),$$slots:{default:!0}})}),"component",Je,115,10,{componentTag:"Form.Label"});var M=s(V,2);t(()=>lt(M,{entityLabel:"payees",get entities(){return T},get defaultValue(){return e(J)},get icon(){return Ma},buttonClass:"w-full",get value(){return e(Q)},set value(Z){ie(Q,Z,!0)}}),"component",Je,116,10,{componentTag:"EntityInput"});var oe=s(M,2);t(()=>i(oe,()=>va,(Z,j)=>{j(Z,{})}),"component",Je,124,10,{componentTag:"Form.FieldErrors"});var ue=s(oe,2);Sa(ue),xe(()=>Da(ue,"name",Y().name)),ln(ue,()=>o().payeeId,Z=>ft(F,qe(o).payeeId=Z,qe(o))),n(N,$)});t(()=>i(q,()=>ta,(N,O)=>{O(N,{children:I,$$slots:{default:!0}})}),"component",Je,113,6,{componentTag:"Form.Control"})}n(f,k)}),$$slots:{default:!0}})}),"component",Je,112,4,{componentTag:"Form.Field"});var te=s(X,2);t(()=>i(te,()=>ea,(b,P)=>{P(b,{get form(){return R},name:"accountId",children:l(Je,(f,W)=>{var k=L(),q=u(k);{const I=l(Je,function(N,O){Ct(...arguments);let Y=()=>O?.().props;Y();var $=$c(),V=u($);t(()=>i(V,()=>Fa,(Z,j)=>{j(Z,{children:l(Je,(ge,ve)=>{H();var Ie=K("Account");n(ge,Ie)}),$$slots:{default:!0}})}),"component",Je,133,10,{componentTag:"Form.Label"});var M=s(V,2);t(()=>lt(M,{entityLabel:"account",get entities(){return g},get defaultValue(){return e(re)},get icon(){return Ma},buttonClass:"w-full",get value(){return e(z)},set value(Z){ie(z,Z,!0)}}),"component",Je,134,10,{componentTag:"EntityInput"});var oe=s(M,2);t(()=>i(oe,()=>va,(Z,j)=>{j(Z,{})}),"component",Je,142,10,{componentTag:"Form.FieldErrors"});var ue=s(oe,2);Sa(ue),xe(()=>Da(ue,"name",Y().name)),ln(ue,()=>o().accountId,Z=>ft(F,qe(o).accountId=Z,qe(o))),n(N,$)});t(()=>i(q,()=>ta,(N,O)=>{O(N,{children:I,$$slots:{default:!0}})}),"component",Je,131,6,{componentTag:"Form.Control"})}n(f,k)}),$$slots:{default:!0}})}),"component",Je,130,4,{componentTag:"Form.Field"});var le=s(te,2);t(()=>i(le,()=>ea,(b,P)=>{P(b,{get form(){return R},name:"amount",children:l(Je,(f,W)=>{var k=L(),q=u(k);{const I=l(Je,function(N,O){Ct(...arguments);let Y=()=>O?.().props;Y();var $=xc(),V=u($);t(()=>i(V,()=>Fa,(Z,j)=>{j(Z,{children:l(Je,(ge,ve)=>{H();var Ie=K("Amount");n(ge,Ie)}),$$slots:{default:!0}})}),"component",Je,151,10,{componentTag:"Form.Label"});var M=s(V,2);t(()=>kt(M,yt(Y,{get value(){return e(E)},set value(Z){ie(E,Z,!0)},get type(){return o().amount_type},set type(Z){ft(F,qe(o).amount_type=Z,qe(o))}})),"component",Je,152,10,{componentTag:"MultiNumericInput"});var oe=s(M,2);t(()=>i(oe,()=>va,(Z,j)=>{j(Z,{})}),"component",Je,157,10,{componentTag:"Form.FieldErrors"});var ue=s(oe,2);Sa(ue),xe(()=>Da(ue,"name",Y().name)),ln(ue,()=>o().amount,Z=>ft(F,qe(o).amount=Z,qe(o))),n(N,$)});t(()=>i(q,()=>ta,(N,O)=>{O(N,{children:I,$$slots:{default:!0}})}),"component",Je,149,6,{componentTag:"Form.Control"})}n(f,k)}),$$slots:{default:!0}})}),"component",Je,148,4,{componentTag:"Form.Field"});var C=s(le,2);t(()=>i(C,()=>ea,(b,P)=>{P(b,{get form(){return R},name:"amount_2",children:l(Je,(f,W)=>{var k=L(),q=u(k);{const I=l(Je,function(N,O){Ct(...arguments);let Y=()=>O?.().props;Y();var $=Tc();Sa($),xe(()=>Da($,"name",Y().name)),ln($,()=>o().amount_2,V=>ft(F,qe(o).amount_2=V,qe(o))),n(N,$)});t(()=>i(q,()=>ta,(N,O)=>{O(N,{children:I,$$slots:{default:!0}})}),"component",Je,164,6,{componentTag:"Form.Control"})}n(f,k)}),$$slots:{default:!0}})}),"component",Je,163,4,{componentTag:"Form.Field"});var w=s(C,2);t(()=>i(w,()=>ea,(b,P)=>{P(b,{get form(){return R},name:"amount_type",children:l(Je,(f,W)=>{var k=L(),q=u(k);{const I=l(Je,function(N,O){Ct(...arguments);let Y=()=>O?.().props;Y();var $=wc();Sa($),xe(()=>Da($,"name",Y().name)),ln($,()=>o().amount_type,V=>ft(F,qe(o).amount_type=V,qe(o))),n(N,$)});t(()=>i(q,()=>ta,(N,O)=>{O(N,{children:I,$$slots:{default:!0}})}),"component",Je,172,6,{componentTag:"Form.Control"})}n(f,k)}),$$slots:{default:!0}})}),"component",Je,171,4,{componentTag:"Form.Field"});var U=s(w,2);t(()=>i(U,()=>ea,(b,P)=>{P(b,{get form(){return R},name:"repeating_date",children:l(Je,(f,W)=>{var k=L(),q=u(k);{const I=l(Je,function(N,O){Ct(...arguments);let Y=()=>O?.().props;Y(),t(()=>se(N,yt(Y,{get value(){return e(ae)},set value($){ie(ae,$,!0)}})),"component",Je,182,10,{componentTag:"RepeatingDateInput"})});t(()=>i(q,()=>ta,(N,O)=>{O(N,{children:I,$$slots:{default:!0}})}),"component",Je,180,6,{componentTag:"Form.Control"})}n(f,k)}),$$slots:{default:!0}})}),"component",Je,179,4,{componentTag:"Form.Field"}),S(ce);var x=s(ce,2);t(()=>i(x,()=>On,(b,P)=>{P(b,{children:l(Je,(f,W)=>{H();var k=K("save");n(f,k)}),$$slots:{default:!0}})}),"component",Je,191,2,{componentTag:"Form.Button"}),S(ne),Vn(ne,b=>ee?.(b)),xe(()=>yo(ye,o().id)),n(c,ne);var _=at({...nt()});return r(),_}aa[v]="src/lib/components/dialogs/add-account-dialog.svelte";var Pc=h(y("<!> Account",1),aa[v],[]),Sc=h(y("<!> <!>",1),aa[v],[]);function aa(c,a){et(new.target),tt(a,!0,aa);const d=D(p(()=>Ul),"dialogOpen"),r=D(p(()=>Ql),"accountId");var o=L(),g=u(o),T=()=>e(d).current,m=G=>e(d).current=G;return t(()=>i(g,()=>nr,(G,Q)=>{Q(G,{get open(){return T()},set open(z){m(z)},children:l(aa,(z,ae)=>{var R=L(),F=u(R);t(()=>i(F,()=>or,(ee,E)=>{E(ee,{children:l(aa,(J,re)=>{var ne=L(),ye=u(ne);t(()=>i(ye,()=>rr,(_e,ce)=>{ce(_e,{children:l(aa,(X,te)=>{var le=Sc(),C=u(le);t(()=>i(C,()=>lr,(U,x)=>{x(U,{children:l(aa,(_,b)=>{var P=Pc(),f=u(P);{var W=q=>{var I=K("Add");n(q,I)},k=q=>{var I=K("Manage");n(q,I)};t(()=>pe(f,q=>{B(e(r).current,0)?q(W):q(k,!1)}),"if",aa,15,20)}H(),n(_,P)}),$$slots:{default:!0}})}),"component",aa,15,6,{componentTag:"Dialog.Title"});var w=s(C,2);t(()=>i(w,()=>sr,(U,x)=>{x(U,{children:l(aa,(_,b)=>{t(()=>Mt(_,{get accountId(){return e(r).current},onSave:()=>e(d).current=!1}),"component",aa,17,8,{componentTag:"ManageAccountForm"})}),$$slots:{default:!0}})}),"component",aa,16,6,{componentTag:"Dialog.Description"}),n(X,le)}),$$slots:{default:!0}})}),"component",aa,14,4,{componentTag:"Dialog.Header"}),n(J,ne)}),$$slots:{default:!0}})}),"component",aa,13,2,{componentTag:"Dialog.Content"}),n(z,R)}),$$slots:{default:!0}})}),"component",aa,12,0,{componentTag:"Dialog.Root"}),n(c,o),at({...nt()})}qt[v]="src/lib/components/dialogs/delete-account-dialog.svelte";var Dc=h(y("<!> <!>",1),qt[v],[]),Fc=h(y("<!> <!>",1),qt[v],[]),Ic=h(y("<!> <!>",1),qt[v],[]);function qt(c,a){et(new.target),tt(a,!0,qt);const d=D(p(()=>Wl),"_deleteAccountDialog"),r=D(p(()=>Yl),"_deleteAccountId"),o=Wr.get(),g=async()=>{e(d).current=!1,o.deleteAccount(e(r).current),(await tr($l("/accounts")))()};var T=L(),m=u(T),G=()=>e(d).current,Q=z=>e(d).current=z;return t(()=>i(m,()=>zn,(z,ae)=>{ae(z,{get open(){return G()},set open(R){Q(R)},children:l(qt,(R,F)=>{var ee=L(),E=u(ee);t(()=>i(E,()=>En,(J,re)=>{re(J,{children:l(qt,(ne,ye)=>{var _e=Ic(),ce=u(_e);t(()=>i(ce,()=>Nn,(te,le)=>{le(te,{children:l(qt,(C,w)=>{var U=Dc(),x=u(U);t(()=>i(x,()=>Bn,(b,P)=>{P(b,{children:l(qt,(f,W)=>{H();var k=K("Are you absolutely sure?");n(f,k)}),$$slots:{default:!0}})}),"component",qt,21,6,{componentTag:"AlertDialog.Title"});var _=s(x,2);t(()=>i(_,()=>qn,(b,P)=>{P(b,{children:l(qt,(f,W)=>{H();var k=K(`This action cannot be undone. This will permanently delete your account and any associated
        information with it.`);n(f,k)}),$$slots:{default:!0}})}),"component",qt,22,6,{componentTag:"AlertDialog.Description"}),n(C,U)}),$$slots:{default:!0}})}),"component",qt,20,4,{componentTag:"AlertDialog.Header"});var X=s(ce,2);t(()=>i(X,()=>jn,(te,le)=>{le(te,{children:l(qt,(C,w)=>{var U=Fc(),x=u(U);t(()=>i(x,()=>Hn,(b,P)=>{P(b,{children:l(qt,(f,W)=>{H();var k=K("Cancel");n(f,k)}),$$slots:{default:!0}})}),"component",qt,28,6,{componentTag:"AlertDialog.Cancel"});var _=s(x,2);{let b=p(()=>Ea({variant:"destructive"}));t(()=>i(_,()=>Gn,(P,f)=>{f(P,{onclick:g,get class(){return e(b)},children:l(qt,(W,k)=>{H();var q=K("Continue");n(W,q)}),$$slots:{default:!0}})}),"component",qt,29,6,{componentTag:"AlertDialog.Action"})}n(C,U)}),$$slots:{default:!0}})}),"component",qt,27,4,{componentTag:"AlertDialog.Footer"}),n(ne,_e)}),$$slots:{default:!0}})}),"component",qt,19,2,{componentTag:"AlertDialog.Content"}),n(R,ee)}),$$slots:{default:!0}})}),"component",qt,18,0,{componentTag:"AlertDialog.Root"}),n(c,T),at({...nt()})}na[v]="src/lib/components/dialogs/add-schedule-dialog.svelte";var kc=h(y("<!> Schedule",1),na[v],[]),Ac=h(y("<!> <!>",1),na[v],[]);function na(c,a){et(new.target),tt(a,!0,na);const d=D(p(()=>Kl),"dialogOpen"),r=D(p(()=>Xl),"scheduleId");var o=L(),g=u(o),T=()=>e(d).current,m=G=>e(d).current=G;return t(()=>i(g,()=>os,(G,Q)=>{Q(G,{get open(){return T()},set open(z){m(z)},children:l(na,(z,ae)=>{var R=L(),F=u(R);t(()=>i(F,()=>rs,(ee,E)=>{E(ee,{preventScroll:!1,class:"overflow-auto",children:l(na,(J,re)=>{var ne=L(),ye=u(ne);t(()=>i(ye,()=>ls,(_e,ce)=>{ce(_e,{children:l(na,(X,te)=>{var le=Ac(),C=u(le);t(()=>i(C,()=>ss,(U,x)=>{x(U,{children:l(na,(_,b)=>{var P=kc(),f=u(P);{var W=q=>{var I=K("Add");n(q,I)},k=q=>{var I=K("Manage");n(q,I)};t(()=>pe(f,q=>{B(e(r).current,0)?q(W):q(k,!1)}),"if",na,15,19)}H(),n(_,P)}),$$slots:{default:!0}})}),"component",na,15,6,{componentTag:"Sheet.Title"});var w=s(C,2);t(()=>i(w,()=>is,(U,x)=>{x(U,{children:l(na,(_,b)=>{t(()=>Je(_,{get scheduleId(){return e(r).current},onSave:()=>e(d).current=!1}),"component",na,17,8,{componentTag:"ManageScheduleForm"})}),$$slots:{default:!0}})}),"component",na,16,6,{componentTag:"Sheet.Description"}),n(X,le)}),$$slots:{default:!0}})}),"component",na,14,4,{componentTag:"Sheet.Header"}),n(J,ne)}),$$slots:{default:!0}})}),"component",na,13,2,{componentTag:"Sheet.Content"}),n(z,R)}),$$slots:{default:!0}})}),"component",na,12,0,{componentTag:"Sheet.Root"}),n(c,o),at({...nt()})}function Vc(c,a,d={}){const{categoryField:r="category",valueField:o="y",seriesField:g="series",colors:T=[]}=d;switch(a){case"pie":case"arc":return Rc(c,{categoryField:r,valueField:o,colors:T});case"calendar":return Mc(c,d);default:return c}}function Rc(c,a){const{categoryField:d,valueField:r,colors:o}=a;return c.reduce((m,G)=>{const Q=G[d]||G.category||G.label||String(G.x),z=m.find(ae=>ae.category===Q);return z?z.value+=Math.abs(Number(G[r]||G.value||G.y||0)):m.push({category:Q,value:Math.abs(Number(G[r]||G.value||G.y||0))}),m},[]).filter(m=>m.value>0).sort((m,G)=>G.value-m.value).map((m,G)=>({value:m.value,label:m.category,category:m.category,...o&&o.length>0&&o[G%o.length]?{color:o[G%o.length]}:{}}))}function Mc(c,a){const{dateField:d="x",valueField:r="y"}=a;return c.map(o=>({...o,date:o[d]instanceof Date?o[d]:new Date(o[d]),value:o[r]||o.y||0}))}function Lc(c){switch(c){case"pie":case"arc":return{x:"value",c:"category"};case"calendar":return{x:"date",y:"value"};default:return{x:"x",y:"y"}}}function Oc(c){return["bar","area","line","scatter","spline"].includes(c)}function zc(c){return["pie","arc"].includes(c)}function Ec(c){return[].includes(c)}function Nc(c,a){const d=(m,G)=>typeof m=="function"?m(G):G[m],r=c.map((m,G)=>({x:d(a.x,m),y:Number(d(a.income,m))||0,category:"Income",series:"income",metadata:{...m,index:G,type:"income"}})),o=c.map((m,G)=>({x:d(a.x,m),y:Math.abs(Number(d(a.expenses,m))||0),category:"Expenses",series:"expenses",metadata:{...m,index:G,type:"expenses"}})),g=c.flatMap((m,G)=>[{x:d(a.x,m),y:Number(d(a.income,m))||0,category:"Income",series:"income",key:`combined-income-${G}`,metadata:{...m,index:G,type:"income"}},{x:d(a.x,m),y:Math.abs(Number(d(a.expenses,m))||0),category:"Expenses",series:"expenses",key:`combined-expenses-${G}`,metadata:{...m,index:G,type:"expenses"}}]),T=[...r,...o];return{combined:g,income:r,expenses:o,series:T}}function In(c,a){return c.map((d,r)=>{const o=g=>typeof g=="function"?g(d):d[g];return{x:o(a.x),y:Number(o(a.y))||0,...a.category&&{category:String(o(a.category))},metadata:{...d,index:r}}})}function Bc(c,a=500){if(c.length<=a)return c;const d=Math.ceil(c.length/a),r=[];for(let o=0;o<c.length;o+=d){const g=c.slice(o,o+d),T=g.reduce((Q,z)=>Q+z.y,0)/g.length,m=Math.floor(g.length/2),G=g[m]||g[0];G&&r.push({x:G.x,y:T,category:G.category,metadata:{...G.metadata,aggregated:!0,pointCount:g.length}})}return r}function er(c,a){if(!c.length)return[{key:0,label:"All Time"}];const d=c.map(ae=>Ln(ae[a])).filter(ae=>ae!==null).sort((ae,R)=>ae.compare(R));if(d.length===0)return[{key:0,label:"All Time"}];const r=d[0],o=d[d.length-1],g=(o.year-r.year)*12+(o.month-r.month)+1,T=[{key:0,label:"All Time"}],m=Math.max(3,Math.floor(g/4)),G=Math.max(6,Math.floor(g/2)),Q=Math.max(9,Math.floor(g*3/4));if(g>=6){const ae=Math.min(6,m);T.push({key:ae,label:`Last ${ae} Month${ae===1?"":"s"}`})}if(g>=12){const ae=Math.min(12,G);ae>6&&T.push({key:ae,label:`Last ${ae} Months`})}if(g>=18){const ae=Math.min(24,Q);ae>12&&T.push({key:ae,label:`Last ${ae} Months`})}return d.some(ae=>ae.year===nn.year)&&T.push({key:"ytd",label:"Year to Date"}),T}function qc(c){if(c===0||c==="0")return null;if(c==="ytd")return nn.set({month:1,day:1});const a=typeof c=="number"?c:parseInt(c.toString());return!isNaN(a)&&a>0?nn.subtract({months:a}).set({day:1}):null}function Or(c,a,d){if(d===0||d==="0")return c;const r=qc(d);return r?c.filter(o=>{const g=Ln(o[a]);return g?g.compare(r)>=0:!0}):c}const Wn=["hsl(217 91% 60%)","hsl(142 71% 45%)","hsl(350 89% 60%)","hsl(262 83% 58%)","hsl(25 95% 53%)","hsl(175 85% 45%)","hsl(48 94% 68%)","hsl(343 75% 68%)"],At={getChartColor:c=>Wn[c%Wn.length]||Wn[0],getThemeColor:c=>`hsl(var(--${c}))`,getAllChartColors:()=>[...Wn],getFinancialColors(){return{positive:At.getChartColor(1),negative:At.getChartColor(2),warning:At.getChartColor(4),neutral:At.getChartColor(0),zeroLine:At.getChartColor(7)}},getCategoryColors:c=>Array.from({length:c},(a,d)=>At.getChartColor(d%8))},Co={default:{name:"Default",colors:Array.from({length:8},(c,a)=>At.getChartColor(a)),description:"Balanced multi-color palette",category:"general"},financial:{name:"Financial",colors:[At.getChartColor(1),At.getChartColor(2),At.getChartColor(0),At.getChartColor(4)],description:"Green for income, red for expenses",category:"financial"},monochrome:{name:"Mono",colors:["hsl(220 13% 69%)","hsl(220 13% 50%)","hsl(220 13% 31%)","hsl(220 13% 18%)"],description:"Grayscale color scheme",category:"accessibility"},vibrant:{name:"Vibrant",colors:["hsl(340 82% 52%)","hsl(291 64% 42%)","hsl(262 83% 58%)","hsl(175 70% 41%)"],description:"High contrast vibrant colors",category:"thematic"},pastel:{name:"Pastel",colors:["hsl(210 40% 80%)","hsl(120 40% 80%)","hsl(60 40% 80%)","hsl(0 40% 80%)"],description:"Soft pastel colors",category:"thematic"},earthy:{name:"Earthy",colors:["hsl(30 40% 60%)","hsl(120 25% 45%)","hsl(25 70% 50%)","hsl(50 30% 50%)"],description:"Natural earth tone colors",category:"thematic"},ocean:{name:"Ocean",colors:["hsl(200 80% 60%)","hsl(180 60% 50%)","hsl(220 70% 45%)","hsl(160 40% 40%)"],description:"Ocean and water inspired colors",category:"thematic"},sunset:{name:"Sunset",colors:["hsl(15 85% 60%)","hsl(0 75% 55%)","hsl(45 80% 65%)","hsl(330 60% 50%)"],description:"Warm sunset colors",category:"thematic"}};function jc(){const c={general:[],financial:[],accessibility:[],thematic:[]};return Object.values(Co).forEach(a=>{c[a.category].push(a)}),c}function Hc(c){return Co[c]||null}function Gc(c){return Hc(c)?.colors||Co.default.colors}function Uc(c){const{data:a,config:d,chartType:r,currentPeriod:o,viewMode:g,viewModeData:T,yFields:m,yFieldLabels:G,categoryField:Q,enableColorScheme:z=!1,selectedColorScheme:ae="default"}=c,R=zc(r),F=Ec(r),ee=Oc(r),E=Lc(r),J=!T||B(g,"combined")?a:T.combined||a,re=(()=>{const _=J;if(!d.timeFiltering.enabled)return _;const b=d.timeFiltering.sourceData&&d.timeFiltering.sourceData.length>0&&d.timeFiltering.sourceProcessor;if(R&&b){const P=B(o,0)?d.timeFiltering.sourceData:Or(d.timeFiltering.sourceData,d.timeFiltering.sourceDateField,o);return d.timeFiltering.sourceProcessor(P)}return Or(_,d.timeFiltering.field,o)})(),ne=(()=>{if(!re||B(re.length,0))return[];const _=re.length>500?Bc(re,500):re,b={categoryField:Q||"category",valueField:"y",seriesField:"series"};B(d.styling.colors,"auto",!1)&&(b.colors=d.styling.colors);const P=Vc(_,r,b);if(B(r,"bar")&&_.length>0&&!R){const f=_[0];if(f&&f.x instanceof Date&&_.length<=12&&!(ee&&m&&m.length>1&&re.some(k=>k.series||k.category)))return _.map(k=>({...k,x:k.x instanceof Date?k.x.toLocaleDateString("en-US",{month:"short",year:"numeric"}):String(k.x)}))}return Array.isArray(P)?P:[P]})(),ye=ee&&!!(m&&m.length>1&&re.some(_=>_.series||_.category)),_e=(()=>{if(!ye)return[];const _=new Set;return ne.forEach(b=>{b.series?_.add(b.series):b.category&&_.add(b.category)}),Array.from(_)})(),ce=G&&G.length>0?G:_e,X=ye?_e.map(_=>ne.filter(b=>B(b.series,_)||B(b.category,_))):[],te=(()=>{if(B(r,"bar")&&ne.length>0&&!R)return Fo().domain(ne.map(b=>String(b.x))).range([0,1]).paddingInner(.1).paddingOuter(.05)})(),le=(()=>{if(B(r,"bar")&&T?.income&&T.income.length>0&&!R)return Fo().domain(T.income.map(b=>String(b.x))).range([0,1]).paddingInner(.1).paddingOuter(.05)})(),C=(()=>{if(B(r,"bar")&&T?.expenses&&T.expenses.length>0&&!R)return Fo().domain(T.expenses.map(b=>String(b.x))).range([0,1]).paddingInner(.1).paddingOuter(.05)})(),w=z?Gc(ae):B(d.styling.colors,"auto")?Array.from({length:8},(_,b)=>At.getChartColor(b)):d.styling.colors,U=(()=>{if(!d.timeFiltering.enabled)return[];const _=d.timeFiltering.sourceData&&d.timeFiltering.sourceData.length>0;return R&&_?er(d.timeFiltering.sourceData,d.timeFiltering.sourceDateField).map(f=>({value:Number(f.value),label:f.label})):er(a,d.timeFiltering.field).map(P=>({value:Number(P.value),label:P.label}))})(),x={totalPoints:ne.length,missingValues:ne.filter(_=>B(_.y,null)||B(_.y,void 0)).length,duplicateKeys:0,dataTypes:{x:[...new Set(ne.map(_=>typeof _.x))],y:[...new Set(ne.map(_=>typeof _.y))]},valueRanges:{x:ne.length>0?[ne[0].x,ne[ne.length-1].x]:[null,null],y:ne.length>0?[Math.min(...ne.map(_=>_.y)),Math.max(...ne.map(_=>_.y))]:[0,0]}};return{chartData:ne,filteredData:re,isMultiSeries:ye,seriesList:_e,legendItems:ce,seriesData:X,bandScale:te,incomeBandScale:le,expensesBandScale:C,effectiveColors:w,availablePeriods:U,isChartCircular:R,isChartHierarchical:F,chartSupportsMultiSeries:ee,dataAccessors:E,dataQuality:x}}function Qc(c){return()=>Uc(c())}const Wc={area:{component:Fl,category:"data-driven",props:["data","fill","fillOpacity","stroke","strokeWidth","curve","class"],requiredProps:[],description:"Filled area under a line showing trends over time",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["animation","multi-series","stacking"]},line:{component:xr,category:"data-driven",props:["data","fill","fillOpacity","stroke","strokeWidth","curve","class"],requiredProps:[],description:"Line chart showing trends over time",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["animation","multi-series","stacking"]},bar:{component:Dl,category:"data-driven",props:["data","fill","stroke","strokeWidth","padding","horizontal","class"],requiredProps:[],description:"Rectangular bars for categorical data comparison",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["animation","multi-series","horizontal","stacking"]},spline:{component:xr,category:"data-driven",props:["data","stroke","strokeWidth","fill","curve","class"],requiredProps:[],description:"Smooth curved line connecting data points",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["animation","multi-series","curves"]},points:{component:$r,category:"data-driven",props:["data","fill","stroke","strokeWidth","r","class"],requiredProps:[],description:"Individual data points as circles or custom shapes",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["animation","multi-series","variable-size"]},scatter:{component:$r,category:"data-driven",props:["data","fill","stroke","strokeWidth","r","class"],requiredProps:[],description:"Scatter plot showing individual data points",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["animation","multi-series","variable-size"]},hull:{component:Sl,category:"data-driven",props:["data","fill","fillOpacity","stroke","strokeWidth","class"],requiredProps:[],description:"Convex hull around a set of points",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["animation"]},rule:{component:Eo,category:"data-driven",props:["data","x","y","x1","x2","y1","y2","stroke","strokeWidth","strokeDasharray","class"],requiredProps:[],description:"Reference lines and value annotations",dataRequirements:{format:"xy",fields:[]},supportedFeatures:["animation","annotations"]},pie:{component:Pl,category:"radial",props:["data","innerRadius","outerRadius","padAngle","cornerRadius","range","startAngle","endAngle","offset","sort","class"],requiredProps:[],description:"Circular sectors showing proportions of a whole",dataRequirements:{format:"categorical",fields:["value"]},supportedFeatures:["animation","labels","explode"]},arc:{component:Cl,category:"radial",props:["data","innerRadius","outerRadius","startAngle","endAngle","padAngle","cornerRadius","fill","stroke","offset","class"],requiredProps:[],description:"Individual arc segments for custom radial charts",dataRequirements:{format:"categorical",fields:["value"]},supportedFeatures:["animation","custom-angles"]},calendar:{component:wl,category:"data-driven",props:["data","start","end","value","fill","stroke","cellSize","class"],requiredProps:["start","end"],description:"Calendar heatmap for time-based data",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["animation","date-navigation"]},group:{component:Tl,category:"utility",props:["x","y","center","class"],requiredProps:[],description:"SVG group for positioning and centering elements",dataRequirements:{format:"xy",fields:[]},supportedFeatures:["animation","positioning"]},circle:{component:xl,category:"utility",props:["cx","cy","r","fill","stroke","strokeWidth","class"],requiredProps:[],description:"SVG circle primitive with motion support",dataRequirements:{format:"xy",fields:[]},supportedFeatures:["animation"]},labels:{component:Qr,category:"utility",props:["data","format","x","y","fill","fontSize","textAnchor","class"],requiredProps:[],description:"Data point labels with formatting options",dataRequirements:{format:"xy",fields:["x","y"]},supportedFeatures:["formatting","positioning"]},grid:{component:Ur,category:"utility",props:["horizontal","vertical","stroke","strokeWidth","strokeDasharray","opacity","class"],requiredProps:[],description:"Chart grid lines for reference",dataRequirements:{format:"xy",fields:[]},supportedFeatures:["styling"]},axis:{component:Xa,category:"utility",props:["placement","ticks","tickFormat","tickSize","tickPadding","grid","label","labelProps","class"],requiredProps:["placement"],description:"Chart axis with ticks and labels",dataRequirements:{format:"xy",fields:[]},supportedFeatures:["formatting","positioning","grid"]},legend:{component:Gr,category:"utility",props:["placement","orientation","colorScale","format","class"],requiredProps:[],description:"Chart legend with color mapping",dataRequirements:{format:"xy",fields:[]},supportedFeatures:["positioning","formatting"]}};function vl(c){return Wc[c]||null}function Yc(c,a){const d=vl(c);if(!d)return{isValid:!1,errors:[`Unknown chart type: ${c}`]};const r=[];if(!a||a.length===0)return r.push("Data array is empty or undefined"),{isValid:!1,errors:r};const o=a[0],g=d.dataRequirements.fields;for(const T of g)T in o||r.push(`Required field '${T}' missing from data`);return{isValid:r.length===0,errors:r}}const Kc={curveLinear:No,curveMonotoneX:Ml,curveCardinal:Rl,curveCatmullRom:Vl,curveNatural:Al,curveBasis:kl,curveStep:Il};function Xc(c){return c?Kc[c]||No:No}function zr(c){return!c.curve||typeof c.curve=="function"?c:typeof c.curve=="string"?{...c,curve:Xc(c.curve)}:c}Wt[v]="src/lib/components/charts/dynamic-chart-renderer.svelte";var Zc=h(y('<div class="flex items-center justify-center h-full"><p class="text-muted-foreground"> </p></div>'),Wt[v],[[74,2,[[75,4]]]]),Jc=h(y('<p class="text-sm text-muted-foreground"> </p>'),Wt[v],[[82,8]]),ed=h(y('<div class="flex items-center justify-center h-full"><div class="text-center space-y-2"><p class="text-destructive font-medium">Data Validation Error</p> <!></div></div>'),Wt[v],[[78,2,[[79,4,[[80,6]]]]]]),td=h(y('<div class="flex items-center justify-center h-full"><p class="text-muted-foreground"> </p></div>'),Wt[v],[[111,2,[[112,4]]]]);function Wt(c,a){et(new.target),tt(a,!0,Wt);let d=Ye(a,"config",19,()=>({})),r=Ye(a,"seriesData",19,()=>[]),o=Ye(a,"seriesColors",19,()=>[]),g=Ye(a,"class",3,"");const T=D(p(()=>vl(a.chartType)),"componentConfig"),m=D(p(()=>()=>Yc(a.chartType,a.data)),"validation"),G=D(p(()=>()=>{if(!e(T))return{};const ee=zr(d()),E={data:a.data,class:g(),...ee};return o().length>0&&(a.isMultiSeries&&o().length>1||(B(ee.fill,void 0)&&(E.fill=o()[0]),B(ee.stroke,void 0)&&(E.stroke=o()[0]))),E}),"componentProps"),Q=D(p(()=>()=>e(T)?.component||null),"ComponentToRender");var z=L(),ae=u(z);{var R=ee=>{var E=Zc(),J=A(E),re=A(J);S(J),S(E),xe(()=>Te(re,`Unsupported chart type: ${a.chartType??""}`)),n(ee,E)},F=ee=>{var E=L(),J=u(E);{var re=ye=>{var _e=ed(),ce=A(_e),X=s(A(ce),2);t(()=>rt(X,17,()=>e(m)().errors,ut,(te,le)=>{var C=Jc(),w=A(C,!0);S(C),xe(()=>Te(w,e(le))),n(te,C)}),"each",Wt,81,6),S(ce),S(_e),n(ye,_e)},ne=ye=>{var _e=L(),ce=u(_e);{var X=le=>{var C=L(),w=u(C);{var U=_=>{var b=L(),P=u(b);t(()=>rt(P,17,r,ut,(f,W,k)=>{const q=D(p(()=>o()[k%o().length]||"hsl(var(--chart-1))"),"seriesColor");e(q);const I=D(p(()=>zr({...e(G)(),data:e(W),fill:["line","spline"].includes(a.chartType)?"none":e(q),stroke:e(q)})),"seriesProps");e(I);const N=D(p(()=>e(Q)()),"Component");e(N);var O=L(),Y=u(O);{var $=V=>{var M=L(),oe=u(M);t(()=>i(oe,()=>e(N),(ue,Z)=>{Z(ue,yt(()=>e(I)))}),"component",Wt,100,8,{componentTag:"Component"}),n(V,M)};t(()=>pe(Y,V=>{e(N)&&V($)}),"if",Wt,99,6)}n(f,O)}),"each",Wt,89,4),n(_,b)},x=_=>{const b=D(p(()=>e(Q)()),"Component");e(b);var P=L(),f=u(P);{var W=k=>{var q=L(),I=u(q);{let N=p(()=>e(G)());t(()=>i(I,()=>e(b),(O,Y)=>{Y(O,yt(()=>e(N)))}),"component",Wt,107,6,{componentTag:"Component"})}n(k,q)};t(()=>pe(f,k=>{e(b)&&k(W)}),"if",Wt,106,4)}n(_,P)};t(()=>pe(w,_=>{a.isMultiSeries&&r().length>0?_(U):_(x,!1)}),"if",Wt,87,2)}n(le,C)},te=le=>{var C=td(),w=A(C),U=A(w);S(w),S(C),xe(()=>Te(U,`Component not available: ${a.chartType??""}`)),n(le,C)};t(()=>pe(ce,le=>{e(Q)()?le(X):le(te,!1)},!0),"if",Wt,86,0)}n(ye,_e)};t(()=>pe(J,ye=>{e(m)().isValid?ye(ne,!1):ye(re)},!0),"if",Wt,77,0)}n(ee,E)};t(()=>pe(ae,ee=>{e(T)?ee(F,!1):ee(R)}),"if",Wt,73,0)}return n(c,z),at({...nt()})}Sn[v]="src/lib/components/charts/chart-legend.svelte";function Sn(c,a){et(new.target),tt(a,!0,Sn);let d=Ye(a,"position",3,"top");Ye(a,"isMultiSeries",3,!1);let r=Ye(a,"spacing",3,"normal"),o=Ye(a,"variant",3,"swatches"),g=Ye(a,"swatchSize",3,"small"),T=Ye(a,"fontSize",3,"sm"),m=Ye(a,"class",3,""),G=Ye(a,"itemClass",3,""),Q=Ye(a,"swatchClass",3,"");const z=D(p(()=>{if(!a.items||B(a.items.length,0)||!a.colors||B(a.colors.length,0))return null;const te=a.colors.slice(0,a.items.length);for(;te.length<a.items.length;)te.push(a.colors[te.length%a.colors.length]);return Ll().domain(a.items).range(te)}),"legendScale"),ae=D(p(()=>{switch(r()){case"compact":return"gap-x-2 gap-y-0.5";case"wide":return"gap-x-6 gap-y-2";case"normal":default:return"gap-x-4 gap-y-1"}}),"spacingClasses"),R=D(p(()=>{switch(g()){case"small":return"size-3";case"large":return"size-5";case"medium":default:return"size-4"}}),"swatchSizeClasses"),F=D(p(()=>{switch(T()){case"xs":return"text-xs";case"base":return"text-base";case"sm":default:return"text-sm"}}),"fontSizeClasses"),ee=D(p(()=>{switch(d()){case"left":return"justify-start";case"right":return"justify-end";case"bottom":case"top":default:return"justify-center"}}),"positionClasses"),E=D(p(()=>B(d(),"left")||B(d(),"right")?"vertical":"horizontal"),"orientation");function J(te,le){const C=a.items.indexOf(le.value);C>=0&&a.onItemClick&&a.onItemClick(le.value,C)}function re(te,le){const C=a.items.indexOf(le.value);C>=0&&a.onItemHover&&a.onItemHover(le.value,C)}function ne(te,le){const C=a.items.indexOf(le.value);C>=0&&a.onItemLeave&&a.onItemLeave(le.value,C)}const ye=D(p(()=>{const te=`${e(ee)()} ${m()}`,le=`lc-legend-swatch-group ${e(ae)()}`,C=`flex items-center gap-1.5 ${e(F)()} ${G()}`,w=`${e(R)()} rounded ${Q()}`;return{root:te,items:le,item:C,swatch:w,label:e(F)()}}),"legendClasses");var _e=L(),ce=u(_e);{var X=te=>{{let le=p(()=>e(ye)());t(()=>Gr(te,yt({get scale(){return e(z)},get variant(){return o()},get placement(){return d()},get orientation(){return e(E)}},()=>a.title?{title:a.title}:{},{onclick:J,onpointerenter:re,onpointerleave:ne,get classes(){return e(le)}})),"component",Sn,191,2,{componentTag:"Legend"})}};t(()=>pe(ce,te=>{a.show&&e(z)&&a.items.length>0&&te(X)}),"if",Sn,190,0)}return n(c,_e),at({...nt()})}Oe[v]="src/lib/components/charts/chart-core.svelte";var ad=h(y("<!> <!>",1),Oe[v],[]),nd=h(y("<!> <!>",1),Oe[v],[]),od=h(y("<!> <!>",1),Oe[v],[]),rd=h(y("<!> <!>",1),Oe[v],[]),ld=h(y("<!> <!>",1),Oe[v],[]),sd=h(y("<!> <!>",1),Oe[v],[]),id=h(y("<!> <!>",1),Oe[v],[]),cd=h(y("<!> <!>",1),Oe[v],[]),dd=h(y('<div><div class="h-full"><h4 class="text-sm font-medium mb-2 text-center">Income</h4> <!></div> <div class="h-full"><h4 class="text-sm font-medium mb-2 text-center">Expenses</h4> <!></div></div>'),Oe[v],[[106,2,[[108,4,[[109,6]]],[192,4,[[193,6]]]]]]),ud=h(y("<!> <!>",1),Oe[v],[]),md=h(y("<!> <!> <!> <!> <!> <!>",1),Oe[v],[]),vd=h(y("<!> <!>",1),Oe[v],[]),gd=h(y("<!> <!>",1),Oe[v],[]),pd=h(y("<!> <!>",1),Oe[v],[]),fd=h(y("<!> <!> <!>",1),Oe[v],[]),_d=h(y("<div><!></div>"),Oe[v],[[277,2]]);function Oe(c,a){et(new.target),tt(a,!0,Oe);let d=Ye(a,"viewMode",3,"combined"),r=Ye(a,"class",3,"");const o=D(p(()=>a.processor.chartData),"chartData"),g=D(p(()=>a.processor.isMultiSeries),"isMultiSeries"),T=D(p(()=>a.processor.legendItems),"legendItems"),m=D(p(()=>a.processor.seriesData),"seriesData"),G=D(p(()=>a.processor.bandScale),"bandScale"),Q=D(p(()=>a.processor.incomeBandScale),"incomeBandScale"),z=D(p(()=>a.processor.expensesBandScale),"expensesBandScale"),ae=D(p(()=>a.processor.effectiveColors),"effectiveColors"),R=D(p(()=>a.processor.isChartCircular),"isChartCircular"),F=D(p(()=>a.processor.isChartHierarchical),"isChartHierarchical"),ee=D(p(()=>a.processor.dataAccessors),"dataAccessors"),E=D(p(()=>a.config.styling.legend.show&&(e(g)||e(R)||a.yFieldLabels&&a.yFieldLabels.length>1)),"showLegend"),J=D(p(()=>{if(e(o).length>8)return e(o).filter((ce,X)=>B(X%Math.ceil(e(o).length/4),0)).map(ce=>B(typeof ce,"object")&&"x"in ce?ce.x:"")}),"xAxisTicks");var re=L(),ne=u(re);{var ye=ce=>{var X=dd(),te=A(X),le=s(A(te),2);{let U=p(()=>!e(R)&&!e(F)?{x:e(ee).x||"x",y:e(ee).y||"y",...a.config.axes.y.nice?{yNice:a.config.axes.y.nice}:{},...a.config.axes.x.nice?{xNice:a.config.axes.x.nice}:{},...e(Q)?{xScale:e(Q)}:{}}:{...e(ee),...e(R)&&e(ae).length>0?{cRange:[e(ae)[0]||"hsl(var(--chart-1))"]}:{}});t(()=>Io(le,yt({get data(){return a.viewModeData.income}},()=>e(U),()=>a.config.styling.dimensions.padding?{padding:a.config.styling.dimensions.padding}:{},{children:l(Oe,(x,_)=>{var b=rd(),P=u(b);t(()=>ko(P,{children:l(Oe,(k,q)=>{var I=nd(),N=u(I);{var O=$=>{var V=ad(),M=u(V);{var oe=j=>{t(()=>Xa(j,{placement:"left"}),"component",Oe,129,14,{componentTag:"Axis"})};t(()=>pe(M,j=>{a.config.axes.y.show&&j(oe)}),"if",Oe,128,12)}var ue=s(M,2);{var Z=j=>{t(()=>Xa(j,{placement:"bottom"}),"component",Oe,132,14,{componentTag:"Axis"})};t(()=>pe(ue,j=>{a.config.axes.x.show&&j(Z)}),"if",Oe,131,12)}n($,V)};t(()=>pe(N,$=>{!e(R)&&!e(F)&&$(O)}),"if",Oe,127,10)}var Y=s(N,2);{let $=p(()=>({padding:B(a.chartType,"bar")?4:void 0,fillOpacity:B(a.chartType,"area")?.6:void 0,strokeWidth:["line","spline","threshold"].includes(a.chartType)?2:void 0,fill:["line","spline"].includes(a.chartType)?"none":void 0,stroke:["line","spline"].includes(a.chartType)?e(ae)[0]||"hsl(var(--chart-1))":void 0,curve:["line","spline","area"].includes(a.chartType)&&a.config.controls.allowCurveChange?a.selectedCurve:void 0})),V=p(()=>[e(ae)[0]||"hsl(var(--chart-1))"]);t(()=>Wt(Y,{get chartType(){return a.chartType},get data(){return a.viewModeData.income},get config(){return e($)},seriesData:[],get seriesColors(){return e(V)},isMultiSeries:!1}),"component",Oe,136,10,{componentTag:"DynamicChartRenderer"})}n(k,I)}),$$slots:{default:!0}}),"component",Oe,126,8,{componentTag:"Svg"});var f=s(P,2);{var W=k=>{var q=L(),I=u(q);{const N=l(Oe,function($,V){Ct(...arguments);let M=()=>V?.().data;M();var oe=od(),ue=u(oe);t(()=>i(ue,()=>Ao,(j,ge)=>{ge(j,{children:l(Oe,(ve,Ie)=>{var $e=L(),me=u($e);{var fe=de=>{var be=L(),he=u(be);{var Re=Ce=>{var De=K();xe(Fe=>Te(De,Fe),[()=>M().x.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]),n(Ce,De)},ke=Ce=>{var De=K();xe(()=>Te(De,M().x)),n(Ce,De)};t(()=>pe(he,Ce=>{M().x instanceof Date?Ce(Re):Ce(ke,!1)}),"if",Oe,171,18)}n(de,be)};t(()=>pe(me,de=>{M()?.x&&de(fe)}),"if",Oe,170,16)}n(ve,$e)}),$$slots:{default:!0}})}),"component",Oe,169,14,{componentTag:"Tooltip.Header"});var Z=s(ue,2);t(()=>i(Z,()=>Vo,(j,ge)=>{ge(j,{children:l(Oe,(ve,Ie)=>{var $e=L(),me=u($e);{let fe=p(()=>M()?.y||M()?.value||0);t(()=>i(me,()=>xn,(de,be)=>{be(de,{label:"Income",get value(){return e(fe)},get color(){return e(ae)[0]}})}),"component",Oe,179,16,{componentTag:"Tooltip.Item"})}n(ve,$e)}),$$slots:{default:!0}})}),"component",Oe,178,14,{componentTag:"Tooltip.List"}),n($,oe)});let O=p(()=>a.config.interactions.tooltip.position||"pointer"),Y=p(()=>a.config.interactions.tooltip.position||"pointer");t(()=>i(I,()=>Ro,($,V)=>{V($,yt({get x(){return e(O)},get y(){return e(Y)}},()=>B(a.config.interactions.tooltip.xOffset,void 0,!1)?{xOffset:a.config.interactions.tooltip.xOffset}:{},()=>B(a.config.interactions.tooltip.yOffset,void 0,!1)?{yOffset:a.config.interactions.tooltip.yOffset}:{},()=>a.config.interactions.tooltip.anchor?{anchor:a.config.interactions.tooltip.anchor}:{},()=>a.config.interactions.tooltip.variant?{variant:a.config.interactions.tooltip.variant}:{},{classes:{root:"bg-background/95 backdrop-blur-sm border shadow-lg rounded-md px-3 py-2",content:"text-sm",header:"font-semibold mb-1"},children:N,$$slots:{default:!0}}))}),"component",Oe,155,10,{componentTag:"Tooltip.Root"})}n(k,q)};t(()=>pe(f,k=>{a.config.interactions.tooltip.enabled&&k(W)}),"if",Oe,154,8)}n(x,b)}),$$slots:{default:!0}})),"component",Oe,110,6,{componentTag:"Chart"})}S(te);var C=s(te,2),w=s(A(C),2);{let U=p(()=>!e(R)&&!e(F)?{x:e(ee).x||"x",y:e(ee).y||"y",...a.config.axes.y.nice?{yNice:a.config.axes.y.nice}:{},...a.config.axes.x.nice?{xNice:a.config.axes.x.nice}:{},...e(z)?{xScale:e(z)}:{}}:{...e(ee),...e(R)&&e(ae).length>0?{cRange:[e(ae)[1]||"hsl(var(--chart-2))"]}:{}});t(()=>Io(w,yt({get data(){return a.viewModeData.expenses}},()=>e(U),()=>a.config.styling.dimensions.padding?{padding:a.config.styling.dimensions.padding}:{},{children:l(Oe,(x,_)=>{var b=cd(),P=u(b);t(()=>ko(P,{children:l(Oe,(k,q)=>{var I=sd(),N=u(I);{var O=$=>{var V=ld(),M=u(V);{var oe=j=>{t(()=>Xa(j,{placement:"left"}),"component",Oe,213,14,{componentTag:"Axis"})};t(()=>pe(M,j=>{a.config.axes.y.show&&j(oe)}),"if",Oe,212,12)}var ue=s(M,2);{var Z=j=>{t(()=>Xa(j,{placement:"bottom"}),"component",Oe,216,14,{componentTag:"Axis"})};t(()=>pe(ue,j=>{a.config.axes.x.show&&j(Z)}),"if",Oe,215,12)}n($,V)};t(()=>pe(N,$=>{!e(R)&&!e(F)&&$(O)}),"if",Oe,211,10)}var Y=s(N,2);{let $=p(()=>({padding:B(a.chartType,"bar")?4:void 0,fillOpacity:B(a.chartType,"area")?.6:void 0,strokeWidth:["line","spline","threshold"].includes(a.chartType)?2:void 0,fill:["line","spline"].includes(a.chartType)?"none":void 0,stroke:["line","spline"].includes(a.chartType)?e(ae)[1]||"hsl(var(--chart-2))":void 0,curve:["line","spline","area"].includes(a.chartType)&&a.config.controls.allowCurveChange?a.selectedCurve:void 0})),V=p(()=>[e(ae)[1]||"hsl(var(--chart-2))"]);t(()=>Wt(Y,{get chartType(){return a.chartType},get data(){return a.viewModeData.expenses},get config(){return e($)},seriesData:[],get seriesColors(){return e(V)},isMultiSeries:!1}),"component",Oe,220,10,{componentTag:"DynamicChartRenderer"})}n(k,I)}),$$slots:{default:!0}}),"component",Oe,210,8,{componentTag:"Svg"});var f=s(P,2);{var W=k=>{var q=L(),I=u(q);{const N=l(Oe,function($,V){Ct(...arguments);let M=()=>V?.().data;M();var oe=id(),ue=u(oe);t(()=>i(ue,()=>Ao,(j,ge)=>{ge(j,{children:l(Oe,(ve,Ie)=>{var $e=L(),me=u($e);{var fe=de=>{var be=L(),he=u(be);{var Re=Ce=>{var De=K();xe(Fe=>Te(De,Fe),[()=>M().x.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]),n(Ce,De)},ke=Ce=>{var De=K();xe(()=>Te(De,M().x)),n(Ce,De)};t(()=>pe(he,Ce=>{M().x instanceof Date?Ce(Re):Ce(ke,!1)}),"if",Oe,255,18)}n(de,be)};t(()=>pe(me,de=>{M()?.x&&de(fe)}),"if",Oe,254,16)}n(ve,$e)}),$$slots:{default:!0}})}),"component",Oe,253,14,{componentTag:"Tooltip.Header"});var Z=s(ue,2);t(()=>i(Z,()=>Vo,(j,ge)=>{ge(j,{children:l(Oe,(ve,Ie)=>{var $e=L(),me=u($e);{let fe=p(()=>M()?.y||M()?.value||0);t(()=>i(me,()=>xn,(de,be)=>{be(de,{label:"Expenses",get value(){return e(fe)},get color(){return e(ae)[1]}})}),"component",Oe,263,16,{componentTag:"Tooltip.Item"})}n(ve,$e)}),$$slots:{default:!0}})}),"component",Oe,262,14,{componentTag:"Tooltip.List"}),n($,oe)});let O=p(()=>a.config.interactions.tooltip.position||"pointer"),Y=p(()=>a.config.interactions.tooltip.position||"pointer");t(()=>i(I,()=>Ro,($,V)=>{V($,yt({get x(){return e(O)},get y(){return e(Y)}},()=>B(a.config.interactions.tooltip.xOffset,void 0,!1)?{xOffset:a.config.interactions.tooltip.xOffset}:{},()=>B(a.config.interactions.tooltip.yOffset,void 0,!1)?{yOffset:a.config.interactions.tooltip.yOffset}:{},()=>a.config.interactions.tooltip.anchor?{anchor:a.config.interactions.tooltip.anchor}:{},()=>a.config.interactions.tooltip.variant?{variant:a.config.interactions.tooltip.variant}:{},{classes:{root:"bg-background/95 backdrop-blur-sm border shadow-lg rounded-md px-3 py-2",content:"text-sm",header:"font-semibold mb-1"},children:N,$$slots:{default:!0}}))}),"component",Oe,239,10,{componentTag:"Tooltip.Root"})}n(k,q)};t(()=>pe(f,k=>{a.config.interactions.tooltip.enabled&&k(W)}),"if",Oe,238,8)}n(x,b)}),$$slots:{default:!0}})),"component",Oe,194,6,{componentTag:"Chart"})}S(C),S(X),xe(()=>Oa(X,1,`grid grid-cols-1 md:grid-cols-2 gap-4 h-full ${r()??""}`)),n(ce,X)},_e=ce=>{var X=_d(),te=A(X);{let le=p(()=>!e(R)&&!e(F)?{x:e(ee).x||"x",y:e(ee).y||"y",...e(g)?{c:C=>C.series||C.category,cDomain:e(T),cRange:e(ae).slice(0,e(T).length)}:{},...a.config.axes.y.nice?{yNice:a.config.axes.y.nice}:{},...a.config.axes.x.nice?{xNice:a.config.axes.x.nice}:{},...a.config.axes.y.domain&&(B(a.config.axes.y.domain[0],null,!1)||B(a.config.axes.y.domain[1],null,!1))?{yDomain:a.config.axes.y.domain}:{},...a.config.axes.x.domain&&(B(a.config.axes.x.domain[0],null,!1)||B(a.config.axes.x.domain[1],null,!1))?{xDomain:a.config.axes.x.domain}:{},...e(G)?{xScale:e(G)}:{}}:{...e(ee),...e(R)&&e(ae).length>0?{c:C=>C.label||C.category||C.name,cDomain:e(o).map(C=>C.label||C.category||C.name).filter((C,w,U)=>B(U.indexOf(C),w)),cRange:e(ae)}:{}});t(()=>Io(te,yt({get data(){return e(o)}},()=>e(le),()=>a.config.styling.dimensions.padding?{padding:a.config.styling.dimensions.padding}:{},{children:l(Oe,(C,w)=>{var U=fd(),x=u(U);t(()=>ko(x,{children:l(Oe,(f,W)=>{var k=md(),q=u(k);{var I=j=>{var ge=ud(),ve=u(ge);{var Ie=fe=>{t(()=>Xa(fe,{placement:"left"}),"component",Oe,309,12,{componentTag:"Axis"})};t(()=>pe(ve,fe=>{a.config.axes.y.show&&fe(Ie)}),"if",Oe,308,10)}var $e=s(ve,2);{var me=fe=>{t(()=>Xa(fe,yt({placement:"bottom"},()=>a.config.axes.x.rotateLabels?{tickLabelProps:{rotate:-45,textAnchor:"end"}}:{},()=>e(J)?{ticks:e(J)}:{})),"component",Oe,312,12,{componentTag:"Axis"})};t(()=>pe($e,fe=>{a.config.axes.x.show&&fe(me)}),"if",Oe,311,10)}n(j,ge)};t(()=>pe(q,j=>{!e(R)&&!e(F)&&j(I)}),"if",Oe,307,8)}var N=s(q,2);{let j=p(()=>({padding:B(a.chartType,"bar")?4:void 0,fillOpacity:B(a.chartType,"area")?.6:void 0,strokeWidth:["line","spline","threshold"].includes(a.chartType)?2:void 0,fill:["line","spline"].includes(a.chartType)?"none":void 0,stroke:["line","spline"].includes(a.chartType)?e(ae)[0]||"hsl(var(--chart-1))":void 0,curve:["line","spline","area"].includes(a.chartType)&&a.config.controls.allowCurveChange?a.selectedCurve:void 0,r:B(a.chartType,"scatter")?4:void 0,innerRadius:B(a.chartType,"arc")?40:void 0,outerRadius:B(a.chartType,"arc")?150:void 0,start:B(a.chartType,"calendar")&&e(o).length>0?new Date(Math.min(...e(o).map(ve=>{if(B(typeof ve,"object")&&"x"in ve){if(ve.x instanceof Date)return ve.x.getTime();if(B(typeof ve.x,"string"))return new Date(ve.x).getTime();if(B(typeof ve.x,"number"))return ve.x}return new Date().getTime()}))):void 0,end:B(a.chartType,"calendar")&&e(o).length>0?new Date(Math.max(...e(o).map(ve=>{if(B(typeof ve,"object")&&"x"in ve){if(ve.x instanceof Date)return ve.x.getTime();if(B(typeof ve.x,"string"))return new Date(ve.x).getTime();if(B(typeof ve.x,"number"))return ve.x}return new Date().getTime()}))):void 0})),ge=p(()=>e(g)||!1);t(()=>Wt(N,{get chartType(){return a.chartType},get data(){return e(o)},get config(){return e(j)},get seriesData(){return e(m)},get seriesColors(){return e(ae)},get isMultiSeries(){return e(ge)}}),"component",Oe,323,8,{componentTag:"DynamicChartRenderer"})}var O=s(N,2);{var Y=j=>{t(()=>Eo(j,{}),"component",Oe,360,10,{componentTag:"Rule"})};t(()=>pe(O,j=>{B(a.chartType,"threshold")&&j(Y)}),"if",Oe,359,8)}var $=s(O,2);{var V=j=>{t(()=>Ur(j,yt(()=>B(a.config.styling.grid.opacity,void 0,!1)?{opacity:a.config.styling.grid.opacity}:{})),"component",Oe,365,10,{componentTag:"Grid"})};t(()=>pe($,j=>{(a.config.styling.grid.show||a.config.styling.grid.horizontal)&&j(V)}),"if",Oe,364,8)}var M=s($,2);{var oe=j=>{var ge=L(),ve=u(ge);{var Ie=$e=>{var me=L(),fe=u(me);t(()=>rt(fe,17,()=>a.config.annotations.rules.values,ut,(de,be)=>{t(()=>Eo(de,yt({get y(){return e(be)}},()=>a.config.annotations.rules.class?{class:a.config.annotations.rules.class}:{},()=>a.config.annotations.rules.strokeWidth?{strokeWidth:a.config.annotations.rules.strokeWidth}:{},()=>a.config.annotations.rules.strokeDasharray?{style:`stroke-dasharray: ${a.config.annotations.rules.strokeDasharray}`}:{})),"component",Oe,373,14,{componentTag:"Rule"})}),"each",Oe,372,12),n($e,me)};t(()=>pe(ve,$e=>{a.config.annotations.rules?.show&&a.config.annotations.rules?.values&&a.config.annotations.rules.values.length>0&&$e(Ie)}),"if",Oe,370,10)}n(j,ge)};t(()=>pe(M,j=>{(B(a.config.annotations?.type,"rules")||B(a.config.annotations?.type,"both"))&&j(oe)}),"if",Oe,369,8)}var ue=s(M,2);{var Z=j=>{var ge=L(),ve=u(ge);{var Ie=$e=>{{let me=p(()=>a.config.annotations.labels.format||(be=>B(typeof be,"object")&&B(be,null,!1)?String(be.y??be.value??be.amount??be):String(be))),fe=p(()=>a.config.annotations.labels.offset?.y||4),de=p(()=>a.config.annotations.labels.placement||"outside");t(()=>Qr($e,yt({get data(){return e(o)},x:"x",y:"y",get format(){return e(me)}},()=>a.config.annotations.labels.class?{class:a.config.annotations.labels.class}:{},{get offset(){return e(fe)},get placement(){return e(de)}})),"component",Oe,386,12,{componentTag:"Labels"})}};t(()=>pe(ve,$e=>{a.config.annotations.labels?.show&&!e(R)&&$e(Ie)}),"if",Oe,384,10)}n(j,ge)};t(()=>pe(ue,j=>{(B(a.config.annotations?.type,"labels")||B(a.config.annotations?.type,"both"))&&j(Z)}),"if",Oe,383,8)}n(f,k)}),$$slots:{default:!0}}),"component",Oe,305,6,{componentTag:"Svg"});var _=s(x,2);{var b=f=>{var W=L(),k=u(W);{const q=l(Oe,function(O,Y){Ct(...arguments);let $=()=>Y?.().data;$();let V=()=>Y?.().payload;V();var M=L(),oe=u(M);{var ue=j=>{var ge=L(),ve=u(ge);Ol(ve,()=>a.config.interactions.tooltip.customContent($(),V())),n(j,ge)},Z=j=>{var ge=pd(),ve=u(ge);t(()=>i(ve,()=>Ao,($e,me)=>{me($e,{children:l(Oe,(fe,de)=>{var be=L(),he=u(be);{var Re=ke=>{var Ce=L(),De=u(Ce);{var Fe=we=>{var Ae=K();xe(ze=>Te(Ae,ze),[()=>$().x.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]),n(we,Ae)},Ve=we=>{var Ae=L(),ze=u(Ae);{var Pe=Me=>{var Be=K();xe(()=>Te(Be,$().x)),n(Me,Be)};t(()=>pe(ze,Me=>{(B(typeof $().x,"string")||B(typeof $().x,"number"))&&Me(Pe)},!0),"if",Oe,430,18)}n(we,Ae)};t(()=>pe(De,we=>{$().x instanceof Date?we(Fe):we(Ve,!1)}),"if",Oe,428,18)}n(ke,Ce)};t(()=>pe(he,ke=>{$()?.x&&ke(Re)}),"if",Oe,427,16)}n(fe,be)}),$$slots:{default:!0}})}),"component",Oe,426,14,{componentTag:"Tooltip.Header"});var Ie=s(ve,2);t(()=>i(Ie,()=>Vo,($e,me)=>{me($e,{children:l(Oe,(fe,de)=>{var be=L(),he=u(be);{var Re=Ce=>{var De=gd(),Fe=u(De);t(()=>rt(Fe,17,V,ut,(Ae,ze)=>{var Pe=L(),Me=u(Pe);{let Be=p(()=>e(ze).label||e(ze).name||e(ze).key||"Value"),Ue=p(()=>B(e(ze).value,void 0,!1)?e(ze).value:e(ze).payload?.y||e(ze).payload?.value||0),Ee=p(()=>e(ze).color||e(ae)[0]);t(()=>i(Me,()=>xn,(Ze,ot)=>{ot(Ze,{get label(){return e(Be)},get value(){return e(Ue)},get color(){return e(Ee)}})}),"component",Oe,439,20,{componentTag:"Tooltip.Item"})}n(Ae,Pe)}),"each",Oe,438,18);var Ve=s(Fe,2);{var we=Ae=>{var ze=vd(),Pe=u(ze);t(()=>i(Pe,()=>zl,(Be,Ue)=>{Ue(Be,{})}),"component",Oe,446,20,{componentTag:"Tooltip.Separator"});var Me=s(Pe,2);{let Be=p(()=>V().reduce((Ue,Ee)=>{const Ze=B(Ee.value,void 0,!1)?Ee.value:Ee.payload?.y||Ee.payload?.value||0;return Ue+(B(typeof Ze,"number")?Ze:0)},0));t(()=>i(Me,()=>xn,(Ue,Ee)=>{Ee(Ue,{label:"Total",get value(){return e(Be)}})}),"component",Oe,447,20,{componentTag:"Tooltip.Item"})}n(Ae,ze)};t(()=>pe(Ve,Ae=>{a.config.interactions.tooltip.showTotal&&V().length>1&&Ae(we)}),"if",Oe,445,18)}n(Ce,De)},ke=Ce=>{var De=L(),Fe=u(De);{var Ve=we=>{var Ae=L(),ze=u(Ae);{let Pe=p(()=>$().y||$().value||$().amount||0),Me=p(()=>$().color||e(ae)[0]);t(()=>i(ze,()=>xn,(Be,Ue)=>{Ue(Be,{label:"Value",get value(){return e(Pe)},get color(){return e(Me)}})}),"component",Oe,458,18,{componentTag:"Tooltip.Item"})}n(we,Ae)};t(()=>pe(Fe,we=>{$()&&we(Ve)},!0),"if",Oe,456,16)}n(Ce,De)};t(()=>pe(he,Ce=>{V()&&V().length>0?Ce(Re):Ce(ke,!1)}),"if",Oe,436,16)}n(fe,be)}),$$slots:{default:!0}})}),"component",Oe,435,14,{componentTag:"Tooltip.List"}),n(j,ge)};t(()=>pe(oe,j=>{a.config.interactions.tooltip.customContent?j(ue):j(Z,!1)}),"if",Oe,422,12)}n(O,M)});let I=p(()=>a.config.interactions.tooltip.position||"pointer"),N=p(()=>a.config.interactions.tooltip.position||"pointer");t(()=>i(k,()=>Ro,(O,Y)=>{Y(O,yt({get x(){return e(I)},get y(){return e(N)}},()=>B(a.config.interactions.tooltip.xOffset,void 0,!1)?{xOffset:a.config.interactions.tooltip.xOffset}:{},()=>B(a.config.interactions.tooltip.yOffset,void 0,!1)?{yOffset:a.config.interactions.tooltip.yOffset}:{},()=>a.config.interactions.tooltip.anchor?{anchor:a.config.interactions.tooltip.anchor}:{},()=>a.config.interactions.tooltip.variant?{variant:a.config.interactions.tooltip.variant}:{},{classes:{root:"bg-background/95 backdrop-blur-sm border shadow-lg rounded-md px-3 py-2",content:"text-sm",header:"font-semibold mb-1"},children:q,$$slots:{default:!0}}))}),"component",Oe,408,8,{componentTag:"Tooltip.Root"})}n(f,W)};t(()=>pe(_,f=>{a.config.interactions.tooltip.enabled&&f(b)}),"if",Oe,407,6)}var P=s(_,2);{let f=p(()=>a.config.styling.legend.position||"top"),W=p(()=>a.config.styling.legend.spacing||"normal"),k=p(()=>a.config.styling.legend.swatchSize||"small"),q=p(()=>a.config.styling.legend.fontSize||"sm");t(()=>Sn(P,{get show(){return e(E)},get title(){return a.legendTitle},get position(){return e(f)},get items(){return e(T)},get colors(){return e(ae)},get isMultiSeries(){return e(g)},get spacing(){return e(W)},variant:"swatches",get swatchSize(){return e(k)},get fontSize(){return e(q)}}),"component",Oe,471,6,{componentTag:"ChartLegend"})}n(C,U)}),$$slots:{default:!0}})),"component",Oe,278,4,{componentTag:"Chart"})}S(X),xe(()=>Oa(X,1,r())),n(ce,X)};t(()=>pe(ne,ce=>{B(d(),"side-by-side")&&a.viewModeData?.income&&a.viewModeData?.expenses?ce(ye):ce(_e,!1)}),"if",Oe,104,0)}return n(c,re),at({...nt()})}zt[v]="src/lib/components/charts/chart-color-selector.svelte";var hd=h(y('<div class="size-2.5 rounded-full border border-border/30"></div>'),zt[v],[[25,12]]),yd=h(y('<div class="flex items-center gap-2"><div class="flex gap-0.5"></div> <span> </span></div>'),zt[v],[[22,6,[[23,8],[31,8]]]]),bd=h(y('<div class="w-3 h-3 rounded-full border border-border/30"></div>'),zt[v],[[49,20]]),$d=h(y('<div class="flex items-center gap-3"><div class="flex gap-1"></div> <div class="flex flex-col"><span> </span> <span class="text-xs text-muted-foreground"> </span></div></div>'),zt[v],[[46,14,[[47,16],[55,16,[[56,18],[57,18]]]]]]),xd=h(y('<div class="px-2 py-1 text-xs font-medium text-muted-foreground uppercase tracking-wide border-b"> </div> <!>',1),zt[v],[[38,10]]),Td=h(y("<!> <!>",1),zt[v],[]),wd=h(y('<div class="flex items-center gap-2"><label for="color-selector" class="text-sm font-medium">Colors:</label> <!></div>'),zt[v],[[18,0,[[19,2]]]]);function zt(c,a){et(new.target),tt(a,!0,zt);var d=ya(a);let r=Ye(a,"selectedScheme",15,"default");const o=Co,g=jc(),T=D(p(()=>o[r()]||o.default),"selectedColorScheme");var m=wd(),G=s(A(m),2);return t(()=>i(G,()=>Ta,(Q,z)=>{d.binding("selectedScheme",z,r),z(Q,{type:"single",get value(){return r()},set value(ae){r(ae)},children:l(zt,(ae,R)=>{var F=Td(),ee=u(F);t(()=>i(ee,()=>wa,(J,re)=>{re(J,{class:"w-[160px]",children:l(zt,(ne,ye)=>{var _e=yd(),ce=A(_e);t(()=>rt(ce,21,()=>e(T).colors.slice(0,4),ut,(le,C)=>{var w=hd();xe(()=>Za(w,`background-color: ${e(C)??""}`)),n(le,w)}),"each",zt,24,10),S(ce);var X=s(ce,2),te=A(X,!0);S(X),S(_e),xe(()=>Te(te,e(T).name)),n(ne,_e)}),$$slots:{default:!0}})}),"component",zt,21,4,{componentTag:"Select.Trigger"});var E=s(ee,2);t(()=>i(E,()=>Ca,(J,re)=>{re(J,{children:l(zt,(ne,ye)=>{var _e=L(),ce=u(_e);t(()=>rt(ce,17,()=>Object.entries(g),ut,(X,te)=>{var le=p(()=>El(e(te),2));let C=()=>e(le)[0];C();let w=()=>e(le)[1];w();var U=L(),x=u(U);{var _=b=>{var P=xd(),f=u(P),W=A(f,!0);S(f);var k=s(f,2);t(()=>rt(k,17,w,ut,(q,I)=>{const N=D(p(()=>Object.entries(o).find(([,$])=>B($,e(I)))?.[0]||""),"schemeKey");e(N);var O=L(),Y=u(O);t(()=>i(Y,()=>ra,($,V)=>{V($,{get value(){return e(N)},children:l(zt,(M,oe)=>{var ue=$d(),Z=A(ue);t(()=>rt(Z,21,()=>e(I).colors.slice(0,4),ut,(me,fe)=>{var de=bd();xe(()=>Za(de,`background-color: ${e(fe)??""}`)),n(me,de)}),"each",zt,48,18),S(Z);var j=s(Z,2),ge=A(j),ve=A(ge,!0);S(ge);var Ie=s(ge,2),$e=A(Ie,!0);S(Ie),S(j),S(ue),xe(()=>{Te(ve,e(I).name),Te($e,e(I).description)}),n(M,ue)}),$$slots:{default:!0}})}),"component",zt,45,12,{componentTag:"Select.Item"}),n(q,O)}),"each",zt,43,10),xe(()=>Te(W,C())),n(b,P)};t(()=>pe(x,b=>{w().length>0&&b(_)}),"if",zt,36,8)}n(X,U)}),"each",zt,35,6),n(ne,_e)}),$$slots:{default:!0}})}),"component",zt,34,4,{componentTag:"Select.Content"}),n(ae,F)}),$$slots:{default:!0}})}),"component",zt,20,2,{componentTag:"Select.Root"}),S(m),n(c,m),at({...nt()})}Jt[v]="src/lib/components/charts/chart-curve-selector.svelte";var Cd=h(y('<div class="flex items-center gap-2"><span> </span></div>'),Jt[v],[[68,8,[[69,10]]]]),Pd=h(y('<div class="flex flex-col"><span> </span> <span class="text-xs text-muted-foreground"> </span></div>'),Jt[v],[[75,12,[[76,14],[77,14]]]]),Sd=h(y("<!> <!>",1),Jt[v],[]),Dd=h(y('<div class="flex items-center gap-2"><label for="curve-selector" class="text-sm font-medium">Curve:</label> <!></div>'),Jt[v],[[64,2,[[65,4]]]]);function Jt(c,a){et(new.target),tt(a,!0,Jt);var d=ya(a);let r=Ye(a,"curve",15,"curveLinear");const o=[{value:"curveLinear",label:"Linear",description:"Straight lines between points"},{value:"curveMonotoneX",label:"Smooth",description:"Smooth monotonic curves"},{value:"curveCardinal",label:"Cardinal",description:"Smooth cardinal splines"},{value:"curveCatmullRom",label:"Catmull-Rom",description:"Catmull-Rom splines"},{value:"curveNatural",label:"Natural",description:"Natural cubic splines"},{value:"curveBasis",label:"Basis",description:"B-spline curves"},{value:"curveStep",label:"Step",description:"Step function"}],g=D(p(()=>["line","spline","area"].includes(a.chartType)),"showCurveSelector"),T=D(p(()=>o.find(z=>B(z.value,r()))||o[0]),"selectedCurveOption");var m=L(),G=u(m);{var Q=z=>{var ae=Dd(),R=s(A(ae),2);t(()=>i(R,()=>Ta,(F,ee)=>{d.binding("curve",ee,r),ee(F,{type:"single",get value(){return r()},set value(E){r(E)},children:l(Jt,(E,J)=>{var re=Sd(),ne=u(re);t(()=>i(ne,()=>wa,(_e,ce)=>{ce(_e,{class:"w-[140px]",children:l(Jt,(X,te)=>{var le=Cd(),C=A(le),w=A(C,!0);S(C),S(le),xe(()=>Te(w,e(T).label)),n(X,le)}),$$slots:{default:!0}})}),"component",Jt,67,6,{componentTag:"Select.Trigger"});var ye=s(ne,2);t(()=>i(ye,()=>Ca,(_e,ce)=>{ce(_e,{children:l(Jt,(X,te)=>{var le=L(),C=u(le);t(()=>rt(C,17,()=>o,ut,(w,U)=>{var x=L(),_=u(x);t(()=>i(_,()=>ra,(b,P)=>{P(b,{get value(){return e(U).value},children:l(Jt,(f,W)=>{var k=Pd(),q=A(k),I=A(q,!0);S(q);var N=s(q,2),O=A(N,!0);S(N),S(k),xe(()=>{Te(I,e(U).label),Te(O,e(U).description)}),n(f,k)}),$$slots:{default:!0}})}),"component",Jt,74,10,{componentTag:"Select.Item"}),n(w,x)}),"each",Jt,73,8),n(X,le)}),$$slots:{default:!0}})}),"component",Jt,72,6,{componentTag:"Select.Content"}),n(E,re)}),$$slots:{default:!0}})}),"component",Jt,66,4,{componentTag:"Select.Root"}),S(ae),n(z,ae)};t(()=>pe(G,z=>{e(g)&&z(Q)}),"if",Jt,63,0)}return n(c,m),at({...nt()})}Ha[v]="src/lib/components/charts/chart-period-controls.svelte";var Fd=h(y('<div class="flex items-center gap-2"><span class="font-medium">Period:</span> <div class="flex gap-1"></div></div>'),Ha[v],[[21,2,[[22,4],[23,4]]]]);function Ha(c,a){et(new.target),tt(a,!0,Ha);let d=Ye(a,"currentPeriod",15,0),r=Ye(a,"enablePeriodFiltering",3,!1);var o=L(),g=u(o);{var T=m=>{var G=Fd(),Q=s(A(G),2);t(()=>rt(Q,21,()=>a.data,ut,(z,ae)=>{{let R=p(()=>B(d(),e(ae).key)?"default":"outline");t(()=>Ke(z,{get variant(){return e(R)},size:"sm",onclick:()=>d(e(ae).key),children:l(Ha,(F,ee)=>{H();var E=K();xe(()=>Te(E,e(ae).label)),n(F,E)}),$$slots:{default:!0}}),"component",Ha,25,8,{componentTag:"Button"})}}),"each",Ha,24,6),S(Q),S(G),n(m,G)};t(()=>pe(g,m=>{r()&&a.data.length>0&&m(T)}),"if",Ha,20,0)}return n(c,o),at({...nt()})}const gl=[{label:"Line & Area",options:[{value:"line",label:"Line Chart",icon:Ar,description:"Connected points showing trends"},{value:"area",label:"Area Chart",icon:Zo,description:"Filled area under the line"},{value:"spline",label:"Spline Chart",icon:Ar,description:"Smooth curved line through data points"}]},{label:"Bars & Columns",options:[{value:"bar",label:"Bar Chart",icon:ll,description:"Rectangular bars for comparison"}]},{label:"Circular",options:[{value:"pie",label:"Pie Chart",icon:Jo,description:"Circular sectors showing proportions"},{value:"arc",label:"Arc Chart",icon:Jo,description:"Partial circular chart"}]},{label:"Points & Scatter",options:[{value:"scatter",label:"Scatter Plot",icon:ys,description:"Individual data points"}]},{label:"Specialized",options:[{value:"threshold",label:"Threshold Chart",icon:bs,description:"Data above/below threshold"},{value:"hull",label:"Hull Chart",icon:Zo,description:"Convex hull around points"},{value:"calendar",label:"Calendar Heatmap",icon:sl,description:"Time-based heatmap"}]}];Ft[v]="src/lib/components/charts/chart-type-selector.svelte";var Id=h(y("<!> <span> </span>",1),Ft[v],[[50,12]]),kd=h(y("<span>Select a chart</span>"),Ft[v],[[52,12]]),Ad=h(y('<div class="flex items-center gap-2"><!></div>'),Ft[v],[[44,8]]),Vd=h(y('<div class="flex items-center gap-2"><!> <div class="flex flex-col"><span> </span> <span class="text-xs text-muted-foreground"> </span></div></div>'),Ft[v],[[66,14,[[70,16,[[71,18],[72,18]]]]]]),Rd=h(y("<!> <!>",1),Ft[v],[]),Md=h(y("<!> <!>",1),Ft[v],[]),Ld=h(y('<div class="flex items-center gap-2"><span class="font-medium">Chart:</span> <!></div>'),Ft[v],[[37,2,[[38,4]]]]);function Ft(c,a){et(new.target),tt(a,!0,Ft);var d=ya(a);let r=Ye(a,"chartType",15,"bar");const o=D(p(()=>()=>a.availableChartTypes&&a.availableChartTypes.length>0?[{label:"Available Charts",options:a.availableChartTypes}]:gl),"displayedChartTypes"),g=D(p(()=>()=>{for(const Q of e(o)()){const z=Q.options.find(ae=>B(ae.value,r()));if(z)return z}return null}),"selectedChartTypeOption");var T=L(),m=u(T);{var G=Q=>{var z=Ld(),ae=s(A(z),2);t(()=>i(ae,()=>Ta,(R,F)=>{d.binding("chartType",F,r),F(R,{type:"single",get value(){return r()},set value(ee){r(ee)},children:l(Ft,(ee,E)=>{var J=Md(),re=u(J);t(()=>i(re,()=>wa,(ye,_e)=>{_e(ye,{class:"w-48",children:l(Ft,(ce,X)=>{var te=Ad(),le=A(te);{var C=U=>{const x=D(p(()=>e(g)()),"option");e(x);var _=Id(),b=u(_);{var P=k=>{var q=L(),I=u(q);t(()=>i(I,()=>e(x).icon,(N,O)=>{O(N,{class:"h-4 w-4"})}),"component",Ft,48,14,{componentTag:"option.icon"}),n(k,q)};t(()=>pe(b,k=>{e(x).icon&&k(P)}),"if",Ft,47,12)}var f=s(b,2),W=A(f,!0);S(f),xe(()=>Te(W,e(x).label)),n(U,_)},w=U=>{var x=kd();n(U,x)};t(()=>pe(le,U=>{e(g)()?U(C):U(w,!1)}),"if",Ft,45,10)}S(te),n(ce,te)}),$$slots:{default:!0}})}),"component",Ft,43,6,{componentTag:"Select.Trigger"});var ne=s(re,2);t(()=>i(ne,()=>Ca,(ye,_e)=>{_e(ye,{children:l(Ft,(ce,X)=>{var te=L(),le=u(te);t(()=>rt(le,17,()=>e(o)(),ut,(C,w)=>{var U=Rd(),x=u(U);{var _=P=>{var f=L(),W=u(f);t(()=>i(W,()=>al,(k,q)=>{q(k,{children:l(Ft,(I,N)=>{H();var O=K();xe(()=>Te(O,e(w).label)),n(I,O)}),$$slots:{default:!0}})}),"component",Ft,59,12,{componentTag:"Select.Label"}),n(P,f)};t(()=>pe(x,P=>{e(o)().length>1&&P(_)}),"if",Ft,58,10)}var b=s(x,2);t(()=>rt(b,17,()=>e(w).options,ut,(P,f)=>{var W=L(),k=u(W);t(()=>i(k,()=>ra,(q,I)=>{I(q,{get value(){return e(f).value},get label(){return e(f).label},children:l(Ft,(N,O)=>{var Y=Vd(),$=A(Y);{var V=ge=>{var ve=L(),Ie=u(ve);t(()=>i(Ie,()=>e(f).icon,($e,me)=>{me($e,{class:"h-4 w-4"})}),"component",Ft,68,18,{componentTag:"option.icon"}),n(ge,ve)};t(()=>pe($,ge=>{e(f).icon&&ge(V)}),"if",Ft,67,16)}var M=s($,2),oe=A(M),ue=A(oe,!0);S(oe);var Z=s(oe,2),j=A(Z,!0);S(Z),S(M),S(Y),xe(()=>{Te(ue,e(f).label),Te(j,e(f).description)}),n(N,Y)}),$$slots:{default:!0}})}),"component",Ft,62,12,{componentTag:"Select.Item"}),n(P,W)}),"each",Ft,61,10),n(C,U)}),"each",Ft,57,8),n(ce,te)}),$$slots:{default:!0}})}),"component",Ft,56,6,{componentTag:"Select.Content"}),n(ee,J)}),$$slots:{default:!0}})}),"component",Ft,39,4,{componentTag:"Select.Root"}),S(z),n(Q,z)};t(()=>pe(m,Q=>{e(o)().some(z=>z.options.length>0)&&Q(G)}),"if",Ft,36,0)}return n(c,T),at({...nt()})}Qt[v]="src/lib/components/charts/chart-view-mode-selector.svelte";var Od=h(y('<div class="flex items-center gap-2"><span> </span></div>'),Qt[v],[[63,8,[[64,10]]]]),zd=h(y('<span class="text-xs text-muted-foreground"> </span>'),Qt[v],[[73,16]]),Ed=h(y('<div class="flex flex-col"><span> </span> <!></div>'),Qt[v],[[70,12,[[71,14]]]]),Nd=h(y("<!> <!>",1),Qt[v],[]),Bd=h(y('<div class="flex items-center gap-2"><label for="view-mode-selector" class="text-sm font-medium">View:</label> <!></div>'),Qt[v],[[59,2,[[60,4]]]]);function Qt(c,a){et(new.target),tt(a,!0,Qt);var d=ya(a);let r=Ye(a,"viewMode",15,"combined"),o=Ye(a,"availableViewModes",19,()=>["combined","side-by-side"]),g=Ye(a,"showDescription",3,!1);const T={combined:{value:"combined",label:"Combined",description:"Show all series in a single chart"},"side-by-side":{value:"side-by-side",label:"Side by Side",description:"Show each series in separate charts"},stacked:{value:"stacked",label:"Stacked",description:"Stack series on top of each other"},overlaid:{value:"overlaid",label:"Overlaid",description:"Overlay series with transparency"}},m=D(p(()=>o().map(R=>T[R]).filter(Boolean)),"availableConfigs"),G=D(p(()=>T[r()]||T.combined),"selectedViewModeConfig");var Q=L(),z=u(Q);{var ae=R=>{var F=Bd(),ee=s(A(F),2);t(()=>i(ee,()=>Ta,(E,J)=>{d.binding("viewMode",J,r),J(E,{type:"single",get value(){return r()},set value(re){r(re)},children:l(Qt,(re,ne)=>{var ye=Nd(),_e=u(ye);t(()=>i(_e,()=>wa,(X,te)=>{te(X,{class:"w-[140px]",children:l(Qt,(le,C)=>{var w=Od(),U=A(w),x=A(U,!0);S(U),S(w),xe(()=>Te(x,e(G).label)),n(le,w)}),$$slots:{default:!0}})}),"component",Qt,62,6,{componentTag:"Select.Trigger"});var ce=s(_e,2);t(()=>i(ce,()=>Ca,(X,te)=>{te(X,{children:l(Qt,(le,C)=>{var w=L(),U=u(w);t(()=>rt(U,17,()=>e(m),ut,(x,_)=>{var b=L(),P=u(b);t(()=>i(P,()=>ra,(f,W)=>{W(f,{get value(){return e(_).value},children:l(Qt,(k,q)=>{var I=Ed(),N=A(I),O=A(N,!0);S(N);var Y=s(N,2);{var $=V=>{var M=zd(),oe=A(M,!0);S(M),xe(()=>Te(oe,e(_).description)),n(V,M)};t(()=>pe(Y,V=>{g()&&V($)}),"if",Qt,72,14)}S(I),xe(()=>Te(O,e(_).label)),n(k,I)}),$$slots:{default:!0}})}),"component",Qt,69,10,{componentTag:"Select.Item"}),n(x,b)}),"each",Qt,68,8),n(le,w)}),$$slots:{default:!0}})}),"component",Qt,67,6,{componentTag:"Select.Content"}),n(re,ye)}),$$slots:{default:!0}})}),"component",Qt,61,4,{componentTag:"Select.Root"}),S(F),n(R,F)};t(()=>pe(z,R=>{e(m).length>1&&R(ae)}),"if",Qt,58,0)}return n(c,Q),at({...nt()})}const Aa="en-US",rn="USD",dr={currency:c=>new Intl.NumberFormat(Aa,{style:"currency",currency:rn,minimumFractionDigits:0,maximumFractionDigits:0}).format(c),currencyPrecise:c=>new Intl.NumberFormat(Aa,{style:"currency",currency:rn,minimumFractionDigits:2,maximumFractionDigits:2}).format(c),currencyCompact:c=>new Intl.NumberFormat(Aa,{style:"currency",currency:rn,notation:"compact",compactDisplay:"short",minimumFractionDigits:0,maximumFractionDigits:1}).format(c),currencySmart:c=>{const a=Math.abs(c);return a>=1e6?new Intl.NumberFormat(Aa,{style:"currency",currency:rn,notation:"compact",compactDisplay:"short",minimumFractionDigits:0,maximumFractionDigits:1}).format(c):a>=1e4?new Intl.NumberFormat(Aa,{style:"currency",currency:rn,notation:"compact",compactDisplay:"short",minimumFractionDigits:0,maximumFractionDigits:0}).format(c):new Intl.NumberFormat(Aa,{style:"currency",currency:rn,minimumFractionDigits:0,maximumFractionDigits:0}).format(c)},number:c=>new Intl.NumberFormat(Aa).format(c),percentage:c=>new Intl.NumberFormat(Aa,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}).format(c/100),numberCompact:c=>new Intl.NumberFormat(Aa,{notation:"compact",compactDisplay:"short"}).format(c)},qd={x:{show:!0,title:"",rotateLabels:!1,nice:!1,domain:[null,null],format:c=>String(c)},y:{show:!0,title:"",rotateLabels:!1,nice:!0,domain:[0,null],format:c=>String(c)},secondary:{show:!1,title:"",rotateLabels:!1,nice:!0,domain:[null,null],format:c=>String(c)}},jd={colors:"auto",theme:"auto",dimensions:{padding:{top:20,right:30,bottom:80,left:80}},grid:{show:!1,horizontal:!1,vertical:!1,opacity:.1},legend:{show:!1,position:"bottom"}},Hd={tooltip:{enabled:!0,format:"default",position:"pointer",xOffset:10,yOffset:10,anchor:"top-left",variant:"default",showTotal:!1},zoom:{enabled:!1,resetButton:!0},pan:{enabled:!1},brush:{enabled:!1}},Gd={enabled:!1,field:"date",defaultPeriod:0,sourceData:[],sourceProcessor:c=>c,sourceDateField:"date"},Er={show:!1,availableTypes:["bar","line","area"],allowTypeChange:!0,allowPeriodChange:!0,allowColorChange:!1,allowCurveChange:!1,allowViewModeChange:!1,availableViewModes:["combined","side-by-side"]},Ud={type:"labels",labels:{show:!0,format:c=>{const a=typeof c=="object"&&c!==null?c.y??c.value??c.amount??0:c;return dr.currency(Number(a)||0)},position:"auto",placement:"outside",class:"",offset:{x:0,y:0}},rules:{show:!1,values:[],orientation:"horizontal",class:"stroke-muted-foreground/50",strokeWidth:1,strokeDasharray:"2 2"}},Qd={bar:{styling:{dimensions:{padding:{bottom:80,left:80}}}},line:{styling:{dimensions:{padding:{bottom:60,left:80}}}},area:{styling:{dimensions:{padding:{bottom:60,left:80}}}},spline:{styling:{dimensions:{padding:{bottom:60,left:80}}}},pie:{styling:{legend:{show:!0,position:"right"},dimensions:{padding:{top:20,right:120,bottom:20,left:20}}},axes:{x:{show:!1},y:{show:!1}}},arc:{styling:{legend:{show:!0,position:"right"},dimensions:{padding:{top:20,right:120,bottom:20,left:20}}},axes:{x:{show:!1},y:{show:!1}}},scatter:{styling:{dimensions:{padding:{bottom:80,left:80}}}},threshold:{styling:{dimensions:{padding:{bottom:80,left:80}}}},hull:{styling:{dimensions:{padding:{bottom:80,left:80}}}},calendar:{styling:{dimensions:{padding:{top:20,right:30,bottom:40,left:60}}},axes:{x:{show:!1},y:{show:!1}}}};function ca(c,a){const d={...c};for(const r in a){const o=a[r],g=d[r];o&&typeof o=="object"&&!Array.isArray(o)?d[r]=ca(g||{},o):o!==void 0&&(d[r]=o)}return d}function Wd(c,a,d){return Array.isArray(c)?c.map((r,o)=>{switch(r){case"primary":return At.getChartColor(0);case"secondary":return At.getChartColor(4);case"success":return At.getChartColor(1);case"destructive":return At.getChartColor(2);case"warning":return At.getChartColor(3);case"muted":return At.getChartColor(7);default:return r.startsWith("hsl(")||r.startsWith("#")||r.startsWith("rgb(")?r:At.getChartColor(o)}}):d==="pie"||d==="arc"?[...new Set(a.map(o=>o.category))].map((o,g)=>At.getChartColor(g)):[At.getChartColor(0),At.getChartColor(1)]}function Yd(c){return c.length===0?"bar":c.some(r=>r.category!==void 0)?"pie":c.some(r=>r.x instanceof Date||typeof r.x=="string"&&!isNaN(Date.parse(r.x)))?"line":"bar"}function Kd(c){const a=ca(ca(Er,{}),c.controls||{});let d=c.type||Yd(c.data);a.availableTypes&&a.availableTypes.length>0&&(a.availableTypes.includes(d)||(d=a.availableTypes[0]));const r=Qd[d]||{},o=ca(ca(Er,r.controls||{}),c.controls||{}),g=ca(ca(qd,r.axes||{}),c.axes||{}),T=ca(ca(jd,r.styling||{}),c.styling||{}),m=ca(ca(Hd,r.interactions||{}),c.interactions||{}),G=ca(ca(Gd,r.timeFiltering||{}),c.timeFiltering||{}),Q=ca(ca(Ud,r.annotations||{}),c.annotations||{}),z=Wd(T.colors,c.data,d);return{type:d,data:c.data,axes:g,styling:T,interactions:m,timeFiltering:G,controls:o,annotations:Q,resolvedColors:z}}function Xd(c,a){const d=[],r=[];if(!Array.isArray(c))return d.push({type:"structure_error",message:"Data must be an array"}),{isValid:!1,errors:d,warnings:r,dataQuality:{totalPoints:0,missingValues:0,duplicateKeys:0,dataTypes:{x:[],y:[]},valueRanges:{x:[null,null],y:[0,0]}}};if(c.length===0)return r.push({type:"data_quality",message:"Data array is empty",suggestion:"Provide at least one data point for visualization"}),{isValid:!0,errors:d,warnings:r,dataQuality:{totalPoints:0,missingValues:0,duplicateKeys:0,dataTypes:{x:[],y:[]},valueRanges:{x:[null,null],y:[0,0]}}};let o=0;const g=[],T=[],m=new Set,G=new Set;c.forEach((ee,E)=>{ee.x===void 0||ee.x===null?(d.push({type:"missing_field",message:`Data point at index ${E} is missing required 'x' field`,dataIndex:E,field:"x"}),o++):(g.push(ee.x),m.add(typeof ee.x)),ee.y===void 0||ee.y===null?(d.push({type:"missing_field",message:`Data point at index ${E} is missing required 'y' field`,dataIndex:E,field:"y"}),o++):typeof ee.y!="number"?d.push({type:"invalid_type",message:`Data point at index ${E} has non-numeric 'y' value: ${ee.y}`,dataIndex:E,field:"y"}):(T.push(ee.y),G.add(typeof ee.y),isFinite(ee.y)||d.push({type:"invalid_value",message:`Data point at index ${E} has invalid 'y' value (NaN or Infinity): ${ee.y}`,dataIndex:E,field:"y"}))});const Q=new Set(g.map(ee=>String(ee))),z=g.length-Q.size;m.size>1&&r.push({type:"inconsistent_types",message:`Inconsistent x-axis data types found: ${Array.from(m).join(", ")}`,suggestion:"Consider converting all x-axis values to a consistent type"}),z>0&&!a?.suppressDuplicateWarnings&&r.push({type:"data_quality",message:`Found ${z} duplicate x-axis values`,suggestion:"Aggregate duplicate entries or ensure unique keys for better visualization"}),c.length>1e3&&r.push({type:"performance",message:`Large dataset detected (${c.length} points)`,suggestion:"Consider data aggregation or pagination for better performance"});const ae=g.length>0?[Math.min(...g.filter(ee=>typeof ee=="number")),Math.max(...g.filter(ee=>typeof ee=="number"))]:[null,null],R=T.length>0?[Math.min(...T),Math.max(...T)]:[0,0],F={totalPoints:c.length,missingValues:o,duplicateKeys:z,dataTypes:{x:Array.from(m),y:Array.from(G)},valueRanges:{x:ae,y:R}};return{isValid:d.length===0,errors:d,warnings:r,dataQuality:F}}vt[v]="src/lib/components/charts/unified-chart.svelte";var Zd=h(y('<div class="flex items-center justify-center h-full text-center p-6"><div class="space-y-4"><h3 class="text-lg font-semibold text-destructive">Chart Rendering Error</h3> <p class="text-sm text-muted-foreground">The chart encountered an error during rendering. Please try again.</p></div></div>'),vt[v],[[131,4,[[132,6,[[133,8],[134,8]]]]]]),Jd=h(y('<div class="flex items-center justify-center h-full"><div class="space-y-4 text-center"><div class="animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto"></div> <p class="text-sm text-muted-foreground"> </p></div></div>'),vt[v],[[141,4,[[142,6,[[143,8],[144,8]]]]]]),eu=h(y('<div class="flex items-center justify-between gap-4 p-3 bg-muted/30 rounded-lg mb-4"><div class="flex items-center gap-6 text-sm"><!> <!> <!> <!> <!></div></div>'),vt[v],[[152,6,[[153,8]]]]),tu=h(y("<!> <!>",1),vt[v],[]),au=h(y('<div class="text-xs text-muted-foreground mt-1"> </div>'),vt[v],[[222,16]]),nu=h(y('<div class="text-sm border rounded-md p-3 bg-destructive/5 border-destructive/20"><div class="font-medium text-destructive"> </div> <div class="text-muted-foreground mt-1"> </div> <!></div>'),vt[v],[[218,12,[[219,14],[220,14]]]]),ou=h(y('<div class="text-xs text-muted-foreground border-t pt-2"><div> </div> <div> </div></div>'),vt[v],[[232,10,[[233,12],[234,12]]]]),ru=h(y('<div class="flex items-center justify-center h-full text-center p-6"><div class="space-y-4 max-w-md"><h3 class="text-lg font-semibold text-destructive">Chart Data Error</h3> <div class="space-y-3"></div> <!></div></div>'),vt[v],[[213,4,[[214,6,[[215,8],[216,8]]]]]]),lu=h(y("<p> <!> <!></p>"),vt[v],[[244,6]]),su=h(y("<p>Chart contains invalid data and cannot be displayed.</p>"),vt[v],[[254,6]]),iu=h(y("<p>Chart has no data to display.</p>"),vt[v],[[256,6]]),cu=h(y('<div role="img"><!> <div class="sr-only"><!></div></div>'),vt[v],[[125,0,[[242,2]]]]);function vt(c,a){et(new.target),tt(a,!0,vt);let d=Ye(a,"suppressDuplicateWarnings",3,!1),r=Ye(a,"class",3,"h-full w-full");const o=D(p(()=>Kd({data:a.data,type:a.type,axes:a.axes,styling:a.styling,interactions:a.interactions,timeFiltering:a.timeFiltering,controls:a.controls,annotations:a.annotations})),"config"),g=D(p(()=>Xd(a.data,{suppressDuplicateWarnings:d()})),"validation");let T=D(Ge(Pt(a.type||"bar")),"currentChartType"),m=D(Ge(0),"currentPeriod"),G=D(Ge("default"),"selectedColorScheme"),Q=D(Ge("curveLinear"),"selectedCurve"),z=D(Ge(Pt(a.viewMode||"combined")),"selectedViewMode");Ut(()=>{e(o).controls.availableTypes&&e(o).controls.availableTypes.length>0?e(o).controls.availableTypes.includes(e(o).type)?ie(T,e(o).type,!0):ie(T,e(o).controls.availableTypes[0],!0):ie(T,e(o).type,!0)}),Ut(()=>{ie(m,Number(e(o).timeFiltering.defaultPeriod),!0)});const ae=Qc(()=>({data:a.data,config:e(o),chartType:e(T),currentPeriod:e(m),viewMode:e(z),viewModeData:a.viewModeData||{},yFields:a.yFields||[],yFieldLabels:a.yFieldLabels||[],categoryField:a.categoryField||"category",enableColorScheme:e(o).controls.allowColorChange,selectedColorScheme:e(G)})),R=D(p(ae),"processorData"),F=D(p(()=>e(o).controls.availableTypes?gl.flatMap(C=>C.options.filter(w=>e(o).controls.availableTypes.includes(w.value))):[]),"availableChartTypes"),ee=D(p(()=>a.data.length>1e3),"isLoading"),E=!1,J=Math.random().toString(36).substring(2,9);Ut(()=>{e(g).isValid||console.error(...La("error","Chart data validation failed:",e(g).errors.map(C=>C.message))),e(g).warnings.length>0&&console.warn(...La("warn","Chart data warnings:",e(g).warnings.map(C=>C.message))),e(g).dataQuality.duplicateKeys>0&&!d()&&console.warn(`Chart has ${e(g).dataQuality.duplicateKeys} duplicate keys which may affect visualization`)});var re=cu(),ne=A(re);{var ye=C=>{var w=Zd();n(C,w)},_e=C=>{var w=L(),U=u(w);{var x=b=>{var P=Jd(),f=A(P),W=s(A(f),2),k=A(W);S(W),S(f),S(P),xe(q=>Te(k,`Loading chart... (${q??""} data points)`),[()=>a.data.length.toLocaleString()]),n(b,P)},_=b=>{var P=L(),f=u(P);{var W=q=>{var I=tu(),N=u(I);{var O=$=>{var V=eu(),M=A(V),oe=A(M);{var ue=de=>{t(()=>Ft(de,{get availableChartTypes(){return e(F)},get chartType(){return e(T)},set chartType(be){ie(T,be,!0)}}),"component",vt,156,12,{componentTag:"ChartTypeSelector"})};t(()=>pe(oe,de=>{e(o).controls.allowTypeChange&&e(F).length>1&&de(ue)}),"if",vt,155,10)}var Z=s(oe,2);{var j=de=>{{let be=p(()=>e(R).availablePeriods.map(he=>({key:he.value,label:he.label})));t(()=>Ha(de,{get data(){return e(be)},get dateField(){return e(o).timeFiltering.field},enablePeriodFiltering:!0,get currentPeriod(){return e(m)},set currentPeriod(he){ie(m,he,!0)}}),"component",vt,164,12,{componentTag:"ChartPeriodControls"})}};t(()=>pe(Z,de=>{e(o).controls.allowPeriodChange&&e(o).timeFiltering.enabled&&de(j)}),"if",vt,163,10)}var ge=s(Z,2);{var ve=de=>{t(()=>zt(de,{get selectedScheme(){return e(G)},set selectedScheme(be){ie(G,be,!0)}}),"component",vt,174,12,{componentTag:"ChartColorSelector"})};t(()=>pe(ge,de=>{e(o).controls.allowColorChange&&de(ve)}),"if",vt,173,10)}var Ie=s(ge,2);{var $e=de=>{t(()=>Jt(de,{get chartType(){return e(T)},get curve(){return e(Q)},set curve(be){ie(Q,be,!0)}}),"component",vt,179,12,{componentTag:"ChartCurveSelector"})};t(()=>pe(Ie,de=>{e(o).controls.allowCurveChange&&de($e)}),"if",vt,178,10)}var me=s(Ie,2);{var fe=de=>{{let be=p(()=>e(o).controls.availableViewModes||["combined","side-by-side"]);t(()=>Qt(de,{get availableViewModes(){return e(be)},get viewMode(){return e(z)},set viewMode(he){ie(z,he,!0)}}),"component",vt,184,12,{componentTag:"ChartViewModeSelector"})}};t(()=>pe(me,de=>{e(o).controls.allowViewModeChange&&de(fe)}),"if",vt,183,10)}S(M),S(V),n($,V)};t(()=>pe(N,$=>{e(o).controls.show&&$(O)}),"if",vt,151,4)}var Y=s(N,2);{let $=p(()=>({...e(o),type:e(T),data:a.data,resolvedColors:e(o).controls.allowColorChange?e(R).effectiveColors:e(o).resolvedColors})),V=p(()=>a.viewModeData||{});t(()=>Oe(Y,yt({get processor(){return e(R)},get chartType(){return e(T)},get config(){return e($)},get viewMode(){return e(z)},get viewModeData(){return e(V)}},()=>a.legendTitle?{legendTitle:a.legendTitle}:{},()=>e(o).controls.allowCurveChange?{selectedCurve:e(Q)}:{},()=>a.yFieldLabels?{yFieldLabels:a.yFieldLabels}:{},{class:"h-full w-full"})),"component",vt,194,4,{componentTag:"ChartCore"})}n(q,I)},k=q=>{var I=ru(),N=A(I),O=s(A(N),2);t(()=>rt(O,21,()=>e(g).errors,ut,(V,M)=>{var oe=nu(),ue=A(oe),Z=A(ue,!0);S(ue);var j=s(ue,2),ge=A(j,!0);S(j);var ve=s(j,2);{var Ie=$e=>{var me=au(),fe=A(me);S(me),xe(()=>Te(fe,`Data point: ${e(M).dataIndex??""}${e(M).field?` (field: ${e(M).field})`:""}`)),n($e,me)};t(()=>pe(ve,$e=>{B(e(M).dataIndex,void 0,!1)&&$e(Ie)}),"if",vt,221,14)}S(oe),xe($e=>{Te(Z,$e),Te(ge,e(M).message)},[()=>e(M).type.replace("_"," ").toUpperCase()]),n(V,oe)}),"each",vt,217,10),S(O);var Y=s(O,2);{var $=V=>{var M=ou(),oe=A(M),ue=A(oe);S(oe);var Z=s(oe,2),j=A(Z);S(Z),S(M),xe(()=>{Te(ue,`Total data points: ${e(g).dataQuality.totalPoints??""}`),Te(j,`Missing values: ${e(g).dataQuality.missingValues??""}`)}),n(V,M)};t(()=>pe(Y,V=>{e(g).dataQuality.totalPoints>0&&V($)}),"if",vt,231,8)}S(N),S(I),n(q,I)};t(()=>pe(f,q=>{e(g).isValid?q(W):q(k,!1)},!0),"if",vt,149,2)}n(b,P)};t(()=>pe(U,b=>{e(ee)?b(x):b(_,!1)},!0),"if",vt,139,2)}n(C,w)};t(()=>pe(ne,C=>{E||C(_e,!1)}),"if",vt,129,2)}var ce=s(ne,2),X=A(ce);{var te=C=>{var w=lu(),U=A(w),x=s(U);{var _=f=>{var W=K();xe(()=>Te(W,`Values range from ${e(g).dataQuality.valueRanges.y[0]??""} to ${e(g).dataQuality.valueRanges.y[1]??""}.`)),n(f,W)};t(()=>pe(x,f=>{B(e(g).dataQuality.valueRanges.y[0],e(g).dataQuality.valueRanges.y[1],!1)&&f(_)}),"if",vt,246,8)}var b=s(x,2);{var P=f=>{var W=K();xe(()=>Te(W,`Note: ${e(g).warnings[0].message??""}`)),n(f,W)};t(()=>pe(b,f=>{e(g).warnings.length>0&&e(g).warnings[0]&&f(P)}),"if",vt,249,8)}S(w),xe(()=>Te(U,`This is a ${e(T)??""} chart displaying ${e(R).chartData.length??""} data points. `)),n(C,w)},le=C=>{var w=L(),U=u(w);{var x=b=>{var P=su();n(b,P)},_=b=>{var P=iu();n(b,P)};t(()=>pe(U,b=>{e(g).isValid?b(_,!1):b(x)},!0),"if",vt,253,4)}n(C,w)};t(()=>pe(X,C=>{e(g).isValid&&e(R).chartData.length>0?C(te):C(le,!1)}),"if",vt,243,4)}return S(ce),S(re),xe(()=>{Oa(re,1,Dn(r())),Da(re,"aria-label",`${e(T)} chart with ${e(R).chartData.length} data points`),Da(re,"aria-describedby",`chart-description-${J}`),Da(ce,"id",`chart-description-${J}`)}),n(c,re),at({...nt()})}function Nr(c,a){const[d,r]=a.includes(":")?Xr(a):["day",a],o=ml(r),g=c.toString();switch(d){case"month":return Lr(g,o);case"quarter":return Ks(g,o);case"half-year":return Math.floor(Lr(g,o)/6);case"year":return Ys(g,o);case"day":default:return Ws(g,o)}}function Br(c,a){const[d,r]=a.includes(":")?Xr(a):["day",a],o=ml(r),g=c.toDate(ma());switch(d){case"month":return Qs(g,o);case"quarter":return Us(g,o);case"half-year":return null;case"year":return Gs(g,o);case"day":default:return Hs(g,o)}}const du={entityIsFilter:(c,a,d,r)=>{const o=c.original[a+"Id"],g=B(o,null)?"null":o.toString();return d.has(g)},entityIsNotFilter:(c,a,d,r)=>{const o=c.original[a+"Id"],g=B(o,null)?"null":o.toString();return!d.has(g)},dateBefore:(c,a,d,r)=>B(d.size,0)?!0:d.values().some(o=>(Nr(c.original.date,o)||0)<0),dateAfter:(c,a,d,r)=>B(d.size,0)?!0:d.values().some(o=>(Nr(c.original.date,o)||0)>0),dateOn:(c,a,d,r)=>B(d.size,0)?!0:d.values().some(o=>Br(c.original.date,o)),dateIn:(c,a,d,r)=>B(d.size,0)?!0:d.values().some(o=>Br(c.original.date,o)),equalsString:(c,a,d,r)=>B(d.size,0)?!0:d.has(c.original[a]),doesntEqualString:(c,a,d,r)=>!d.has(c.original[a]),amountFilter:(c,a,d,r)=>{const o=c.original.amount;if(!d||B(typeof o,"number",!1))return!0;switch(d.type){case"equals":return B(d.value,void 0,!1)?B(o,d.value):!0;case"notEquals":return B(d.value,void 0,!1)?B(o,d.value,!1):!0;case"greaterThan":return B(d.value,void 0,!1)?o>d.value:!0;case"lessThan":return B(d.value,void 0,!1)?o<d.value:!0;case"between":return B(d.min,void 0,!1)&&B(d.max,void 0,!1)?o>=d.min&&o<=d.max:!0;default:return!0}}};let Yn=D(Ge(Pt([])),"_filtering"),uu=()=>e(Yn);function mu(c){c instanceof Function?ie(Yn,c(e(Yn)),!0):ie(Yn,c,!0)}let zo=D(Ge(""),"_globalFilter");function vu(c){c instanceof Function?ie(zo,c(e(zo)),!0):ie(zo,c,!0)}let Kn=D(Ge(Pt({pageIndex:0,pageSize:25})),"_pagination"),gu=()=>e(Kn);function pu(c){c instanceof Function?ie(Kn,c(e(Kn)),!0):ie(Kn,c,!0)}let Xn=D(Ge(Pt({})),"_selection"),fu=()=>e(Xn);function _u(c){c instanceof Function?ie(Xn,c(e(Xn)),!0):ie(Xn,c,!0)}let Zn=D(Ge(Pt([{id:"date",desc:!0}])),"_sorting"),qr=()=>e(Zn);function hu(c){c instanceof Function?ie(Zn,c(e(Zn)),!0):ie(Zn,c,!0)}let Jn=D(Ge(Pt({})),"_visibility"),yu=()=>e(Jn);function bu(c){c instanceof Function?ie(Jn,c(e(Jn)),!0):ie(Jn,c,!0)}let eo=D(Ge(Pt([])),"_grouping"),$u=()=>e(eo);function xu(c){c instanceof Function?ie(eo,c(e(eo)),!0):ie(eo,c,!0)}let to=D(Ge(!0),"_expanded"),Tu=()=>e(to);function wu(c){c instanceof Function?ie(to,c(e(to)),!0):ie(to,c,!0)}let ao=D(Ge(Pt({left:["select-col","expand-contract-col"],right:[]})),"_pinning"),Cu=()=>e(ao);function Pu(c){c instanceof Function?ie(ao,c(e(ao)),!0):ie(ao,c,!0)}pt[v]="src/routes/accounts/[id]/(components)/data-table.svelte";var Su=h(y("<!> <!>",1),pt[v],[]),Du=h(y('<div class="space-y-4"><!> <div class="w-full rounded-md border"><!></div> <!></div>'),pt[v],[[167,0,[[169,2]]]]);function pt(c,a){et(new.target),tt(a,!0,pt);let d=Ye(a,"table",15);const r=Zr.get(),o=D(p(()=>r?.dateFilters),"allDates"),g=()=>{let F=yu();const ee=qr();return ee.length>0&&B(ee[0].id,"id",!1)&&B(ee[0].id,"date",!1)&&(F=Object.assign({},F,{balance:!1})),F};d(cs({get data(){return a.transactions||[]},state:{get sorting(){return qr()},get columnVisibility(){return g()},get rowSelection(){return fu()},get columnFilters(){return uu()},get pagination(){return gu()},get grouping(){return $u()},get expanded(){return Tu()},get columnPinning(){return Cu()}},columns:a.columns,enableRowSelection:!0,onRowSelectionChange:_u,onSortingChange:hu,onColumnFiltersChange:mu,onColumnVisibilityChange:bu,onPaginationChange:pu,onGlobalFilterChange:vu,onGroupingChange:xu,onExpandedChange:wu,onColumnPinningChange:Pu,getCoreRowModel:Ss(),getFilteredRowModel:Ps(),getPaginationRowModel:Cs(),getSortedRowModel:ws(),getFacetedRowModel:Ts(),getGroupedRowModel:xs(),getExpandedRowModel:$s(),getFacetedUniqueValues:(F,ee)=>()=>{const E=F.getGlobalFacetedRowModel().flatRows;if(B(ee,"date")){const J=new Map;for(const{value:re}of e(o)||[])for(const ne of E)F.getColumn(ee)?.getFilterFn()?.call({},ne,ee,[re.toString()],()=>{})&&J.set(re.toString(),(J.get(re.toString())??0)+1);return J}return Ds()(F,ee)()},filterFns:{...du},groupedColumnMode:"reorder",autoResetPageIndex:!1,autoResetExpanded:!1}));const T=D(p(()=>a.views||za.data.views||[]),"viewList");let m=new Zl(null);Nl("current_views",m),ba.set(m),Ut(()=>{const F=e(T).map(ee=>new Jr(ee,d()));m.viewsStates.clear(),F.forEach(ee=>{m.viewsStates.set(ee.view.id,ee)}),F.length>0&&(m.activeViewId=F[0].view.id)});var G=Du(),Q=A(G);t(()=>Xe(Q,{get table(){return d()}}),"component",pt,168,2,{componentTag:"DataTableToolbar"});var z=s(Q,2),ae=A(z);t(()=>i(ae,()=>Wo,(F,ee)=>{ee(F,{children:l(pt,(E,J)=>{var re=Su(),ne=u(re);t(()=>i(ne,()=>Yo,(_e,ce)=>{ce(_e,{children:l(pt,(X,te)=>{var le=L(),C=u(le);xa(()=>d().getHeaderGroups(),w=>w.id),t(()=>rt(C,17,()=>d().getHeaderGroups(),w=>w.id,(w,U)=>{var x=L(),_=u(x);t(()=>i(_,()=>Va,(b,P)=>{P(b,{children:l(pt,(f,W)=>{var k=L(),q=u(k);xa(()=>e(U).headers,I=>I.id),t(()=>rt(q,17,()=>e(U).headers,I=>I.id,(I,N)=>{var O=L(),Y=u(O);t(()=>i(Y,()=>pa,($,V)=>{V($,{get colspan(){return e(N).colSpan},children:l(pt,(M,oe)=>{var ue=L(),Z=u(ue);{var j=ge=>{{let ve=p(()=>e(N).getContext());t(()=>Mo(ge,{get content(){return e(N).column.columnDef.header},get context(){return e(ve)}}),"component",pt,177,18,{componentTag:"FlexRender"})}};t(()=>pe(Z,ge=>{e(N).isPlaceholder||ge(j)}),"if",pt,176,16)}n(M,ue)}),$$slots:{default:!0}})}),"component",pt,175,14,{componentTag:"Table.Head"}),n(I,O)}),"each",pt,174,12),n(f,k)}),$$slots:{default:!0}})}),"component",pt,173,10,{componentTag:"Table.Row"}),n(w,x)}),"each",pt,172,8),n(X,le)}),$$slots:{default:!0}})}),"component",pt,171,6,{componentTag:"Table.Header"});var ye=s(ne,2);t(()=>i(ye,()=>Ko,(_e,ce)=>{ce(_e,{children:l(pt,(X,te)=>{var le=L(),C=u(le);xa(()=>d().getRowModel().rows,w=>w.id),t(()=>rt(C,17,()=>d().getRowModel().rows,w=>w.id,(w,U)=>{var x=L(),_=u(x);{let b=p(()=>e(U).getIsSelected()&&"selected");t(()=>i(_,()=>Va,(P,f)=>{f(P,{get"data-state"(){return e(b)},children:l(pt,(W,k)=>{var q=L(),I=u(q);xa(()=>e(U).getVisibleCells(),N=>N.id),t(()=>rt(I,17,()=>e(U).getVisibleCells(),N=>N.id,(N,O)=>{var Y=L(),$=u(Y);{var V=oe=>{var ue=L(),Z=u(ue);t(()=>i(Z,()=>Yt,(j,ge)=>{ge(j,{children:l(pt,(ve,Ie)=>{{let $e=p(()=>e(O).getContext());t(()=>Mo(ve,{get content(){return e(O).column.columnDef.aggregatedCell},get context(){return e($e)}}),"component",pt,193,18,{componentTag:"FlexRender"})}}),$$slots:{default:!0}})}),"component",pt,192,16,{componentTag:"Table.Cell"}),n(oe,ue)},M=oe=>{var ue=L(),Z=u(ue);{var j=ve=>{var Ie=L(),$e=u(Ie);t(()=>i($e,()=>Yt,(me,fe)=>{fe(me,{})}),"component",pt,199,16,{componentTag:"Table.Cell"}),n(ve,Ie)},ge=ve=>{var Ie=L(),$e=u(Ie);t(()=>i($e,()=>Yt,(me,fe)=>{fe(me,{children:l(pt,(de,be)=>{{let he=p(()=>e(O).getContext());t(()=>Mo(de,{get content(){return e(O).column.columnDef.cell},get context(){return e(he)}}),"component",pt,202,18,{componentTag:"FlexRender"})}}),$$slots:{default:!0}})}),"component",pt,201,16,{componentTag:"Table.Cell"}),n(ve,Ie)};t(()=>pe(Z,ve=>{e(O).getIsPlaceholder()?ve(j):ve(ge,!1)},!0),"if",pt,198,14)}n(oe,ue)};t(()=>pe($,oe=>{e(O).getIsAggregated()?oe(V):oe(M,!1)}),"if",pt,191,14)}n(N,Y)}),"each",pt,190,12),n(W,q)}),$$slots:{default:!0}})}),"component",pt,189,10,{componentTag:"Table.Row"})}n(w,x)},w=>{var U=L(),x=u(U);t(()=>i(x,()=>Va,(_,b)=>{b(_,{children:l(pt,(P,f)=>{var W=L(),k=u(W);t(()=>i(k,()=>Yt,(q,I)=>{I(q,{get colspan(){return a.columns.length},class:"h-24 text-center",children:l(pt,(N,O)=>{H();var Y=K("No results.");n(N,Y)}),$$slots:{default:!0}})}),"component",pt,209,12,{componentTag:"Table.Cell"}),n(P,W)}),$$slots:{default:!0}})}),"component",pt,208,10,{componentTag:"Table.Row"}),n(w,U)}),"each",pt,188,8),n(X,le)}),$$slots:{default:!0}})}),"component",pt,187,6,{componentTag:"Table.Body"}),n(E,re)}),$$slots:{default:!0}})}),"component",pt,170,4,{componentTag:"Table.Root"}),S(z);var R=s(z,2);return t(()=>St(R,{get table(){return d()}}),"component",pt,215,2,{componentTag:"DataTablePagination"}),S(G),n(c,G),at({...nt()})}dt[v]="src/routes/accounts/[id]/(components)/data-table-column-header.svelte";var Fu=h(y("<div> </div>"),dt[v],[[33,2]]),Iu=h(y("<span> </span> <!>",1),dt[v],[[47,12]]),ku=h(y("<!> Asc",1),dt[v],[]),Au=h(y("<!> Desc",1),dt[v],[]),Vu=h(y("<!> <!> <!>",1),dt[v],[]),Ru=h(y("<!> Hide",1),dt[v],[]),Mu=h(y("<!> <!>",1),dt[v],[]),Lu=h(y("<!> <!>",1),dt[v],[]),Ou=h(y("<div><!></div>"),dt[v],[[37,2]]);function dt(c,a){et(new.target),tt(a,!0,dt);let d=Bl(a,["$$slots","$$events","$$legacy","column","class","title"],"restProps");const r=D(p(()=>ba.get()?.activeView),"currentView"),o=D(p(()=>e(r)?.view?.getSorting()?.find(Q=>B(Q.id,a.column.id))),"sortState");var g=L(),T=u(g);{var m=Q=>{var z=Fu();Tr(z,R=>({class:R,...d}),[()=>Gt(Ea({variant:"ghost",size:"sm"}),a.class)]);var ae=A(z,!0);S(z),xe(()=>Te(ae,a.title)),n(Q,z)},G=Q=>{var z=Ou();Tr(z,R=>({class:R,...d}),[()=>Gt("flex items-center",a.class)]);var ae=A(z);t(()=>i(ae,()=>$o,(R,F)=>{F(R,{children:l(dt,(ee,E)=>{var J=Lu(),re=u(J);{const ye=l(dt,function(_e,ce){Ct(...arguments);let X=()=>ce?.().props;X(),t(()=>Ke(_e,yt(X,{variant:"ghost",size:"sm",class:"-ml-3 h-8 data-[state=open]:bg-accent",children:l(dt,(te,le)=>{var C=Iu(),w=u(C),U=A(w,!0);S(w);var x=s(w,2);{var _=b=>{var P=L(),f=u(P);{var W=q=>{t(()=>Vr(q,{class:"ml-2 size-4"}),"component",dt,52,16,{componentTag:"ArrowDown"})},k=q=>{var I=L(),N=u(I);{var O=$=>{t(()=>Rr($,{class:"ml-2 size-4"}),"component",dt,54,16,{componentTag:"ArrowUp"})},Y=$=>{t(()=>Fs($,{class:"ml-2 size-4"}),"component",dt,56,16,{componentTag:"ArrowUpDown"})};t(()=>pe(N,$=>{e(o)&&!e(o).desc?$(O):$(Y,!1)},!0),"if",dt,53,14)}n(q,I)};t(()=>pe(f,q=>{e(o)&&e(o).desc?q(W):q(k,!1)}),"if",dt,51,14)}n(b,P)};t(()=>pe(x,b=>{a.column.getCanSort()&&b(_)}),"if",dt,50,12)}xe(()=>Te(U,a.title)),n(te,C)}),$$slots:{default:!0}})),"component",dt,41,10,{componentTag:"Button"})});t(()=>i(re,()=>xo,(_e,ce)=>{ce(_e,{child:ye,$$slots:{child:!0}})}),"component",dt,39,6,{componentTag:"DropdownMenu.Trigger"})}var ne=s(re,2);t(()=>i(ne,()=>To,(ye,_e)=>{_e(ye,{align:"start",children:l(dt,(ce,X)=>{var te=Mu(),le=u(te);{var C=U=>{var x=Vu(),_=u(x);t(()=>i(_,()=>dn,(f,W)=>{W(f,{onclick:()=>e(r).updateTableSorter(a.column.id,!1),children:l(dt,(k,q)=>{var I=ku(),N=u(I);t(()=>Rr(N,{class:"mr-2 size-3.5 text-muted-foreground/70"}),"component",dt,65,12,{componentTag:"ArrowUp"}),H(),n(k,I)}),$$slots:{default:!0}})}),"component",dt,64,10,{componentTag:"DropdownMenu.Item"});var b=s(_,2);t(()=>i(b,()=>dn,(f,W)=>{W(f,{onclick:()=>e(r).updateTableSorter(a.column.id,!0),children:l(dt,(k,q)=>{var I=Au(),N=u(I);t(()=>Vr(N,{class:"mr-2 size-3.5 text-muted-foreground/70"}),"component",dt,69,12,{componentTag:"ArrowDown"}),H(),n(k,I)}),$$slots:{default:!0}})}),"component",dt,68,10,{componentTag:"DropdownMenu.Item"});var P=s(b,2);t(()=>i(P,()=>ds,(f,W)=>{W(f,{})}),"component",dt,72,10,{componentTag:"DropdownMenu.Separator"}),n(U,x)};t(()=>pe(le,U=>{a.column.getCanSort()&&U(C)}),"if",dt,63,8)}var w=s(le,2);t(()=>i(w,()=>dn,(U,x)=>{x(U,{onclick:()=>e(r).updateColumnVisibility(a.column.id,!1),children:l(dt,(_,b)=>{var P=Ru(),f=u(P);t(()=>Is(f,{class:"mr-2 size-3.5 text-muted-foreground/70"}),"component",dt,75,10,{componentTag:"EyeNone"}),H(),n(_,P)}),$$slots:{default:!0}})}),"component",dt,74,8,{componentTag:"DropdownMenu.Item"}),n(ce,te)}),$$slots:{default:!0}})}),"component",dt,62,6,{componentTag:"DropdownMenu.Content"}),n(ee,J)}),$$slots:{default:!0}})}),"component",dt,38,4,{componentTag:"DropdownMenu.Root"}),S(z),n(Q,z)};t(()=>pe(T,Q=>{!a.column?.getCanSort()&&!a.column?.getCanHide()?Q(m):Q(G,!1)}),"if",dt,32,0)}return n(c,g),at({...nt()})}Et[v]="src/routes/accounts/[id]/(dialogs)/delete-view-dialog.svelte";var zu=h(y("<!> <!>",1),Et[v],[]),Eu=h(y("<!> <!>",1),Et[v],[]),Nu=h(y("<!> <!>",1),Et[v],[]);function Et(c,a){et(new.target),tt(a,!0,Et);var d=ya(a);let r=Ye(a,"dialogOpen",15);const o=D(p(()=>ba.get()),"_currentViews");let g=async()=>{if(a.views){const G=e(o).get(a.views);G&&G.forEach(Q=>Q.view.deleteView())}a.onDelete&&a.onDelete(),r(!1)};var T=L(),m=u(T);return t(()=>i(m,()=>zn,(G,Q)=>{d.binding("dialogOpen",Q,r),Q(G,{get open(){return r()},set open(z){r(z)},children:l(Et,(z,ae)=>{var R=L(),F=u(R);t(()=>i(F,()=>En,(ee,E)=>{E(ee,{children:l(Et,(J,re)=>{var ne=Nu(),ye=u(ne);t(()=>i(ye,()=>Nn,(ce,X)=>{X(ce,{children:l(Et,(te,le)=>{var C=zu(),w=u(C);t(()=>i(w,()=>Bn,(x,_)=>{_(x,{children:l(Et,(b,P)=>{H();var f=K("Are you absolutely sure?");n(b,f)}),$$slots:{default:!0}})}),"component",Et,38,6,{componentTag:"AlertDialog.Title"});var U=s(w,2);t(()=>i(U,()=>qn,(x,_)=>{_(x,{children:l(Et,(b,P)=>{H();var f=K("This action cannot be undone. This will permanently delete this transaction.");n(b,f)}),$$slots:{default:!0}})}),"component",Et,39,6,{componentTag:"AlertDialog.Description"}),n(te,C)}),$$slots:{default:!0}})}),"component",Et,37,4,{componentTag:"AlertDialog.Header"});var _e=s(ye,2);t(()=>i(_e,()=>jn,(ce,X)=>{X(ce,{children:l(Et,(te,le)=>{var C=Eu(),w=u(C);t(()=>i(w,()=>Hn,(x,_)=>{_(x,{children:l(Et,(b,P)=>{H();var f=K("Cancel");n(b,f)}),$$slots:{default:!0}})}),"component",Et,44,6,{componentTag:"AlertDialog.Cancel"});var U=s(w,2);{let x=p(()=>Ea({variant:"destructive"}));t(()=>i(U,()=>Gn,(_,b)=>{b(_,{onclick:g,get class(){return e(x)},children:l(Et,(P,f)=>{H();var W=K("Continue");n(P,W)}),$$slots:{default:!0}})}),"component",Et,45,6,{componentTag:"AlertDialog.Action"})}n(te,C)}),$$slots:{default:!0}})}),"component",Et,43,4,{componentTag:"AlertDialog.Footer"}),n(J,ne)}),$$slots:{default:!0}})}),"component",Et,36,2,{componentTag:"AlertDialog.Content"}),n(z,R)}),$$slots:{default:!0}})}),"component",Et,35,0,{componentTag:"AlertDialog.Root"}),n(c,T),at({...nt()})}gt[v]="src/routes/accounts/[id]/(components)/manage-view-form.svelte";var Bu=h(y("<!> <!>",1),gt[v],[]),qu=h(y("<!> <!>",1),gt[v],[]),ju=h(y("<!> <!>",1),gt[v],[]),Hu=h(y("<!> <!> <input hidden/>",1),gt[v],[[156,10]]),Gu=h(y('<!> <form method="post" action="/views?/save-view" class="rounded-sm border p-4"><div class="flex"><!> <div class="min-w-max"><!> <!> <!></div></div> <!> <div class="flex justify-between"><!> <!></div></form>',1),gt[v],[[83,0,[[95,2,[[104,4]]],[142,2]]]]);function gt(c,a){et(new.target),tt(a,!0,gt);const[d,r]=Rn(),o=()=>(Mn(m,"formData"),An(m,"$formData",d)),{data:{manageViewForm:g}}=za,T=Un(g||{id:0,name:"",description:"",filters:{},display:{}},{id:"views-form",dataType:"json",validators:ms(ei),onResult:async({result:x})=>{a.onSave&&B(x.type,"success")&&x.data&&a.onSave(x.data.entity)}}),{form:m,enhance:G,errors:Q}=T,z=D(p(()=>ba.get()),"_currentViews"),ae=D(p(()=>a.viewId&&a.viewId>0?e(z).get(a.viewId):e(z).activeView),"activeView");let R=D(Ge(!1),"alertDialogOpen");Ut(()=>{ft(m,qe(o).id=a.viewId,qe(o)),ft(m,qe(o).name=e(ae)?.view.name,qe(o)),ft(m,qe(o).description=e(ae)?.view.description,qe(o)),ft(m,qe(o).filters=e(ae)?.view.getAllFilterValues(),qe(o)),ft(m,qe(o).display={grouping:e(ae)?.view.getGrouping(),sorting:e(ae)?.view.getSorting(),expanded:e(ae)?.view.getExpanded()},qe(o))});var F=Gu(),ee=u(F);{let x=p(()=>[o().id]);t(()=>Et(ee,{get views(){return e(x)},onDelete:()=>{a.onDelete&&a.onDelete(),e(ae)?.view.deleteView()},get dialogOpen(){return e(R)},set dialogOpen(_){ie(R,_,!0)}}),"component",gt,72,0,{componentTag:"DeleteViewDialog"})}var E=s(ee,2),J=A(E),re=A(J);t(()=>i(re,()=>ea,(x,_)=>{_(x,{get form(){return T},name:"name",class:"mr-2 w-full",children:l(gt,(b,P)=>{var f=L(),W=u(f);{const k=l(gt,function(q,I){Ct(...arguments);let N=()=>I?.().props;N();var O=Bu(),Y=u(O);t(()=>Dt(Y,yt(N,{get name(){return N().name},placeholder:"View name",get value(){return o().name},set value(V){ft(m,qe(o).name=V,qe(o))}})),"component",gt,99,10,{componentTag:"Input"});var $=s(Y,2);t(()=>i($,()=>va,(V,M)=>{M(V,{})}),"component",gt,100,10,{componentTag:"Form.FieldErrors"}),n(q,O)});t(()=>i(W,()=>ta,(q,I)=>{I(q,{children:k,$$slots:{default:!0}})}),"component",gt,97,6,{componentTag:"Form.Control"})}n(b,f)}),$$slots:{default:!0}})}),"component",gt,96,4,{componentTag:"Form.Field"});var ne=s(re,2),ye=A(ne);{let x=p(()=>Ea({size:"default"}));t(()=>i(ye,()=>On,(_,b)=>{b(_,{get class(){return e(x)},children:l(gt,(P,f)=>{H();var W=K("save");n(P,W)}),$$slots:{default:!0}})}),"component",gt,105,6,{componentTag:"Form.Button"})}var _e=s(ye,2);t(()=>Ke(_e,{variant:"outline",size:"default",onclick:()=>{a.onCancel&&a.onCancel(),e(z).removeTemporaryView()},children:l(gt,(x,_)=>{H();var b=K("cancel");n(x,b)}),$$slots:{default:!0}}),"component",gt,106,6,{componentTag:"Button"});var ce=s(_e,2);{var X=x=>{t(()=>Ke(x,{variant:"destructive",size:"default",onclick:()=>{a.onDelete&&a.onDelete(),ie(R,!0)},children:l(gt,(_,b)=>{H();var P=K("delete");n(_,P)}),$$slots:{default:!0}}),"component",gt,117,8,{componentTag:"Button"})};t(()=>pe(ce,x=>{B(a.viewId,0,!1)&&x(X)}),"if",gt,116,6)}S(ne),S(J);var te=s(J,2);t(()=>i(te,()=>ea,(x,_)=>{_(x,{get form(){return T},name:"description",children:l(gt,(b,P)=>{var f=L(),W=u(f);{const k=l(gt,function(q,I){Ct(...arguments);let N=()=>I?.().props;N();var O=qu(),Y=u(O);t(()=>_n(Y,yt(N,{get name(){return N().name},placeholder:"Description (optional)",get value(){return o().description},set value(V){ft(m,qe(o).description=V,qe(o))}})),"component",gt,132,8,{componentTag:"Textarea"});var $=s(Y,2);t(()=>i($,()=>va,(V,M)=>{M(V,{})}),"component",gt,138,8,{componentTag:"Form.FieldErrors"}),n(q,O)});t(()=>i(W,()=>ta,(q,I)=>{I(q,{children:k,$$slots:{default:!0}})}),"component",gt,130,4,{componentTag:"Form.Control"})}n(b,f)}),$$slots:{default:!0}})}),"component",gt,129,2,{componentTag:"Form.Field"});var le=s(te,2),C=A(le);t(()=>i(C,()=>ea,(x,_)=>{_(x,{get form(){return T},name:"filters",children:l(gt,(b,P)=>{var f=L(),W=u(f);{const k=l(gt,function(q,I){Ct(...arguments);let N=()=>I?.().props;N();var O=ju(),Y=u(O);t(()=>Vt(Y,yt(N,{get availableFilters(){return a.availableFilters},get value(){return o().filters},set value(V){ft(m,qe(o).filters=V,qe(o))}})),"component",gt,146,10,{componentTag:"FilterInput"});var $=s(Y,2);t(()=>i($,()=>va,(V,M)=>{M(V,{})}),"component",gt,147,10,{componentTag:"Form.FieldErrors"}),n(q,O)});t(()=>i(W,()=>ta,(q,I)=>{I(q,{children:k,$$slots:{default:!0}})}),"component",gt,144,6,{componentTag:"Form.Control"})}n(b,f)}),$$slots:{default:!0}})}),"component",gt,143,4,{componentTag:"Form.Field"});var w=s(C,2);t(()=>i(w,()=>ea,(x,_)=>{_(x,{get form(){return T},name:"display",children:l(gt,(b,P)=>{var f=L(),W=u(f);{const k=l(gt,function(q,I){Ct(...arguments);let N=()=>I?.().props;N();var O=Hu(),Y=u(O);t(()=>Le(Y,{}),"component",gt,154,10,{componentTag:"DisplayInput"});var $=s(Y,2);t(()=>i($,()=>va,(M,oe)=>{oe(M,{})}),"component",gt,155,10,{componentTag:"Form.FieldErrors"});var V=s($,2);Sa(V),xe(()=>Da(V,"name",N().name)),ln(V,()=>o().display,M=>ft(m,qe(o).display=M,qe(o))),n(q,O)});t(()=>i(W,()=>ta,(q,I)=>{I(q,{children:k,$$slots:{default:!0}})}),"component",gt,152,6,{componentTag:"Form.Control"})}n(b,f)}),$$slots:{default:!0}})}),"component",gt,151,4,{componentTag:"Form.Field"}),S(le),S(E),Vn(E,x=>G?.(x)),n(c,F);var U=at({...nt()});return r(),U}Xe[v]="src/routes/accounts/[id]/(components)/data-table-toolbar.svelte";var Uu=h(y("<!> <!>",1),Xe[v],[]),Qu=h(y(" <!>",1),Xe[v],[]),Wu=h(y('<div class="flex gap-0"><!></div>'),Xe[v],[[108,12]]),Yu=h(y("<!> <!>",1),Xe[v],[]),Ku=h(y("<!> <!>",1),Xe[v],[]),Xu=h(y("<!> Edit views",1),Xe[v],[]),Zu=h(y("<!> <!>",1),Xe[v],[]),Ju=h(y("<!> New view <!>",1),Xe[v],[]),em=h(y("<!> New view",1),Xe[v],[]),tm=h(y("<!> <!>",1),Xe[v],[]),am=h(y('<div class="flex"><!> <div class="flex-grow"></div> <div class="flex gap-1"><!> <!></div></div>'),Xe[v],[[197,2,[[200,4],[202,4]]]]),nm=h(y('<div class="flex text-sm"><!> <!> <!> <!></div> <!> <!>',1),Xe[v],[[55,0]]);function Xe(c,a){et(new.target),tt(a,!0,Xe);let d=D(Ge(!1),"manageViewForm"),r=D(Ge(0),"editViewId"),o=D(Ge(!1),"editViewsMode");const g=a.table.getAllColumns();let T=D(p(()=>g.filter(w=>w&&w.getIsVisible()&&w.columnDef.meta?.facetedFilter).map(w=>w.columnDef.meta?.facetedFilter(w))),"filterComponents");const m=D(p(()=>ba.get()),"_currentViews"),G=D(p(()=>e(m)?.viewsStates.values().next().value?.view.id),"firstViewId");let Q=D(Ge(""),"currentViewValue");Ut(()=>{e(G)&&!e(Q)&&ie(Q,e(G).toString(),!0)});const z=D(p(()=>e(m)?.editableViews??[]),"editableViews"),ae=D(p(()=>e(z).length),"editableViewsSize"),R=D(p(()=>e(m)?.nonEditableViews??[]),"nonEditableViews");var F=nm(),ee=u(F),E=A(ee);t(()=>i(E,()=>ro,(w,U)=>{U(w,{onValueChange:x=>{ie(d,!1);let _;x?_=parseInt(x):(_=e(G),ie(Q,_.toString(),!0)),e(m).remove(0,!1).setActive(_)},get value(){return e(Q)},set value(x){ie(Q,x,!0)},children:l(Xe,(x,_)=>{var b=Uu(),P=u(b);t(()=>i(P,()=>lo,(W,k)=>{k(W,{children:l(Xe,(q,I)=>{var N=L(),O=u(N);t(()=>rt(O,17,()=>e(R),ut,(Y,$)=>{var V=L(),M=u(V);{let oe=p(()=>e($).view.id.toString());t(()=>i(M,()=>qa,(ue,Z)=>{Z(ue,{get value(){return e(oe)},get"aria-label"(){return e($).view.name},children:l(Xe,(j,ge)=>{H();var ve=K();xe(()=>Te(ve,e($).view.name)),n(j,ve)}),$$slots:{default:!0}})}),"component",Xe,72,8,{componentTag:"Tabs.Trigger"})}n(Y,V)}),"each",Xe,71,6),n(q,N)}),$$slots:{default:!0}})}),"component",Xe,70,4,{componentTag:"Tabs.List"});var f=s(P,2);t(()=>i(f,()=>ja,(W,k)=>{k(W,{value:"account"})}),"component",Xe,77,4,{componentTag:"Tabs.Content"}),n(x,b)}),$$slots:{default:!0}})}),"component",Xe,56,2,{componentTag:"Tabs.Root"});var J=s(E,2);t(()=>so(J,{orientation:"vertical",class:"mx-1"}),"component",Xe,81,2,{componentTag:"Separator"});var re=s(J,2);{var ne=w=>{var U=Zu(),x=u(U);t(()=>i(x,()=>ro,(f,W)=>{W(f,{onValueChange:k=>{ie(d,!1);let q;k?q=parseInt(k):(q=e(G),ie(Q,q.toString(),!0)),e(m).remove(0,!1).setActive(q)},get value(){return e(Q)},set value(k){ie(Q,k,!0)},children:l(Xe,(k,q)=>{var I=Ku(),N=u(I);t(()=>i(N,()=>lo,(Y,$)=>{$(Y,{children:l(Xe,(V,M)=>{var oe=L(),ue=u(oe);t(()=>rt(ue,17,()=>e(z),ut,(Z,j)=>{var ge=Yu(),ve=u(ge);{let me=p(()=>e(j).view.id.toString());t(()=>i(ve,()=>qa,(fe,de)=>{de(fe,{get value(){return e(me)},get"aria-label"(){return e(j).view.name},children:l(Xe,(be,he)=>{H();var Re=Qu(),ke=u(Re),Ce=s(ke);{var De=Fe=>{t(()=>Rs(Fe,{class:"-ml-1"}),"component",Xe,103,14,{componentTag:"Asterisk"})};t(()=>pe(Ce,Fe=>{e(j).view.dirty&&Fe(De)}),"if",Xe,102,12)}xe(()=>Te(ke,`${e(j).view.name??""} `)),n(be,Re)}),$$slots:{default:!0}})}),"component",Xe,100,10,{componentTag:"Tabs.Trigger"})}var Ie=s(ve,2);{var $e=me=>{var fe=Wu(),de=A(fe),be=()=>e(d)&&B(e(j).view.id,e(r)),he=Re=>{ie(Q,e(j).view.id.toString(),!0),e(m).setActive(e(j).view.id),ie(r,Re?e(j).view.id:0,!0),ie(d,Re,!0)};{let Re=p(()=>Gt("h-8 rounded-none border-none shadow-none"));t(()=>Lo(de,{variant:"outline",get class(){return e(Re)},get pressed(){return be()},set pressed(ke){he(ke)},children:l(Xe,(ke,Ce)=>{t(()=>rl(ke,{}),"component",Xe,122,16,{componentTag:"Pencil"})}),$$slots:{default:!0}}),"component",Xe,109,14,{componentTag:"Toggle"})}S(fe),n(me,fe)};t(()=>pe(Ie,me=>{e(o)&&me($e)}),"if",Xe,107,10)}n(Z,ge)}),"each",Xe,99,8),n(V,oe)}),$$slots:{default:!0}})}),"component",Xe,98,6,{componentTag:"Tabs.List"});var O=s(N,2);t(()=>i(O,()=>ja,(Y,$)=>{$(Y,{value:"account"})}),"component",Xe,128,6,{componentTag:"Tabs.Content"}),n(k,I)}),$$slots:{default:!0}})}),"component",Xe,84,4,{componentTag:"Tabs.Root"});var _=s(x,2),b=()=>e(o),P=f=>{ie(o,f,!0),ie(d,!1),f||ie(r,0)};t(()=>Lo(_,{variant:"outline",class:"ml-2",get pressed(){return b()},set pressed(f){P(f)},children:l(Xe,(f,W)=>{var k=Xu(),q=u(k);t(()=>Ms(q,{}),"component",Xe,146,6,{componentTag:"Settings2"}),H(),n(f,k)}),$$slots:{default:!0}}),"component",Xe,132,4,{componentTag:"Toggle"}),n(w,U)};t(()=>pe(re,w=>{e(ae)>0&&w(ne)}),"if",Xe,83,2)}var ye=s(re,2),_e=()=>e(d),ce=w=>{ie(d,w,!0),ie(o,!1),w?e(m).addTemporaryView(a.table):e(m).removeTemporaryView()};t(()=>Lo(ye,{variant:"outline",class:"ml-2",get pressed(){return _e()},set pressed(w){ce(w)},get disabled(){return e(d)},children:l(Xe,(w,U)=>{var x=L(),_=u(x);{var b=f=>{var W=Ju(),k=u(W);t(()=>ks(k,{class:"mr-2 size-4"}),"component",Xe,168,6,{componentTag:"Layers"});var q=s(k,2);t(()=>As(q,{class:"ml-2 size-4"}),"component",Xe,168,46,{componentTag:"PencilLine"}),n(f,W)},P=f=>{var W=em(),k=u(W);t(()=>Vs(k,{class:"size-4"}),"component",Xe,170,6,{componentTag:"CirclePlus"}),H(),n(f,W)};t(()=>pe(_,f=>{e(d)&&B(e(r),0)?f(b):f(P,!1)}),"if",Xe,167,4)}n(w,x)}),$$slots:{default:!0}}),"component",Xe,150,2,{componentTag:"Toggle"}),S(ee);var X=s(ee,2);t(()=>so(X,{}),"component",Xe,175,0,{componentTag:"Separator"});var te=s(X,2);{var le=w=>{t(()=>gt(w,{get availableFilters(){return e(T)},onCancel:()=>{ie(d,!1),e(m)?.activeView?.resetToInitialState()},onDelete:()=>{ie(d,!1),e(m).remove(e(r)),ie(Q,e(m)?.activeView?.view.id?.toString()??"",!0)},onSave:U=>{ie(d,!1);const x=new Jr(U,a.table);e(m).add(x,!0)},get viewId(){return e(r)},set viewId(U){ie(r,U,!0)}}),"component",Xe,178,2,{componentTag:"ManageViewForm"})},C=w=>{var U=am(),x=A(U);t(()=>Vt(x,{get availableFilters(){return e(T)}}),"component",Xe,198,4,{componentTag:"FilterInput"});var _=s(x,4),b=A(_);t(()=>Le(b,{}),"component",Xe,203,6,{componentTag:"DisplayInput"});var P=s(b,2);{var f=W=>{var k=tm(),q=u(k);t(()=>Ke(q,{variant:"outline",size:"sm",onclick:()=>{e(m)?.activeView?.resetToInitialState()},children:l(Xe,(O,Y)=>{H();var $=K("Reset");n(O,$)}),$$slots:{default:!0}}),"component",Xe,205,8,{componentTag:"Button"});var I=s(q,2);{var N=O=>{t(()=>Ke(O,{size:"sm",onclick:()=>e(m)?.activeView?.view?.saveView(),children:l(Xe,(Y,$)=>{H();var V=K("Save");n(Y,V)}),$$slots:{default:!0}}),"component",Xe,213,10,{componentTag:"Button"})};t(()=>pe(I,O=>{parseInt(e(Q))>=0&&O(N)}),"if",Xe,212,8)}n(W,k)};t(()=>pe(P,W=>{e(m)?.activeView?.view?.dirty&&W(f)}),"if",Xe,204,6)}S(_),S(U),n(w,U)};t(()=>pe(te,w=>{e(d)?w(le):w(C,!1)}),"if",Xe,177,0)}return n(c,F),at({...nt()})}St[v]="src/routes/accounts/[id]/(components)/data-table-pagination.svelte";var om=h(y("<!> <!>",1),St[v],[]),rm=h(y('<span class="sr-only">Go to first page</span> <!>',1),St[v],[[52,8]]),lm=h(y('<span class="sr-only">Go to previous page</span> <!>',1),St[v],[[61,8]]),sm=h(y('<span class="sr-only">Go to next page</span> <!>',1),St[v],[[70,8]]),im=h(y('<span class="sr-only">Go to last page</span> <!>',1),St[v],[[79,8]]),cm=h(y('<div class="flex items-center justify-between px-2"><div class="flex-1 text-sm text-muted-foreground"> </div> <div class="flex items-center space-x-6 lg:space-x-8"><div class="flex items-center space-x-2"><p class="text-sm font-medium">Rows per page</p> <!></div> <div class="flex w-[100px] items-center justify-center text-sm font-medium"> </div> <div class="flex items-center space-x-2"><!> <!> <!> <!></div></div></div>'),St[v],[[13,0,[[14,2],[18,2,[[19,4,[[20,6]]],[41,4],[45,4]]]]]]);function St(c,a){et(new.target),tt(a,!0,St);var d=cm(),r=A(d),o=A(r);S(r);var g=s(r,2),T=A(g),m=s(A(T),2);{let E=p(()=>`${a.table.getState().pagination.pageSize}`);t(()=>i(m,()=>Ta,(J,re)=>{re(J,{allowDeselect:!1,type:"single",get value(){return e(E)},onValueChange:ne=>{a.table.setPageSize(Number(ne))},children:l(St,(ne,ye)=>{var _e=om(),ce=u(_e);t(()=>i(ce,()=>wa,(te,le)=>{le(te,{class:"h-8 w-[70px]",children:l(St,(C,w)=>{H();var U=K();xe(x=>Te(U,x),[()=>String(a.table.getState().pagination.pageSize)]),n(C,U)}),$$slots:{default:!0}})}),"component",St,29,8,{componentTag:"Select.Trigger"});var X=s(ce,2);t(()=>i(X,()=>Ca,(te,le)=>{le(te,{side:"top",children:l(St,(C,w)=>{var U=L(),x=u(U);xa(()=>[10,20,30,40,50],_=>_),t(()=>rt(x,16,()=>[10,20,30,40,50],_=>_,(_,b)=>{var P=L(),f=u(P);{let W=p(()=>`${b}`);t(()=>i(f,()=>ra,(k,q)=>{q(k,{get value(){return e(W)},children:l(St,(I,N)=>{H();var O=K();xe(()=>Te(O,b)),n(I,O)}),$$slots:{default:!0}})}),"component",St,34,12,{componentTag:"Select.Item"})}n(_,P)}),"each",St,33,10),n(C,U)}),$$slots:{default:!0}})}),"component",St,32,8,{componentTag:"Select.Content"}),n(ne,_e)}),$$slots:{default:!0}})}),"component",St,21,6,{componentTag:"Select.Root"})}S(T);var G=s(T,2),Q=A(G);S(G);var z=s(G,2),ae=A(z);{let E=p(()=>!a.table.getCanPreviousPage());t(()=>Ke(ae,{variant:"outline",class:"hidden size-8 p-0 lg:flex",onclick:()=>a.table.setPageIndex(0),get disabled(){return e(E)},children:l(St,(J,re)=>{var ne=rm(),ye=s(u(ne),2);t(()=>il(ye,{class:"size-4"}),"component",St,53,8,{componentTag:"ChevronsLeft"}),n(J,ne)}),$$slots:{default:!0}}),"component",St,46,6,{componentTag:"Button"})}var R=s(ae,2);{let E=p(()=>!a.table.getCanPreviousPage());t(()=>Ke(R,{variant:"outline",class:"size-8 p-0",onclick:()=>a.table.previousPage(),get disabled(){return e(E)},children:l(St,(J,re)=>{var ne=lm(),ye=s(u(ne),2);t(()=>ir(ye,{class:"size-4"}),"component",St,62,8,{componentTag:"ChevronLeft"}),n(J,ne)}),$$slots:{default:!0}}),"component",St,55,6,{componentTag:"Button"})}var F=s(R,2);{let E=p(()=>!a.table.getCanNextPage());t(()=>Ke(F,{variant:"outline",class:"size-8 p-0",onclick:()=>a.table.nextPage(),get disabled(){return e(E)},children:l(St,(J,re)=>{var ne=sm(),ye=s(u(ne),2);t(()=>cr(ye,{class:"size-4"}),"component",St,71,8,{componentTag:"ChevronRight"}),n(J,ne)}),$$slots:{default:!0}}),"component",St,64,6,{componentTag:"Button"})}var ee=s(F,2);{let E=p(()=>!a.table.getCanNextPage());t(()=>Ke(ee,{variant:"outline",class:"hidden size-8 p-0 lg:flex",onclick:()=>a.table.setPageIndex(a.table.getPageCount()-1),get disabled(){return e(E)},children:l(St,(J,re)=>{var ne=im(),ye=s(u(ne),2);t(()=>cl(ye,{class:"size-4"}),"component",St,80,8,{componentTag:"ChevronsRight"}),n(J,ne)}),$$slots:{default:!0}}),"component",St,73,6,{componentTag:"Button"})}return S(z),S(g),S(d),xe((E,J,re,ne)=>{Te(o,`${E??""} of
    ${J??""} row(s) selected.`),Te(Q,`Page ${re??""} of
      ${ne??""}`)},[()=>a.table.getFilteredSelectedRowModel().rows.length,()=>a.table.getFilteredRowModel().rows.length,()=>a.table.getState().pagination.pageIndex+1,()=>a.table.getPageCount()]),n(c,d),at({...nt()})}Ne[v]="src/routes/accounts/[id]/(components)/data-table-faceted-filter.svelte";var dm=h(y("<div><!></div> <span> </span>",1),Ne[v],[[87,16],[97,16]]),um=h(y("<!> <!>",1),Ne[v],[]),mm=h(y("<!> <!>",1),Ne[v],[]),vm=h(y('<!> <div class="hidden space-x-1 lg:flex"><!></div>',1),Ne[v],[[115,12]]),gm=h(y('<span class="ml-auto flex size-4 items-center justify-center font-mono text-xs"> </span>'),Ne[v],[[173,18]]),pm=h(y("<div><!></div> <!> <span> </span> <!>",1),Ne[v],[[153,16],[168,16]]),fm=h(y('<!> <span class="text-sm text-slate-800"> </span>',1),Ne[v],[[185,16]]),_m=h(y("<!> <!>",1),Ne[v],[]),hm=h(y("<!> <!>",1),Ne[v],[]),ym=h(y("<!> <!>",1),Ne[v],[]),bm=h(y("<!> <!> <!> <!>",1),Ne[v],[]),$m=h(y("<!> <!>",1),Ne[v],[]),xm=h(y("<!> <!>",1),Ne[v],[]),Tm=h(y('<div class="flex"><!> <!> <!> <!></div>'),Ne[v],[[55,0]]);function Ne(c,a){et(new.target),tt(a,!0,Ne);const d=D(p(()=>a.column?.getFacetedUniqueValues()),"facets"),r=D(p(()=>a.column?.columnDef.meta?.availableFilters||[]),"operators");let o=D(Ge(!1),"showAll"),g=D(Ge(Pt(a.column.getFilterFn()?.name)),"activeOperator");const T=D(p(()=>a.options?.values().toArray()),"optionsValues"),m=D(p(()=>e(T)?.map(ne=>ne.value)),"optionsRawValues"),G=D(p(()=>(e(o)?e(T)?.concat(a.allOptions?.values().toArray().filter(ne=>!e(m)?.includes(ne.value))||[]):e(T))||[]),"showOptions"),Q=D(p(()=>(a.allOptions?.size||0)-(a.options?.size||0)),"notIn"),z=D(p(()=>ba.get().activeView),"activeView"),ae=D(p(()=>e(z).view),"activeViewModel"),R=D(p(()=>e(ae).getFilterValue(a.column.id)),"selectedValues");var F=Tm(),ee=A(F);t(()=>Xt(ee,{variant:"outline",class:"h-8 rounded-r-none",children:l(Ne,(ne,ye)=>{H();var _e=K();xe(()=>Te(_e,a.title)),n(ne,_e)}),$$slots:{default:!0}}),"component",Ne,56,2,{componentTag:"Badge"});var E=s(ee,2);t(()=>i(E,()=>fa,(ne,ye)=>{ye(ne,{children:l(Ne,(_e,ce)=>{var X=mm(),te=u(X);{const C=l(Ne,function(w,U){Ct(...arguments);let x=()=>U?.().props;x(),t(()=>Ke(w,yt(x,{variant:"outline",size:"sm",class:"h-8 rounded-none border-l-0 border-r-0",children:l(Ne,(_,b)=>{H();var P=K();xe(f=>Te(P,f),[()=>e(r).find(f=>B(f.id,e(g)))?.label]),n(_,P)}),$$slots:{default:!0}})),"component",Ne,60,8,{componentTag:"Button"})});t(()=>i(te,()=>_a,(w,U)=>{U(w,{child:C,$$slots:{child:!0}})}),"component",Ne,58,4,{componentTag:"Popover.Trigger"})}var le=s(te,2);t(()=>i(le,()=>ha,(C,w)=>{w(C,{class:"w-auto min-w-[200px] p-0",align:"start",children:l(Ne,(U,x)=>{var _=L(),b=u(_);t(()=>i(b,()=>no,(P,f)=>{f(P,{children:l(Ne,(W,k)=>{var q=L(),I=u(q);t(()=>i(I,()=>oo,(N,O)=>{O(N,{children:l(Ne,(Y,$)=>{var V=um(),M=u(V);t(()=>i(M,()=>jo,(ue,Z)=>{Z(ue,{children:l(Ne,(j,ge)=>{H();var ve=K("No operators found.");n(j,ve)}),$$slots:{default:!0}})}),"component",Ne,73,10,{componentTag:"Command.Empty"});var oe=s(M,2);t(()=>i(oe,()=>sn,(ue,Z)=>{Z(ue,{children:l(Ne,(j,ge)=>{var ve=L(),Ie=u(ve);t(()=>rt(Ie,17,()=>e(r),ut,($e,me)=>{let fe=()=>e(me).id;fe();let de=()=>e(me).label;de();const be=D(p(()=>B(e(g),fe())),"isSelected");e(be);var he=L(),Re=u(he);t(()=>i(Re,()=>en,(ke,Ce)=>{Ce(ke,{get value(){return fe()},onSelect:()=>{e(z).updateFilter({column:a.column.id,filter:fe()}),ie(g,fe(),!0)},children:l(Ne,(De,Fe)=>{var Ve=dm(),we=u(Ve),Ae=A(we);{let Me=p(()=>Gt("h-4 w-4"));t(()=>Xo(Ae,{get class(){return e(Me)}}),"component",Ne,95,18,{componentTag:"Check"})}S(we);var ze=s(we,2),Pe=A(ze,!0);S(ze),xe(Me=>{Oa(we,1,Me),Te(Pe,de())},[()=>Dn(Gt("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",e(be)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"))]),n(De,Ve)}),$$slots:{default:!0}})}),"component",Ne,77,14,{componentTag:"Command.Item"}),n($e,he)}),"each",Ne,75,12),n(j,ve)}),$$slots:{default:!0}})}),"component",Ne,74,10,{componentTag:"Command.Group"}),n(Y,V)}),$$slots:{default:!0}})}),"component",Ne,72,8,{componentTag:"Command.List"}),n(W,q)}),$$slots:{default:!0}})}),"component",Ne,71,6,{componentTag:"Command.Root"}),n(U,_)}),$$slots:{default:!0}})}),"component",Ne,70,4,{componentTag:"Popover.Content"}),n(_e,X)}),$$slots:{default:!0}})}),"component",Ne,57,2,{componentTag:"Popover.Root"});var J=s(E,2);t(()=>i(J,()=>fa,(ne,ye)=>{ye(ne,{children:l(Ne,(_e,ce)=>{var X=xm(),te=u(X);{const C=l(Ne,function(w,U){Ct(...arguments);let x=()=>U?.().props;x(),t(()=>Ke(w,yt(x,{variant:"outline",size:"sm",class:"h-8 rounded-none",children:l(Ne,(_,b)=>{var P=L(),f=u(P);{var W=q=>{t(()=>Xt(q,{variant:"secondary",children:l(Ne,(I,N)=>{H();var O=K("none selected");n(I,O)}),$$slots:{default:!0}}),"component",Ne,110,12,{componentTag:"Badge"})},k=q=>{var I=vm(),N=u(I);t(()=>Xt(N,{variant:"secondary",class:"rounded-sm px-1 font-normal lg:hidden",children:l(Ne,(M,oe)=>{H();var ue=K();xe(()=>Te(ue,e(R).size)),n(M,ue)}),$$slots:{default:!0}}),"component",Ne,112,12,{componentTag:"Badge"});var O=s(N,2),Y=A(O);{var $=M=>{t(()=>Xt(M,{variant:"secondary",class:"rounded-sm px-1 font-normal",children:l(Ne,(oe,ue)=>{H();var Z=K();xe(()=>Te(Z,`${e(R).size??""} selected`)),n(oe,Z)}),$$slots:{default:!0}}),"component",Ne,117,16,{componentTag:"Badge"})},V=M=>{const oe=D(p(()=>a.allOptions?.values().toArray().filter(ve=>e(R).has(ve.value))||[]),"matchingOptions");e(oe);var ue=L(),Z=u(ue);{var j=ve=>{var Ie=L(),$e=u(Ie);t(()=>rt($e,17,()=>e(oe),ut,(me,fe)=>{t(()=>Xt(me,{variant:"secondary",class:"rounded-sm px-1 font-normal",children:l(Ne,(de,be)=>{H();var he=K();xe(()=>Te(he,e(fe).label)),n(de,he)}),$$slots:{default:!0}}),"component",Ne,124,20,{componentTag:"Badge"})}),"each",Ne,123,18),n(ve,Ie)},ge=ve=>{t(()=>Xt(ve,{variant:"secondary",class:"rounded-sm px-1 font-normal",children:l(Ne,(Ie,$e)=>{H();var me=K();xe(()=>Te(me,`${e(R).size??""} selected`)),n(Ie,me)}),$$slots:{default:!0}}),"component",Ne,130,18,{componentTag:"Badge"})};t(()=>pe(Z,ve=>{e(oe).length>0?ve(j):ve(ge,!1)}),"if",Ne,122,16)}n(M,ue)};t(()=>pe(Y,M=>{e(R).size>2?M($):M(V,!1)}),"if",Ne,116,14)}S(O),n(q,I)};t(()=>pe(f,q=>{B(e(R).size,0)?q(W):q(k,!1)}),"if",Ne,109,10)}n(_,P)}),$$slots:{default:!0}})),"component",Ne,108,8,{componentTag:"Button"})});t(()=>i(te,()=>_a,(w,U)=>{U(w,{child:C,$$slots:{child:!0}})}),"component",Ne,106,4,{componentTag:"Popover.Trigger"})}var le=s(te,2);t(()=>i(le,()=>ha,(C,w)=>{w(C,{class:"w-auto min-w-[200px] p-0",align:"start",children:l(Ne,(U,x)=>{var _=L(),b=u(_);t(()=>i(b,()=>no,(P,f)=>{f(P,{children:l(Ne,(W,k)=>{var q=$m(),I=u(q);t(()=>i(I,()=>el,(O,Y)=>{Y(O,{get placeholder(){return a.title}})}),"component",Ne,142,8,{componentTag:"Command.Input"});var N=s(I,2);t(()=>i(N,()=>oo,(O,Y)=>{Y(O,{children:l(Ne,($,V)=>{var M=bm(),oe=u(M);t(()=>i(oe,()=>jo,(Ie,$e)=>{$e(Ie,{children:l(Ne,(me,fe)=>{H();var de=K("No results found.");n(me,de)}),$$slots:{default:!0}})}),"component",Ne,144,10,{componentTag:"Command.Empty"});var ue=s(oe,2);t(()=>i(ue,()=>sn,(Ie,$e)=>{$e(Ie,{children:l(Ne,(me,fe)=>{var de=_m(),be=u(de);t(()=>rt(be,17,()=>e(G),ut,(ke,Ce)=>{const De=D(p(()=>e(R).has(e(Ce).value)),"isSelected");e(De);var Fe=L(),Ve=u(Fe);t(()=>i(Ve,()=>en,(we,Ae)=>{Ae(we,{onSelect:()=>{e(z).toggleFilterValue(a.column.id,e(Ce).value)},children:l(Ne,(ze,Pe)=>{const Me=D(p(()=>["category","payee"].includes(a.column.id)?parseInt(e(Ce).value):e(Ce).value),"optionValue");e(Me);var Be=pm(),Ue=u(Be),Ee=A(Ue);{let Tt=p(()=>Gt("h-4 w-4"));t(()=>Xo(Ee,{get class(){return e(Tt)}}),"component",Ne,161,18,{componentTag:"Check"})}S(Ue);var Ze=s(Ue,2);{var ot=Tt=>{const Ot=D(p(()=>e(Ce).icon),"Icon");e(Ot);var la=L(),Ia=u(la);t(()=>i(Ia,()=>e(Ot),(Na,Ya)=>{Ya(Na,{class:"size-4"})}),"component",Ne,165,18,{componentTag:"Icon"}),n(Tt,la)};t(()=>pe(Ze,Tt=>{e(Ce).icon&&Tt(ot)}),"if",Ne,163,16)}var _t=s(Ze,2),ct=A(_t,!0);S(_t);var bt=s(_t,2);{var Bt=Tt=>{var Ot=gm(),la=A(Ot,!0);S(Ot),xe(Ia=>Te(la,Ia),[()=>e(d).get(e(Me))]),n(Tt,Ot)};t(()=>pe(bt,Tt=>{e(d)?.has(e(Me))&&Tt(Bt)}),"if",Ne,172,16)}xe(Tt=>{Oa(Ue,1,Tt),Te(ct,e(Ce).label)},[()=>Dn(Gt("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",e(De)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"))]),n(ze,Be)}),$$slots:{default:!0}})}),"component",Ne,148,14,{componentTag:"Command.Item"}),n(ke,Fe)}),"each",Ne,146,12);var he=s(be,2);{var Re=ke=>{var Ce=L(),De=u(Ce);t(()=>i(De,()=>en,(Fe,Ve)=>{Ve(Fe,{onSelect:()=>ie(o,!e(o)),children:l(Ne,(we,Ae)=>{var ze=fm(),Pe=u(ze);{var Me=Ee=>{const Ze=D(p(()=>a.allIcon),"AllIcon");e(Ze);var ot=L(),_t=u(ot);t(()=>i(_t,()=>e(Ze),(ct,bt)=>{bt(ct,{class:"size-4"})}),"component",Ne,183,18,{componentTag:"AllIcon"}),n(Ee,ot)};t(()=>pe(Pe,Ee=>{a.allIcon&&Ee(Me)}),"if",Ne,181,16)}var Be=s(Pe,2),Ue=A(Be);S(Be),xe(Ee=>Te(Ue,`${e(o)?"hide":"show"}
                  ${e(Q)??""} options not matching any ${Ee??""}`),[()=>a.title.toLowerCase()]),n(we,ze)}),$$slots:{default:!0}})}),"component",Ne,180,14,{componentTag:"Command.Item"}),n(ke,Ce)};t(()=>pe(he,ke=>{a.allOptions?.size&&e(Q)>0&&ke(Re)}),"if",Ne,179,12)}n(me,de)}),$$slots:{default:!0}})}),"component",Ne,145,10,{componentTag:"Command.Group"});var Z=s(ue,2);{var j=Ie=>{var $e=hm(),me=u($e);t(()=>i(me,()=>Fr,(de,be)=>{be(de,{})}),"component",Ne,194,12,{componentTag:"Command.Separator"});var fe=s(me,2);t(()=>i(fe,()=>sn,(de,be)=>{be(de,{children:l(Ne,(he,Re)=>{var ke=L(),Ce=u(ke);t(()=>ql(Ce,()=>a.customValueSnippet),"render",Ne,196,14),n(he,ke)}),$$slots:{default:!0}})}),"component",Ne,195,12,{componentTag:"Command.Group"}),n(Ie,$e)};t(()=>pe(Z,Ie=>{a.customValueSnippet&&Ie(j)}),"if",Ne,193,10)}var ge=s(Z,2);{var ve=Ie=>{var $e=ym(),me=u($e);t(()=>i(me,()=>Fr,(de,be)=>{be(de,{})}),"component",Ne,201,12,{componentTag:"Command.Separator"});var fe=s(me,2);t(()=>i(fe,()=>sn,(de,be)=>{be(de,{children:l(Ne,(he,Re)=>{var ke=L(),Ce=u(ke);t(()=>i(Ce,()=>en,(De,Fe)=>{Fe(De,{onSelect:()=>e(z).clearFilterValue(a.column.id),class:"justify-center text-center",children:l(Ne,(Ve,we)=>{H();var Ae=K("Clear filters");n(Ve,Ae)}),$$slots:{default:!0}})}),"component",Ne,203,14,{componentTag:"Command.Item"}),n(he,ke)}),$$slots:{default:!0}})}),"component",Ne,202,12,{componentTag:"Command.Group"}),n(Ie,$e)};t(()=>pe(ge,Ie=>{e(R).size>0&&Ie(ve)}),"if",Ne,200,10)}n($,M)}),$$slots:{default:!0}})}),"component",Ne,143,8,{componentTag:"Command.List"}),n(W,q)}),$$slots:{default:!0}})}),"component",Ne,141,6,{componentTag:"Command.Root"}),n(U,_)}),$$slots:{default:!0}})}),"component",Ne,140,4,{componentTag:"Popover.Content"}),n(_e,X)}),$$slots:{default:!0}})}),"component",Ne,105,2,{componentTag:"Popover.Root"});var re=s(J,2);return t(()=>Ke(re,{variant:"outline",class:"h-8 rounded-l-none border-l-0 p-2",onclick:()=>e(z).removeFilter(a.column.id),children:l(Ne,(ne,ye)=>{t(()=>vo(ne,{}),"component",Ne,218,55,{componentTag:"X"})}),$$slots:{default:!0}}),"component",Ne,215,2,{componentTag:"Button"}),S(F),n(c,F),at({...nt()})}We[v]="src/routes/accounts/[id]/(components)/server-data-table-toolbar.svelte";var wm=h(y('<div class="absolute right-2.5 top-2.5"><div class="h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"></div></div>'),We[v],[[152,8,[[153,10]]]]),Cm=h(y("<!> Date Range <!>",1),We[v],[]),Pm=h(y('<div class="space-y-3"><h4 class="font-medium leading-none">Date Range Filter</h4> <div class="grid grid-cols-2 gap-3"><div class="space-y-2"><label for="date-from" class="text-sm font-medium">From</label> <!></div> <div class="space-y-2"><label for="date-to" class="text-sm font-medium">To</label> <!></div></div> <div class="flex justify-between"><!> <!></div></div>'),We[v],[[170,8,[[171,10],[172,10,[[173,12,[[174,14]]],[186,12,[[187,14]]]]],[200,10]]]]),Sm=h(y("<!> <!>",1),We[v],[]),Dm=h(y("<!> ",1),We[v],[]),Fm=h(y("<!> <!>",1),We[v],[]),Im=h(y("<!> <!>",1),We[v],[]),km=h(y("<!> Clear All",1),We[v],[]),Am=h(y("<!> Refresh",1),We[v],[]),Vm=h(y('<div class="flex items-center justify-between"><div class="flex flex-1 items-center space-x-2"><div class="relative max-w-sm"><!> <!> <!> <!></div> <!> <!> <!></div> <div class="flex items-center space-x-2"><!> <!></div></div> <div class="flex items-center justify-between text-sm text-muted-foreground"><div><!></div> <div> </div></div>',1),We[v],[[131,0,[[132,2,[[134,4]]],[249,2]]],[278,0,[[279,2],[290,2]]]]);function We(c,a){et(new.target),tt(a,!0,We);var d=ya(a);let r=Ye(a,"accountState",7),o=D(Ge(Pt(r().filters.searchQuery||"")),"searchValue"),g=D(Ge(!1),"dateFiltersOpen"),T=null;Ut(()=>{B(e(o),r().filters.searchQuery||"",!1)&&(T&&clearTimeout(T),T=setTimeout(()=>{r().searchTransactions(a.accountId,e(o))},300))});function m(){ie(o,"")}function G(){ie(o,""),d.mutation("accountState",["accountState","filters","searchQuery"],r().filters.searchQuery="",80,4),d.mutation("accountState",["accountState","filters","dateFrom"],r().filters.dateFrom="",81,4),d.mutation("accountState",["accountState","filters","dateTo"],r().filters.dateTo="",82,4),r().loadTransactions(a.accountId,!0)}function Q(){r().refresh(a.accountId)}const z=D(p(()=>()=>{let $=0;return r().filters.searchQuery&&$++,(r().filters.dateFrom||r().filters.dateTo)&&$++,$}),"activeFiltersCount");function ae($,V){r().setDateFilter(a.accountId,$,V),ie(g,!1)}const R=[{value:"date-desc",label:"Date (Newest first)",sortBy:"date",sortOrder:"desc"},{value:"date-asc",label:"Date (Oldest first)",sortBy:"date",sortOrder:"asc"},{value:"amount-desc",label:"Amount (Highest first)",sortBy:"amount",sortOrder:"desc"},{value:"amount-asc",label:"Amount (Lowest first)",sortBy:"amount",sortOrder:"asc"},{value:"notes-asc",label:"Description (A-Z)",sortBy:"notes",sortOrder:"asc"},{value:"notes-desc",label:"Description (Z-A)",sortBy:"notes",sortOrder:"desc"}],F=D(p(()=>()=>{const $=`${r().filters.sortBy}-${r().filters.sortOrder}`,V=R.find(M=>B(M.value,$));return V?V.value:"date-desc"}),"selectedSort");function ee($){const V=R.find(M=>B(M.value,$));V&&r().setSorting(a.accountId,V.sortBy,V.sortOrder)}var E=Vm(),J=u(E),re=A(J),ne=A(re),ye=A(ne);t(()=>Ls(ye,{class:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),"component",We,135,6,{componentTag:"Search"});var _e=s(ye,2);t(()=>Dt(_e,{placeholder:"Search transactions...",class:"pl-8 pr-8",get value(){return e(o)},set value($){ie(o,$,!0)}}),"component",We,136,6,{componentTag:"Input"});var ce=s(_e,2);{var X=$=>{t(()=>Ke($,{variant:"ghost",size:"sm",class:"absolute right-1 top-1 h-6 w-6 p-0",onclick:m,children:l(We,(V,M)=>{t(()=>vo(V,{class:"h-3 w-3"}),"component",We,148,10,{componentTag:"X"})}),$$slots:{default:!0}}),"component",We,142,8,{componentTag:"Button"})};t(()=>pe(ce,$=>{e(o)&&$(X)}),"if",We,141,6)}var te=s(ce,2);{var le=$=>{var V=wm();n($,V)};t(()=>pe(te,$=>{r().isSearching&&$(le)}),"if",We,151,6)}S(ne);var C=s(ne,2);t(()=>i(C,()=>fa,($,V)=>{V($,{get open(){return e(g)},set open(M){ie(g,M,!0)},children:l(We,(M,oe)=>{var ue=Sm(),Z=u(ue);t(()=>i(Z,()=>_a,(ge,ve)=>{ve(ge,{class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 px-3 py-2 border-dashed",children:l(We,(Ie,$e)=>{var me=Cm(),fe=u(me);t(()=>sl(fe,{class:"mr-2 h-4 w-4"}),"component",We,161,8,{componentTag:"Calendar"});var de=s(fe,2);{var be=he=>{t(()=>Xt(he,{variant:"secondary",class:"ml-2 h-4 px-1 text-xs",children:l(We,(Re,ke)=>{H();var Ce=K("Active");n(Re,Ce)}),$$slots:{default:!0}}),"component",We,164,10,{componentTag:"Badge"})};t(()=>pe(de,he=>{(r().filters.dateFrom||r().filters.dateTo)&&he(be)}),"if",We,163,8)}n(Ie,me)}),$$slots:{default:!0}})}),"component",We,160,6,{componentTag:"Popover.Trigger"});var j=s(Z,2);t(()=>i(j,()=>ha,(ge,ve)=>{ve(ge,{class:"w-auto p-3",align:"start",children:l(We,(Ie,$e)=>{var me=Pm(),fe=s(A(me),2),de=A(fe),be=s(A(de),2);{let Fe=p(()=>r().filters.dateFrom?new Date(r().filters.dateFrom).toISOString().split("T")[0]:"");t(()=>Dt(be,{id:"date-from",type:"date",get value(){return e(Fe)},onchange:Ve=>{const we=Ve.currentTarget.value,Ae=we?new Date(we).toISOString():void 0;ae(Ae,r().filters.dateTo)}}),"component",We,175,14,{componentTag:"Input"})}S(de);var he=s(de,2),Re=s(A(he),2);{let Fe=p(()=>r().filters.dateTo?new Date(r().filters.dateTo).toISOString().split("T")[0]:"");t(()=>Dt(Re,{id:"date-to",type:"date",get value(){return e(Fe)},onchange:Ve=>{const we=Ve.currentTarget.value,Ae=we?new Date(we).toISOString():void 0;ae(r().filters.dateFrom,Ae)}}),"component",We,188,14,{componentTag:"Input"})}S(he),S(fe);var ke=s(fe,2),Ce=A(ke);t(()=>Ke(Ce,{size:"sm",variant:"outline",onclick:()=>ae(void 0,void 0),children:l(We,(Fe,Ve)=>{H();var we=K("Clear");n(Fe,we)}),$$slots:{default:!0}}),"component",We,201,12,{componentTag:"Button"});var De=s(Ce,2);t(()=>Ke(De,{size:"sm",onclick:()=>ie(g,!1),children:l(We,(Fe,Ve)=>{H();var we=K("Close");n(Fe,we)}),$$slots:{default:!0}}),"component",We,208,12,{componentTag:"Button"}),S(ke),S(me),n(Ie,me)}),$$slots:{default:!0}})}),"component",We,169,6,{componentTag:"Popover.Content"}),n(M,ue)}),$$slots:{default:!0}})}),"component",We,159,4,{componentTag:"Popover.Root"});var w=s(C,2);{let $=p(()=>e(F)());t(()=>i(w,()=>Ta,(V,M)=>{M(V,{type:"single",get value(){return e($)},onValueChange:ee,children:l(We,(oe,ue)=>{var Z=Im(),j=u(Z);t(()=>i(j,()=>wa,(ve,Ie)=>{Ie(ve,{class:"h-8 w-[200px]",children:l(We,($e,me)=>{var fe=Dm(),de=u(fe);t(()=>ol(de,{class:"mr-2 h-4 w-4"}),"component",We,226,8,{componentTag:"SlidersHorizontal"});var be=s(de);xe(he=>Te(be,` ${he??""}`),[()=>R.find(he=>B(he.value,e(F)()))?.label||"Sort by..."]),n($e,fe)}),$$slots:{default:!0}})}),"component",We,225,6,{componentTag:"Select.Trigger"});var ge=s(j,2);t(()=>i(ge,()=>Ca,(ve,Ie)=>{Ie(ve,{children:l(We,($e,me)=>{var fe=L(),de=u(fe);t(()=>i(de,()=>Bo,(be,he)=>{he(be,{children:l(We,(Re,ke)=>{var Ce=Fm(),De=u(Ce);t(()=>i(De,()=>al,(Ve,we)=>{we(Ve,{children:l(We,(Ae,ze)=>{H();var Pe=K("Sort Options");n(Ae,Pe)}),$$slots:{default:!0}})}),"component",We,231,10,{componentTag:"Select.Label"});var Fe=s(De,2);t(()=>rt(Fe,17,()=>R,ut,(Ve,we)=>{var Ae=L(),ze=u(Ae);t(()=>i(ze,()=>ra,(Pe,Me)=>{Me(Pe,{get value(){return e(we).value},children:l(We,(Be,Ue)=>{H();var Ee=K();xe(()=>Te(Ee,e(we).label)),n(Be,Ee)}),$$slots:{default:!0}})}),"component",We,233,12,{componentTag:"Select.Item"}),n(Ve,Ae)}),"each",We,232,10),n(Re,Ce)}),$$slots:{default:!0}})}),"component",We,230,8,{componentTag:"Select.Group"}),n($e,fe)}),$$slots:{default:!0}})}),"component",We,229,6,{componentTag:"Select.Content"}),n(oe,Z)}),$$slots:{default:!0}})}),"component",We,220,4,{componentTag:"Select.Root"})}var U=s(w,2);{var x=$=>{t(()=>Xt($,{variant:"secondary",class:"ml-2",children:l(We,(V,M)=>{H();var oe=K();xe((ue,Z)=>Te(oe,`${ue??""} filter${Z??""} active`),[()=>e(z)(),()=>B(e(z)(),1)?"":"s"]),n(V,oe)}),$$slots:{default:!0}}),"component",We,243,6,{componentTag:"Badge"})};t(()=>pe(U,$=>{e(z)()>0&&$(x)}),"if",We,242,4)}S(re);var _=s(re,2),b=A(_);{var P=$=>{t(()=>Ke($,{variant:"ghost",size:"sm",onclick:G,class:"h-8 px-2",children:l(We,(V,M)=>{var oe=km(),ue=u(oe);t(()=>vo(ue,{class:"mr-2 h-4 w-4"}),"component",We,258,8,{componentTag:"X"}),H(),n(V,oe)}),$$slots:{default:!0}}),"component",We,252,6,{componentTag:"Button"})};t(()=>pe(b,$=>{e(z)()>0&&$(P)}),"if",We,251,4)}var f=s(b,2);{let $=p(()=>r().isLoadingSummary||r().isLoadingTransactions);t(()=>Ke(f,{variant:"outline",size:"sm",onclick:Q,class:"h-8 px-2",get disabled(){return e($)},children:l(We,(V,M)=>{var oe=Am(),ue=u(oe);{let Z=p(()=>r().isLoadingSummary||r().isLoadingTransactions?"animate-spin":"");t(()=>Os(ue,{get class(){return`mr-2 h-4 w-4 ${e(Z)??""}`}}),"component",We,271,6,{componentTag:"RotateCcw"})}H(),n(V,oe)}),$$slots:{default:!0}}),"component",We,264,4,{componentTag:"Button"})}S(_),S(J);var W=s(J,2),k=A(W),q=A(k);{var I=$=>{var V=K("Loading transactions...");n($,V)},N=$=>{var V=L(),M=u(V);{var oe=Z=>{var j=K();xe(()=>Te(j,`Found ${r().pagination.totalCount??""} transaction${B(r().pagination.totalCount,1)?"":"s"}
      matching "${r().filters.searchQuery??""}"`)),n(Z,j)},ue=Z=>{var j=K();xe(()=>Te(j,`Showing ${r().currentTransactions.length??""} of ${r().pagination.totalCount??""} transactions`)),n(Z,j)};t(()=>pe(M,Z=>{r().filters.searchQuery?Z(oe):Z(ue,!1)},!0),"if",We,282,4)}n($,V)};t(()=>pe(q,$=>{r().isLoadingTransactions?$(I):$(N,!1)}),"if",We,280,4)}S(k);var O=s(k,2),Y=A(O);return S(O),S(W),xe(()=>Te(Y,`Page ${r().pagination.page+1} of ${r().pagination.totalPages||1}`)),n(c,E),at({...nt()})}wt[v]="src/routes/accounts/[id]/(components)/server-data-table-pagination.svelte";var Rm=h(y("<!> <!>",1),wt[v],[]),Mm=h(y('<span class="sr-only">Go to first page</span> <!>',1),wt[v],[[142,10]]),Lm=h(y('<span class="sr-only">Go to previous page</span> <!>',1),wt[v],[[153,10]]),Om=h(y('<span class="sr-only">Go to next page</span> <!>',1),wt[v],[[164,10]]),zm=h(y('<span class="sr-only">Go to last page</span> <!>',1),wt[v],[[175,10]]),Em=h(y('<div class="flex items-center justify-center space-x-2 py-2"><div class="h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"></div> <span class="text-sm text-muted-foreground">Loading transactions...</span></div>'),wt[v],[[185,2,[[186,4],[187,4]]]]),Nm=h(y('<div class="flex items-center justify-between px-2"><div class="flex-1 text-sm text-muted-foreground"><!></div> <div class="flex items-center space-x-6 lg:space-x-8"><div class="flex items-center space-x-2"><p class="text-sm font-medium">Rows per page</p> <!></div> <div class="flex items-center space-x-2"><div class="flex w-[100px] items-center justify-center text-sm font-medium"> </div> <div class="flex items-center space-x-2"><!> <!> <!> <!></div></div></div></div> <!>',1),wt[v],[[94,0,[[96,2],[105,2,[[107,4,[[108,6]]],[128,4,[[129,6],[134,6]]]]]]]]);function wt(c,a){et(new.target),tt(a,!0,wt);const d=[{value:"10",label:"10 per page"},{value:"25",label:"25 per page"},{value:"50",label:"50 per page"},{value:"100",label:"100 per page"}];function r(x){const _=parseInt(x);!isNaN(_)&&_>0&&a.accountState.setPageSize(a.accountId,_)}function o(){a.accountState.goToPage(a.accountId,0)}function g(){a.accountState.goToPage(a.accountId,a.accountState.pagination.totalPages-1)}function T(){a.accountState.previousPage(a.accountId)}function m(){a.accountState.nextPage(a.accountId)}const G=D(p(()=>()=>{const{page:x,pageSize:_,totalCount:b}=a.accountState.pagination,P=x*_+1,f=Math.min((x+1)*_,b);return{start:P,end:f}}),"currentRange");var Q=Nm(),z=u(Q),ae=A(z),R=A(ae);{var F=x=>{var _=K("No transactions");n(x,_)},ee=x=>{var _=K();xe((b,P)=>Te(_,`Showing ${b??""} to ${P??""} of ${a.accountState.pagination.totalCount??""} transactions`),[()=>e(G)().start,()=>e(G)().end]),n(x,_)};t(()=>pe(R,x=>{B(a.accountState.pagination.totalCount,0)?x(F):x(ee,!1)}),"if",wt,97,4)}S(ae);var E=s(ae,2),J=A(E),re=s(A(J),2);{let x=p(()=>a.accountState.pagination.pageSize.toString());t(()=>i(re,()=>Ta,(_,b)=>{b(_,{type:"single",get value(){return e(x)},onValueChange:r,children:l(wt,(P,f)=>{var W=Rm(),k=u(W);t(()=>i(k,()=>wa,(I,N)=>{N(I,{class:"h-8 w-[130px]",children:l(wt,(O,Y)=>{H();var $=K();xe(()=>Te($,`${a.accountState.pagination.pageSize??""} per page`)),n(O,$)}),$$slots:{default:!0}})}),"component",wt,114,8,{componentTag:"Select.Trigger"});var q=s(k,2);t(()=>i(q,()=>Ca,(I,N)=>{N(I,{side:"top",children:l(wt,(O,Y)=>{var $=L(),V=u($);t(()=>rt(V,17,()=>d,ut,(M,oe)=>{var ue=L(),Z=u(ue);t(()=>i(Z,()=>ra,(j,ge)=>{ge(j,{get value(){return e(oe).value},children:l(wt,(ve,Ie)=>{H();var $e=K();xe(()=>Te($e,e(oe).label)),n(ve,$e)}),$$slots:{default:!0}})}),"component",wt,119,12,{componentTag:"Select.Item"}),n(M,ue)}),"each",wt,118,10),n(O,$)}),$$slots:{default:!0}})}),"component",wt,117,8,{componentTag:"Select.Content"}),n(P,W)}),$$slots:{default:!0}})}),"component",wt,109,6,{componentTag:"Select.Root"})}S(J);var ne=s(J,2),ye=A(ne),_e=A(ye);S(ye);var ce=s(ye,2),X=A(ce);{let x=p(()=>!a.accountState.pagination.hasPreviousPage||a.accountState.isLoadingTransactions);t(()=>Ke(X,{variant:"outline",size:"sm",class:"hidden h-8 w-8 p-0 lg:flex",onclick:o,get disabled(){return e(x)},children:l(wt,(_,b)=>{var P=Mm(),f=s(u(P),2);t(()=>il(f,{class:"h-4 w-4"}),"component",wt,143,10,{componentTag:"ChevronsLeft"}),n(_,P)}),$$slots:{default:!0}}),"component",wt,135,8,{componentTag:"Button"})}var te=s(X,2);{let x=p(()=>!a.accountState.pagination.hasPreviousPage||a.accountState.isLoadingTransactions);t(()=>Ke(te,{variant:"outline",size:"sm",class:"h-8 w-8 p-0",onclick:T,get disabled(){return e(x)},children:l(wt,(_,b)=>{var P=Lm(),f=s(u(P),2);t(()=>ir(f,{class:"h-4 w-4"}),"component",wt,154,10,{componentTag:"ChevronLeft"}),n(_,P)}),$$slots:{default:!0}}),"component",wt,146,8,{componentTag:"Button"})}var le=s(te,2);{let x=p(()=>!a.accountState.pagination.hasNextPage||a.accountState.isLoadingTransactions);t(()=>Ke(le,{variant:"outline",size:"sm",class:"h-8 w-8 p-0",onclick:m,get disabled(){return e(x)},children:l(wt,(_,b)=>{var P=Om(),f=s(u(P),2);t(()=>cr(f,{class:"h-4 w-4"}),"component",wt,165,10,{componentTag:"ChevronRight"}),n(_,P)}),$$slots:{default:!0}}),"component",wt,157,8,{componentTag:"Button"})}var C=s(le,2);{let x=p(()=>!a.accountState.pagination.hasNextPage||a.accountState.isLoadingTransactions);t(()=>Ke(C,{variant:"outline",size:"sm",class:"hidden h-8 w-8 p-0 lg:flex",onclick:g,get disabled(){return e(x)},children:l(wt,(_,b)=>{var P=zm(),f=s(u(P),2);t(()=>cl(f,{class:"h-4 w-4"}),"component",wt,176,10,{componentTag:"ChevronsRight"}),n(_,P)}),$$slots:{default:!0}}),"component",wt,168,8,{componentTag:"Button"})}S(ce),S(ne),S(E),S(z);var w=s(z,2);{var U=x=>{var _=Em();n(x,_)};t(()=>pe(w,x=>{a.accountState.isLoadingTransactions&&x(U)}),"if",wt,184,0)}return xe(x=>Te(_e,`Page ${a.accountState.pagination.page+1} of ${x??""}`),[()=>Math.max(1,a.accountState.pagination.totalPages)]),n(c,Q),at({...nt()})}je[v]="src/routes/accounts/[id]/(components)/add-transaction-dialog.svelte";var Bm=h(y("<!> <!>",1),je[v],[]),qm=h(y("<!> <!>",1),je[v],[]),jm=h(y("<!> <!>",1),je[v],[]),Hm=h(y("<!> <!>",1),je[v],[]),Gm=h(y("<!> <!>",1),je[v],[]),Um=h(y("<!> <!> <!>",1),je[v],[]),Qm=h(y("<!> <!>",1),je[v],[]),Wm=h(y("<!> <!>",1),je[v],[]),Ym=h(y('<!> <div class="space-y-4 py-4"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div></div> <!>',1),je[v],[[93,4,[[95,6],[107,6],[117,6],[139,6],[161,6],[184,6]]]]);function je(c,a){et(new.target),tt(a,!0,je);var d=ya(a);let r=Ye(a,"open",15,!1),o=Ye(a,"payees",19,()=>[]),g=Ye(a,"categories",19,()=>[]),T=D(Ge(!1),"isSubmitting"),m=D(Ge(Pt({amount:0,date:fn(ma()).toString(),notes:null,payeeId:null,categoryId:null,status:"cleared"})),"transactionForm");function G(){ie(m,{amount:0,date:fn(ma()).toString(),notes:null,payeeId:null,categoryId:null,status:"cleared"},!0)}async function Q(){if(!(!a.account?.id||!e(m).amount))try{ie(T,!0),(await tr(a.onSubmit(e(m))))(),G(),r(!1)}catch(F){console.error(...La("error","Transaction submission failed:",F))}finally{ie(T,!1)}}function z(){e(T)||(r(!1),G())}var ae=L(),R=u(ae);return t(()=>i(R,()=>nr,(F,ee)=>{d.binding("open",ee,r),ee(F,{get open(){return r()},set open(E){r(E)},children:l(je,(E,J)=>{var re=L(),ne=u(re);t(()=>i(ne,()=>or,(ye,_e)=>{_e(ye,{class:"max-w-md",children:l(je,(ce,X)=>{var te=Ym(),le=u(te);t(()=>i(le,()=>rr,(Z,j)=>{j(Z,{children:l(je,(ge,ve)=>{var Ie=Bm(),$e=u(Ie);t(()=>i($e,()=>lr,(fe,de)=>{de(fe,{children:l(je,(be,he)=>{H();var Re=K("Add New Transaction");n(be,Re)}),$$slots:{default:!0}})}),"component",je,87,6,{componentTag:"Dialog.Title"});var me=s($e,2);t(()=>i(me,()=>sr,(fe,de)=>{de(fe,{children:l(je,(be,he)=>{H();var Re=K();xe(()=>Te(Re,`Create a new transaction for ${(a.account?.name||"this account")??""}.`)),n(be,Re)}),$$slots:{default:!0}})}),"component",je,88,6,{componentTag:"Dialog.Description"}),n(ge,Ie)}),$$slots:{default:!0}})}),"component",je,86,4,{componentTag:"Dialog.Header"});var C=s(le,2),w=A(C),U=A(w);t(()=>It(U,{for:"amount",children:l(je,(Z,j)=>{H();var ge=K("Amount");n(Z,ge)}),$$slots:{default:!0}}),"component",je,96,8,{componentTag:"Label"});var x=s(U,2);Ht("bind:value={transactionForm.amount}",()=>e(m),()=>"amount",102,10),t(()=>Dt(x,{id:"amount",type:"number",step:"0.01",placeholder:"0.00",get value(){return e(m).amount},set value(Z){e(m).amount=Z}}),"component",je,97,8,{componentTag:"Input"}),S(w);var _=s(w,2),b=A(_);t(()=>It(b,{for:"date",children:l(je,(Z,j)=>{H();var ge=K("Date");n(Z,ge)}),$$slots:{default:!0}}),"component",je,108,8,{componentTag:"Label"});var P=s(b,2);Ht("bind:value={transactionForm.date}",()=>e(m),()=>"date",112,10),t(()=>Dt(P,{id:"date",type:"date",get value(){return e(m).date},set value(Z){e(m).date=Z}}),"component",je,109,8,{componentTag:"Input"}),S(_);var f=s(_,2),W=A(f);t(()=>It(W,{for:"payee",children:l(je,(Z,j)=>{H();var ge=K("Payee");n(Z,ge)}),$$slots:{default:!0}}),"component",je,118,8,{componentTag:"Label"});var k=s(W,2);{let Z=p(()=>e(m).payeeId?.toString()??void 0);t(()=>i(k,()=>Ta,(j,ge)=>{ge(j,{type:"single",get value(){return e(Z)},onValueChange:ve=>{e(m).payeeId=ve?parseInt(ve):null},children:l(je,(ve,Ie)=>{var $e=jm(),me=u($e);t(()=>i(me,()=>wa,(de,be)=>{be(de,{children:l(je,(he,Re)=>{H();var ke=K();xe(Ce=>Te(ke,Ce),[()=>o().find(Ce=>B(Ce.id,e(m).payeeId))?.name||"Select payee (optional)"]),n(he,ke)}),$$slots:{default:!0}})}),"component",je,126,10,{componentTag:"Select.Trigger"});var fe=s(me,2);t(()=>i(fe,()=>Ca,(de,be)=>{be(de,{children:l(je,(he,Re)=>{var ke=qm(),Ce=u(ke);t(()=>i(Ce,()=>ra,(Fe,Ve)=>{Ve(Fe,{value:"",children:l(je,(we,Ae)=>{H();var ze=K("No payee");n(we,ze)}),$$slots:{default:!0}})}),"component",je,130,12,{componentTag:"Select.Item"});var De=s(Ce,2);t(()=>rt(De,17,o,ut,(Fe,Ve)=>{var we=L(),Ae=u(we);{let ze=p(()=>e(Ve).id.toString());t(()=>i(Ae,()=>ra,(Pe,Me)=>{Me(Pe,{get value(){return e(ze)},children:l(je,(Be,Ue)=>{H();var Ee=K();xe(()=>Te(Ee,e(Ve).name)),n(Be,Ee)}),$$slots:{default:!0}})}),"component",je,132,14,{componentTag:"Select.Item"})}n(Fe,we)}),"each",je,131,12),n(he,ke)}),$$slots:{default:!0}})}),"component",je,129,10,{componentTag:"Select.Content"}),n(ve,$e)}),$$slots:{default:!0}})}),"component",je,119,8,{componentTag:"Select.Root"})}S(f);var q=s(f,2),I=A(q);t(()=>It(I,{for:"category",children:l(je,(Z,j)=>{H();var ge=K("Category");n(Z,ge)}),$$slots:{default:!0}}),"component",je,140,8,{componentTag:"Label"});var N=s(I,2);{let Z=p(()=>e(m).categoryId?.toString()??void 0);t(()=>i(N,()=>Ta,(j,ge)=>{ge(j,{type:"single",get value(){return e(Z)},onValueChange:ve=>{e(m).categoryId=ve?parseInt(ve):null},children:l(je,(ve,Ie)=>{var $e=Gm(),me=u($e);t(()=>i(me,()=>wa,(de,be)=>{be(de,{children:l(je,(he,Re)=>{H();var ke=K();xe(Ce=>Te(ke,Ce),[()=>g().find(Ce=>B(Ce.id,e(m).categoryId))?.name||"Select category (optional)"]),n(he,ke)}),$$slots:{default:!0}})}),"component",je,148,10,{componentTag:"Select.Trigger"});var fe=s(me,2);t(()=>i(fe,()=>Ca,(de,be)=>{be(de,{children:l(je,(he,Re)=>{var ke=Hm(),Ce=u(ke);t(()=>i(Ce,()=>ra,(Fe,Ve)=>{Ve(Fe,{value:"",children:l(je,(we,Ae)=>{H();var ze=K("No category");n(we,ze)}),$$slots:{default:!0}})}),"component",je,152,12,{componentTag:"Select.Item"});var De=s(Ce,2);t(()=>rt(De,17,g,ut,(Fe,Ve)=>{var we=L(),Ae=u(we);{let ze=p(()=>e(Ve).id.toString());t(()=>i(Ae,()=>ra,(Pe,Me)=>{Me(Pe,{get value(){return e(ze)},children:l(je,(Be,Ue)=>{H();var Ee=K();xe(()=>Te(Ee,e(Ve).name)),n(Be,Ee)}),$$slots:{default:!0}})}),"component",je,154,14,{componentTag:"Select.Item"})}n(Fe,we)}),"each",je,153,12),n(he,ke)}),$$slots:{default:!0}})}),"component",je,151,10,{componentTag:"Select.Content"}),n(ve,$e)}),$$slots:{default:!0}})}),"component",je,141,8,{componentTag:"Select.Root"})}S(q);var O=s(q,2),Y=A(O);t(()=>It(Y,{for:"status",children:l(je,(Z,j)=>{H();var ge=K("Status");n(Z,ge)}),$$slots:{default:!0}}),"component",je,162,8,{componentTag:"Label"});var $=s(Y,2);t(()=>i($,()=>Ta,(Z,j)=>{j(Z,{type:"single",get value(){return e(m).status},onValueChange:ge=>{ge&&(e(m).status=ge)},children:l(je,(ge,ve)=>{var Ie=Qm(),$e=u(Ie);t(()=>i($e,()=>wa,(fe,de)=>{de(fe,{children:l(je,(be,he)=>{H();var Re=K();xe(()=>Te(Re,e(m).status||"Select status")),n(be,Re)}),$$slots:{default:!0}})}),"component",je,172,10,{componentTag:"Select.Trigger"});var me=s($e,2);t(()=>i(me,()=>Ca,(fe,de)=>{de(fe,{children:l(je,(be,he)=>{var Re=Um(),ke=u(Re);t(()=>i(ke,()=>ra,(Fe,Ve)=>{Ve(Fe,{value:"pending",children:l(je,(we,Ae)=>{H();var ze=K("Pending");n(we,ze)}),$$slots:{default:!0}})}),"component",je,176,12,{componentTag:"Select.Item"});var Ce=s(ke,2);t(()=>i(Ce,()=>ra,(Fe,Ve)=>{Ve(Fe,{value:"cleared",children:l(je,(we,Ae)=>{H();var ze=K("Cleared");n(we,ze)}),$$slots:{default:!0}})}),"component",je,177,12,{componentTag:"Select.Item"});var De=s(Ce,2);t(()=>i(De,()=>ra,(Fe,Ve)=>{Ve(Fe,{value:"scheduled",children:l(je,(we,Ae)=>{H();var ze=K("Scheduled");n(we,ze)}),$$slots:{default:!0}})}),"component",je,178,12,{componentTag:"Select.Item"}),n(be,Re)}),$$slots:{default:!0}})}),"component",je,175,10,{componentTag:"Select.Content"}),n(ge,Ie)}),$$slots:{default:!0}})}),"component",je,163,8,{componentTag:"Select.Root"}),S(O);var V=s(O,2),M=A(V);t(()=>It(M,{for:"notes",children:l(je,(Z,j)=>{H();var ge=K("Notes");n(Z,ge)}),$$slots:{default:!0}}),"component",je,185,8,{componentTag:"Label"});var oe=s(M,2);Ht("bind:value={transactionForm.notes}",()=>e(m),()=>"notes",189,10),t(()=>_n(oe,{id:"notes",placeholder:"Transaction notes (optional)",rows:3,get value(){return e(m).notes},set value(Z){e(m).notes=Z}}),"component",je,186,8,{componentTag:"Textarea"}),S(V),S(C);var ue=s(C,2);t(()=>i(ue,()=>us,(Z,j)=>{j(Z,{children:l(je,(ge,ve)=>{var Ie=Wm(),$e=u(Ie);t(()=>Ke($e,{variant:"outline",onclick:z,get disabled(){return e(T)},children:l(je,(fe,de)=>{H();var be=K("Cancel");n(fe,be)}),$$slots:{default:!0}}),"component",je,196,6,{componentTag:"Button"});var me=s($e,2);{let fe=p(()=>e(T)||!e(m).amount);t(()=>Ke(me,{onclick:Q,get disabled(){return e(fe)},children:l(je,(de,be)=>{H();var he=K();xe(()=>Te(he,e(T)?"Adding...":"Add Transaction")),n(de,he)}),$$slots:{default:!0}}),"component",je,203,6,{componentTag:"Button"})}n(ge,Ie)}),$$slots:{default:!0}})}),"component",je,195,4,{componentTag:"Dialog.Footer"}),n(ce,te)}),$$slots:{default:!0}})}),"component",je,85,2,{componentTag:"Dialog.Content"}),n(E,re)}),$$slots:{default:!0}})}),"component",je,84,0,{componentTag:"Dialog.Root"}),n(c,ae),at({...nt()})}Wa[v]="src/routes/accounts/[id]/(components)/transaction-skeleton.svelte";var Km=h(y('<tr class="border-b transition-colors hover:bg-muted/50"><td class="p-4 align-middle"><div class="h-4 w-20 bg-muted animate-pulse rounded"></div></td><td class="p-4 align-middle"><div class="h-4 w-16 bg-muted animate-pulse rounded"></div></td><td class="p-4 align-middle"><div class="h-4 w-24 bg-muted animate-pulse rounded"></div></td><td class="p-4 align-middle"><div class="h-4 w-32 bg-muted animate-pulse rounded"></div></td><td class="p-4 align-middle"><div class="h-4 w-16 bg-muted animate-pulse rounded"></div></td></tr>'),Wa[v],[[30,10,[[31,12,[[32,14]]],[34,12,[[35,14]]],[37,12,[[38,14]]],[40,12,[[41,14]]],[43,12,[[44,14]]]]]]),Xm=h(y('<div class="rounded-md border"><div class="overflow-hidden"><table class="w-full"><thead><tr class="border-b bg-muted/50"><th class="h-12 px-4 text-left align-middle font-medium"><div class="h-4 w-16 bg-muted animate-pulse rounded"></div></th><th class="h-12 px-4 text-left align-middle font-medium"><div class="h-4 w-20 bg-muted animate-pulse rounded"></div></th><th class="h-12 px-4 text-left align-middle font-medium"><div class="h-4 w-16 bg-muted animate-pulse rounded"></div></th><th class="h-12 px-4 text-left align-middle font-medium"><div class="h-4 w-24 bg-muted animate-pulse rounded"></div></th><th class="h-12 px-4 text-left align-middle font-medium"><div class="h-4 w-20 bg-muted animate-pulse rounded"></div></th></tr></thead><tbody></tbody></table></div></div>'),Wa[v],[[6,0,[[7,2,[[8,4,[[9,6,[[10,8,[[11,10,[[12,12]]],[14,10,[[15,12]]],[17,10,[[18,12]]],[20,10,[[21,12]]],[23,10,[[24,12]]]]]]],[28,6]]]]]]]]);function Wa(c,a){et(new.target),tt(a,!0,Wa);let d=Ye(a,"rows",3,5);var r=Xm(),o=A(r),g=A(o),T=s(A(g));return t(()=>rt(T,21,()=>Array(d()),ut,(m,G,Q)=>{var z=Km(),ae=A(z),R=A(ae);Za(R,`animation-delay: ${Q*50}ms`),S(ae);var F=s(ae),ee=A(F);Za(ee,`animation-delay: ${Q*50+25}ms`),S(F);var E=s(F),J=A(E);Za(J,`animation-delay: ${Q*50+50}ms`),S(E);var re=s(E),ne=A(re);Za(ne,`animation-delay: ${Q*50+75}ms`),S(re);var ye=s(re),_e=A(ye);Za(_e,`animation-delay: ${Q*50+100}ms`),S(ye),S(z),n(m,z)}),"each",Wa,29,8),S(T),S(g),S(o),S(r),n(c,r),at({...nt()})}Se[v]="src/routes/accounts/[id]/(components)/transaction-table-container.svelte";var Zm=h(y('<div class="flex items-center space-x-4"><div class="flex-1"><!></div> <!></div>'),Se[v],[[100,10,[[101,12]]]]),Jm=h(y("<!> <!> <!> <!> <!> <!>",1),Se[v],[]),ev=h(y("<span> </span>"),Se[v],[[141,22]]),tv=h(y("<!> <!> <!> <!> <!> <!>",1),Se[v],[]),av=h(y("<!> <!>",1),Se[v],[]),nv=h(y('<div class="rounded-md border"><!></div>'),Se[v],[[118,10]]),ov=h(y('<div class="bg-red-100 p-4 mb-4 text-red-800"> </div> <div class="space-y-4"><!> <!></div>',1),Se[v],[[88,6],[91,6]]),rv=h(y("<!> <!> <!> <!> <!> <!>",1),Se[v],[]),lv=h(y("<span> </span>"),Se[v],[[206,20]]),sv=h(y("<!> <!> <!> <!> <!> <!>",1),Se[v],[]),iv=h(y("<!> <!>",1),Se[v],[]),cv=h(y('<div class="rounded-md border"><!></div>'),Se[v],[[183,8]]),dv=h(y("<!> Previous",1),Se[v],[]),uv=h(y("Next <!>",1),Se[v],[]),mv=h(y('<div class="flex items-center justify-between"><div class="text-sm text-muted-foreground"> </div> <div class="flex items-center space-x-2"><!> <div class="flex items-center space-x-1"><span class="text-sm"> </span></div> <!></div></div>'),Se[v],[[234,8,[[235,10],[238,10,[[251,12,[[252,14]]]]]]]]),vv=h(y('<div class="space-y-4"><div class="flex items-center space-x-4"><div class="flex-1"><!></div> <!></div> <!> <!></div>'),Se[v],[[164,4,[[166,6,[[167,8]]]]]]);function Se(c,a){et(new.target),tt(a,!0,Se);var d=ya(a);let r=Ye(a,"isLoading",3,!1),o=Ye(a,"useClientSideTable",3,!1),g=Ye(a,"transactions",19,()=>[]),T=Ye(a,"filters",31,()=>Fn(Pt({searchQuery:"",dateFrom:null,dateTo:null,sortBy:"date",sortOrder:"desc"}),"filters")),m=Ye(a,"pagination",31,()=>Fn(Pt({page:0,pageSize:50,totalCount:0,totalPages:0}),"pagination")),G=Ye(a,"table",15),Q=Ye(a,"serverAccountState",3,null),z=Ye(a,"categoriesState",3,null),ae=Ye(a,"payeesState",3,null),R=Ye(a,"views",19,()=>[]);var F=L(),ee=u(F);{var E=re=>{t(()=>Wa(re,{rows:10}),"component",Se,74,2,{componentTag:"TransactionSkeleton"})},J=re=>{var ne=L(),ye=u(ne);{var _e=X=>{var te=L(),le=u(te);{var C=U=>{{let x=p(()=>a.columns(z(),ae(),a.updateTransactionData));d.binding("table",pt,G),t(()=>pt(U,{get columns(){return e(x)},get transactions(){return a.formattedTransactions},get views(){return R()},get table(){return G()},set table(_){G(_)}}),"component",Se,80,6,{componentTag:"DataTable"})}},w=U=>{var x=ov(),_=u(x),b=A(_);S(_);var P=s(_,2),f=A(P);{var W=O=>{t(()=>We(O,{get accountState(){return Q()},get accountId(){return a.accountId}}),"component",Se,94,10,{componentTag:"ServerDataTableToolbar"})},k=O=>{var Y=Zm(),$=A(Y),V=A($);Ht("bind:value={filters.searchQuery}",T,()=>"searchQuery",103,16),d.binding("filters",Dt,()=>T().searchQuery),t(()=>Dt(V,{placeholder:"Search transactions (fallback filtering)...",onchange:()=>a.searchTransactions?.(T().searchQuery),get value(){return T().searchQuery},set value(oe){d.mutation("filters",["filters","searchQuery"],T(T().searchQuery=oe,!0),103,28)}}),"component",Se,102,14,{componentTag:"Input"}),S($);var M=s($,2);t(()=>Ke(M,{onclick:()=>a.loadData?.(),variant:"outline",children:l(Se,(oe,ue)=>{H();var Z=K("Refresh");n(oe,Z)}),$$slots:{default:!0}}),"component",Se,108,12,{componentTag:"Button"}),S(Y),n(O,Y)};t(()=>pe(f,O=>{Q()?O(W):O(k,!1)}),"if",Se,93,8)}var q=s(f,2);{var I=O=>{t(()=>Wa(O,{rows:8}),"component",Se,116,10,{componentTag:"TransactionSkeleton"})},N=O=>{var Y=nv(),$=A(Y);t(()=>i($,()=>Wo,(V,M)=>{M(V,{children:l(Se,(oe,ue)=>{var Z=av(),j=u(Z);t(()=>i(j,()=>Yo,(ve,Ie)=>{Ie(ve,{children:l(Se,($e,me)=>{var fe=L(),de=u(fe);t(()=>i(de,()=>Va,(be,he)=>{he(be,{children:l(Se,(Re,ke)=>{var Ce=Jm(),De=u(Ce);t(()=>i(De,()=>pa,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K("Date");n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,122,18,{componentTag:"Table.Head"});var Fe=s(De,2);t(()=>i(Fe,()=>pa,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K("Amount");n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,123,18,{componentTag:"Table.Head"});var Ve=s(Fe,2);t(()=>i(Ve,()=>pa,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K("Description");n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,124,18,{componentTag:"Table.Head"});var we=s(Ve,2);t(()=>i(we,()=>pa,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K("Payee");n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,125,18,{componentTag:"Table.Head"});var Ae=s(we,2);t(()=>i(Ae,()=>pa,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K("Category");n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,126,18,{componentTag:"Table.Head"});var ze=s(Ae,2);t(()=>i(ze,()=>pa,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K("Status");n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,127,18,{componentTag:"Table.Head"}),n(Re,Ce)}),$$slots:{default:!0}})}),"component",Se,121,16,{componentTag:"Table.Row"}),n($e,fe)}),$$slots:{default:!0}})}),"component",Se,120,14,{componentTag:"Table.Header"});var ge=s(j,2);t(()=>i(ge,()=>Ko,(ve,Ie)=>{Ie(ve,{children:l(Se,($e,me)=>{var fe=L(),de=u(fe);t(()=>rt(de,17,()=>a.simpleFormatted,ut,(be,he)=>{var Re=L(),ke=u(Re);t(()=>i(ke,()=>Va,(Ce,De)=>{De(Ce,{children:l(Se,(Fe,Ve)=>{var we=tv(),Ae=u(we);t(()=>i(Ae,()=>Yt,(Ee,Ze)=>{Ze(Ee,{children:l(Se,(ot,_t)=>{H();var ct=K();xe(bt=>Te(ct,bt),[()=>new Date(e(he).date.toString()).toLocaleDateString()]),n(ot,ct)}),$$slots:{default:!0}})}),"component",Se,133,20,{componentTag:"Table.Cell"});var ze=s(Ae,2);t(()=>i(ze,()=>Yt,(Ee,Ze)=>{Ze(Ee,{class:"font-mono",children:l(Se,(ot,_t)=>{H();var ct=K();xe(bt=>Te(ct,`$${bt??""}`),[()=>e(he).amount?.toFixed(2)||"0.00"]),n(ot,ct)}),$$slots:{default:!0}})}),"component",Se,134,20,{componentTag:"Table.Cell"});var Pe=s(ze,2);t(()=>i(Pe,()=>Yt,(Ee,Ze)=>{Ze(Ee,{children:l(Se,(ot,_t)=>{H();var ct=K();xe(()=>Te(ct,e(he).notes||"-")),n(ot,ct)}),$$slots:{default:!0}})}),"component",Se,137,20,{componentTag:"Table.Cell"});var Me=s(Pe,2);t(()=>i(Me,()=>Yt,(Ee,Ze)=>{Ze(Ee,{children:l(Se,(ot,_t)=>{H();var ct=K();xe(()=>Te(ct,e(he).payee?.name||"-")),n(ot,ct)}),$$slots:{default:!0}})}),"component",Se,138,20,{componentTag:"Table.Cell"});var Be=s(Me,2);t(()=>i(Be,()=>Yt,(Ee,Ze)=>{Ze(Ee,{children:l(Se,(ot,_t)=>{H();var ct=K();xe(()=>Te(ct,e(he).category?.name||"-")),n(ot,ct)}),$$slots:{default:!0}})}),"component",Se,139,20,{componentTag:"Table.Cell"});var Ue=s(Be,2);t(()=>i(Ue,()=>Yt,(Ee,Ze)=>{Ze(Ee,{children:l(Se,(ot,_t)=>{var ct=ev(),bt=A(ct,!0);S(ct),xe(()=>{Oa(ct,1,`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium
                        ${B(e(he).status,"cleared")?"bg-green-100 text-green-800":B(e(he).status,"pending")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`),Te(bt,e(he).status||"pending")}),n(ot,ct)}),$$slots:{default:!0}})}),"component",Se,140,20,{componentTag:"Table.Cell"}),n(Fe,we)}),$$slots:{default:!0}})}),"component",Se,132,18,{componentTag:"Table.Row"}),n(be,Re)},be=>{var he=L(),Re=u(he);t(()=>i(Re,()=>Va,(ke,Ce)=>{Ce(ke,{children:l(Se,(De,Fe)=>{var Ve=L(),we=u(Ve);t(()=>i(we,()=>Yt,(Ae,ze)=>{ze(Ae,{colspan:6,class:"text-center text-muted-foreground py-8",children:l(Se,(Pe,Me)=>{H();var Be=K("No transactions found");n(Pe,Be)}),$$slots:{default:!0}})}),"component",Se,151,20,{componentTag:"Table.Cell"}),n(De,Ve)}),$$slots:{default:!0}})}),"component",Se,150,18,{componentTag:"Table.Row"}),n(be,he)}),"each",Se,131,16),n($e,fe)}),$$slots:{default:!0}})}),"component",Se,130,14,{componentTag:"Table.Body"}),n(oe,Z)}),$$slots:{default:!0}})}),"component",Se,119,12,{componentTag:"Table.Root"}),S(Y),n(O,Y)};t(()=>pe(q,O=>{Q()?.isLoadingTransactions?O(I):O(N,!1)}),"if",Se,115,8)}S(P),xe(()=>Te(b,`DEBUG: browser=${wr}, categoriesState=${!!z()}, payeesState=${!!ae()}, isLoading=${r()??""}, transactions.length=${g().length??""}`)),n(U,x)};t(()=>pe(le,U=>{wr&&z()&&ae()&&!r()&&g().length>0?U(C):U(w,!1)}),"if",Se,78,4)}n(X,te)},ce=X=>{var te=vv(),le=A(te),C=A(le),w=A(C);Ht("bind:value={filters.searchQuery}",T,()=>"searchQuery",169,12),d.binding("filters",Dt,()=>T().searchQuery),t(()=>Dt(w,{placeholder:"Search transactions...",onchange:()=>a.searchTransactions?.(T().searchQuery),get value(){return T().searchQuery},set value(k){d.mutation("filters",["filters","searchQuery"],T(T().searchQuery=k,!0),169,24)}}),"component",Se,168,10,{componentTag:"Input"}),S(C);var U=s(C,2);t(()=>Ke(U,{onclick:()=>a.loadData?.(),variant:"outline",children:l(Se,(k,q)=>{H();var I=K("Refresh");n(k,I)}),$$slots:{default:!0}}),"component",Se,174,8,{componentTag:"Button"}),S(le);var x=s(le,2);{var _=k=>{t(()=>Wa(k,{get rows(){return m().pageSize}}),"component",Se,181,8,{componentTag:"TransactionSkeleton"})},b=k=>{var q=cv(),I=A(q);t(()=>i(I,()=>Wo,(N,O)=>{O(N,{children:l(Se,(Y,$)=>{var V=iv(),M=u(V);t(()=>i(M,()=>Yo,(ue,Z)=>{Z(ue,{children:l(Se,(j,ge)=>{var ve=L(),Ie=u(ve);t(()=>i(Ie,()=>Va,($e,me)=>{me($e,{children:l(Se,(fe,de)=>{var be=rv(),he=u(be);t(()=>i(he,()=>pa,(Ve,we)=>{we(Ve,{children:l(Se,(Ae,ze)=>{H();var Pe=K("Date");n(Ae,Pe)}),$$slots:{default:!0}})}),"component",Se,187,16,{componentTag:"Table.Head"});var Re=s(he,2);t(()=>i(Re,()=>pa,(Ve,we)=>{we(Ve,{children:l(Se,(Ae,ze)=>{H();var Pe=K("Amount");n(Ae,Pe)}),$$slots:{default:!0}})}),"component",Se,188,16,{componentTag:"Table.Head"});var ke=s(Re,2);t(()=>i(ke,()=>pa,(Ve,we)=>{we(Ve,{children:l(Se,(Ae,ze)=>{H();var Pe=K("Description");n(Ae,Pe)}),$$slots:{default:!0}})}),"component",Se,189,16,{componentTag:"Table.Head"});var Ce=s(ke,2);t(()=>i(Ce,()=>pa,(Ve,we)=>{we(Ve,{children:l(Se,(Ae,ze)=>{H();var Pe=K("Payee");n(Ae,Pe)}),$$slots:{default:!0}})}),"component",Se,190,16,{componentTag:"Table.Head"});var De=s(Ce,2);t(()=>i(De,()=>pa,(Ve,we)=>{we(Ve,{children:l(Se,(Ae,ze)=>{H();var Pe=K("Category");n(Ae,Pe)}),$$slots:{default:!0}})}),"component",Se,191,16,{componentTag:"Table.Head"});var Fe=s(De,2);t(()=>i(Fe,()=>pa,(Ve,we)=>{we(Ve,{children:l(Se,(Ae,ze)=>{H();var Pe=K("Status");n(Ae,Pe)}),$$slots:{default:!0}})}),"component",Se,192,16,{componentTag:"Table.Head"}),n(fe,be)}),$$slots:{default:!0}})}),"component",Se,186,14,{componentTag:"Table.Row"}),n(j,ve)}),$$slots:{default:!0}})}),"component",Se,185,12,{componentTag:"Table.Header"});var oe=s(M,2);t(()=>i(oe,()=>Ko,(ue,Z)=>{Z(ue,{children:l(Se,(j,ge)=>{var ve=L(),Ie=u(ve);t(()=>rt(Ie,17,()=>a.simpleFormatted,ut,($e,me)=>{var fe=L(),de=u(fe);t(()=>i(de,()=>Va,(be,he)=>{he(be,{children:l(Se,(Re,ke)=>{var Ce=sv(),De=u(Ce);t(()=>i(De,()=>Yt,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K();xe(Ze=>Te(Ee,Ze),[()=>new Date(e(me).date.toString()).toLocaleDateString()]),n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,198,18,{componentTag:"Table.Cell"});var Fe=s(De,2);t(()=>i(Fe,()=>Yt,(Pe,Me)=>{Me(Pe,{class:"font-mono",children:l(Se,(Be,Ue)=>{H();var Ee=K();xe(Ze=>Te(Ee,`$${Ze??""}`),[()=>e(me).amount?.toFixed(2)||"0.00"]),n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,199,18,{componentTag:"Table.Cell"});var Ve=s(Fe,2);t(()=>i(Ve,()=>Yt,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K();xe(()=>Te(Ee,e(me).notes||"-")),n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,202,18,{componentTag:"Table.Cell"});var we=s(Ve,2);t(()=>i(we,()=>Yt,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K();xe(()=>Te(Ee,e(me).payee?.name||"-")),n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,203,18,{componentTag:"Table.Cell"});var Ae=s(we,2);t(()=>i(Ae,()=>Yt,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{H();var Ee=K();xe(()=>Te(Ee,e(me).category?.name||"-")),n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,204,18,{componentTag:"Table.Cell"});var ze=s(Ae,2);t(()=>i(ze,()=>Yt,(Pe,Me)=>{Me(Pe,{children:l(Se,(Be,Ue)=>{var Ee=lv(),Ze=A(Ee,!0);S(Ee),xe(()=>{Oa(Ee,1,`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium
                      ${B(e(me).status,"cleared")?"bg-green-100 text-green-800":B(e(me).status,"pending")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`),Te(Ze,e(me).status||"pending")}),n(Be,Ee)}),$$slots:{default:!0}})}),"component",Se,205,18,{componentTag:"Table.Cell"}),n(Re,Ce)}),$$slots:{default:!0}})}),"component",Se,197,16,{componentTag:"Table.Row"}),n($e,fe)},$e=>{var me=L(),fe=u(me);t(()=>i(fe,()=>Va,(de,be)=>{be(de,{children:l(Se,(he,Re)=>{var ke=L(),Ce=u(ke);t(()=>i(Ce,()=>Yt,(De,Fe)=>{Fe(De,{colspan:6,class:"text-center text-muted-foreground py-8",children:l(Se,(Ve,we)=>{H();var Ae=K();xe(()=>Te(Ae,T().searchQuery?`No transactions found matching "${T().searchQuery}"`:"No transactions found")),n(Ve,Ae)}),$$slots:{default:!0}})}),"component",Se,216,18,{componentTag:"Table.Cell"}),n(he,ke)}),$$slots:{default:!0}})}),"component",Se,215,16,{componentTag:"Table.Row"}),n($e,me)}),"each",Se,196,14),n(j,ve)}),$$slots:{default:!0}})}),"component",Se,195,12,{componentTag:"Table.Body"}),n(Y,V)}),$$slots:{default:!0}})}),"component",Se,184,10,{componentTag:"Table.Root"}),S(q),n(k,q)};t(()=>pe(x,k=>{Q()?.isLoadingTransactions?k(_):k(b,!1)}),"if",Se,180,6)}var P=s(x,2);{var f=k=>{t(()=>wt(k,{get accountState(){return Q()},get accountId(){return a.accountId}}),"component",Se,228,8,{componentTag:"ServerDataTablePagination"})},W=k=>{var q=L(),I=u(q);{var N=O=>{var Y=mv(),$=A(Y),V=A($);S($);var M=s($,2),oe=A(M);{let ve=p(()=>B(m().page,0));t(()=>Ke(oe,{variant:"outline",size:"sm",onclick:()=>{d.mutation("pagination",["pagination","page"],m(m().page=Math.max(0,m().page-1),!0),243,16),a.loadData()},get disabled(){return e(ve)},children:l(Se,(Ie,$e)=>{var me=dv(),fe=u(me);t(()=>ir(fe,{class:"h-4 w-4"}),"component",Se,248,14,{componentTag:"ChevronLeft"}),H(),n(Ie,me)}),$$slots:{default:!0}}),"component",Se,239,12,{componentTag:"Button"})}var ue=s(oe,2),Z=A(ue),j=A(Z);S(Z),S(ue);var ge=s(ue,2);{let ve=p(()=>m().page>=m().totalPages-1);t(()=>Ke(ge,{variant:"outline",size:"sm",onclick:()=>{d.mutation("pagination",["pagination","page"],m(m().page=Math.min(m().totalPages-1,m().page+1),!0),258,16),a.loadData()},get disabled(){return e(ve)},children:l(Se,(Ie,$e)=>{H();var me=uv(),fe=s(u(me));t(()=>cr(fe,{class:"h-4 w-4"}),"component",Se,264,14,{componentTag:"ChevronRight"}),n(Ie,me)}),$$slots:{default:!0}}),"component",Se,254,12,{componentTag:"Button"})}S(M),S(Y),xe(ve=>{Te(V,`Showing ${m().page*m().pageSize+1} to ${ve??""} of ${m().totalCount??""} transactions`),Te(j,`Page ${m().page+1} of ${m().totalPages??""}`)},[()=>Math.min((m().page+1)*m().pageSize,m().totalCount)]),n(O,Y)};t(()=>pe(I,O=>{m().totalPages>1&&O(N)},!0),"if",Se,232,6)}n(k,q)};t(()=>pe(P,k=>{Q()&&Q().pagination.totalPages>1?k(f):k(W,!1)}),"if",Se,227,6)}S(te),n(X,te)};t(()=>pe(ye,X=>{o()?X(_e):X(ce,!1)}),"if",Se,76,2)}n(re,ne)};t(()=>pe(ee,re=>{r()?re(E):re(J,!1)}),"if",Se,73,0)}return n(c,F),at({...nt()})}const jr=[{id:"monthly-spending",title:"Monthly Spending Trends",description:"Track spending patterns over time",icon:Zo,category:"Time-Based"},{id:"income-vs-expenses",title:"Income vs Expenses",description:"Compare monthly income and expenses",icon:ll,category:"Time-Based"},{id:"cash-flow",title:"Cash Flow Timeline",description:"Account balance changes over time",icon:zs,category:"Time-Based"},{id:"category-spending",title:"Spending by Category",description:"Distribution of expenses by category",icon:Jo,category:"Category Analysis"}];function gv(c){let a=D(Ge(Pt([])),"processMonthlySpending");return Ut(()=>{if(!c?.length){ie(a,[],!0);return}const d={};c.forEach(r=>{if(r.amount<0){const o=Ln(r.date);if(!o)return;const g=o.year,T=o.month,m=`${g}-${T.toString().padStart(2,"0")}`;d[m]||(d[m]={amount:0,date:new tn(g,T,1)}),d[m].amount+=Math.abs(r.amount)}}),ie(a,Object.entries(d).map(([r,o])=>({month:o.date,amount:o.amount})).sort((r,o)=>r.month.compare(o.month)),!0)}),{get data(){return e(a)}}}function pv(c){let a=D(Ge(Pt([])),"processIncomeVsExpenses");return Ut(()=>{if(!c?.length){ie(a,[],!0);return}const d={};c.forEach(r=>{const o=Ln(r.date);if(!o)return;const g=o.year,T=o.month,m=`${g}-${T.toString().padStart(2,"0")}`;d[m]||(d[m]={income:0,expenses:0}),r.amount>0?d[m].income+=r.amount:d[m].expenses+=Math.abs(r.amount)}),ie(a,Object.entries(d).map(([r,o])=>{const[g="",T=""]=r.split("-");return{month:new tn(parseInt(g)||nn.year,parseInt(T)||nn.month,1),...o}}).sort((r,o)=>r.month.compare(o.month)),!0)}),{get data(){return e(a)}}}function fv(c){let a=D(Ge(Pt([])),"processCategorySpending");return Ut(()=>{if(!c?.length){ie(a,[],!0);return}const d={};c.forEach(r=>{if(r.amount<0&&r.category?.name){const o=r.category.name;d[o]=(d[o]||0)+Math.abs(r.amount)}}),ie(a,Object.entries(d).map(([r,o])=>({category:r,amount:o})).sort((r,o)=>o.amount-r.amount),!0)}),{get data(){return e(a)}}}function _v(c){let a=D(Ge(Pt([])),"processTopPayees");return Ut(()=>{if(!c?.length){ie(a,[],!0);return}const d={};c.forEach(r=>{if(r.payee?.name){const o=r.payee.name;d[o]||(d[o]={total:0,count:0}),d[o].total+=Math.abs(r.amount),d[o].count+=1}}),ie(a,Object.entries(d).map(([r,o])=>({payee:r,...o})).sort((r,o)=>o.total-r.total).slice(0,10),!0)}),{get data(){return e(a)}}}function hv(c){let a=D(Ge(Pt([])),"processCashFlow");return Ut(()=>{if(!c?.length){ie(a,[],!0);return}const d={};c.forEach(r=>{const o=Ln(r.date);if(!o)return;const g=o.year,T=o.month,m=`${g}-${T.toString().padStart(2,"0")}`;d[m]||(d[m]={income:0,expenses:0}),r.amount>0?d[m].income+=r.amount:d[m].expenses+=Math.abs(r.amount)}),ie(a,Object.entries(d).map(([r,o])=>{const[g="",T=""]=r.split("-");return{month:new tn(parseInt(g)||nn.year,parseInt(T)||nn.month,1),cashFlow:o.income-o.expenses,income:o.income,expenses:o.expenses}}).sort((r,o)=>r.month.compare(o.month)),!0)}),{get data(){return e(a)}}}un[v]="src/routes/accounts/[id]/(components)/(charts)/cash-flow-chart.svelte";var yv=h(y('<div class="flex items-center justify-center h-full text-muted-foreground">No cash flow data available</div>'),un[v],[[120,2]]);function un(c,a){et(new.target),tt(a,!0,un);const d=hv(a.transactions),r=D(p(()=>In(d.data,{x:R=>bo(R.month),y:"cashFlow"})),"chartData"),o=["area","bar","line","scatter"],g=D(p(()=>()=>e(r).reduce((F,ee)=>F+ee.y,0)>=0?"positive":"negative"),"cashFlowTrend"),T=D(p(()=>()=>{const R=At.getFinancialColors();return B(e(g)(),"positive")?[R.positive]:[R.negative]}),"chartColors"),m=D(p(()=>{if(B(e(r).length,0))return{xDomain:void 0,yDomain:void 0};const R=Cr(e(r),ye=>ye.x),F=Cr(e(r),ye=>ye.y),ee=7*24*60*60*1e3,E=[new Date(R[0].getTime()-ee),new Date(R[1].getTime()+ee)],J=Math.abs(F[1]-F[0]),re=Math.max(J*.05,100),ne=[F[0]-re,F[1]+re];return{xDomain:E,yDomain:ne}}),"chartDomains");var G=L(),Q=u(G);{var z=R=>{{let F=p(()=>({colors:e(T)(),dimensions:{padding:{top:20,right:30,bottom:60,left:70}}})),ee=p(()=>({x:{title:"Month",rotateLabels:!0},y:{title:"Net Cash Flow",nice:!1,domain:e(m).yDomain}})),E=p(()=>({show:!0,availableTypes:o,allowTypeChange:!0,allowPeriodChange:!0}));t(()=>vt(R,{get data(){return e(r)},type:"area",get styling(){return e(F)},get axes(){return e(ee)},annotations:{type:"both",labels:{show:!0,placement:"outside"},rules:{show:!0,values:[0],strokeDasharray:"4 4",class:"stroke-muted-foreground/50"}},timeFiltering:{enabled:!0,field:"x"},get controls(){return e(E)},class:"h-full w-full"}),"component",un,74,2,{componentTag:"UnifiedChart"})}},ae=R=>{var F=yv();n(R,F)};t(()=>pe(Q,R=>{e(r).length>0?R(z):R(ae,!1)}),"if",un,73,0)}return n(c,G),at({...nt()})}mn[v]="src/routes/accounts/[id]/(components)/(charts)/category-spending-chart.svelte";var bv=h(y('<div class="flex items-center justify-center h-full text-muted-foreground">No category spending data available</div>'),mn[v],[[137,2]]);function mn(c,a){et(new.target),tt(a,!0,mn);const d=D(p(()=>!a.transactions||B(a.transactions.length,0)?{data:[]}:fv(a.transactions)),"categoryProcessor"),r=D(p(()=>!e(d).data||B(e(d).data.length,0)?[]:In(e(d).data,{x:"category",y:"amount"})),"chartData"),o=D(p(()=>!a.transactions||B(a.transactions.length,0)?[]:a.transactions.map(F=>({...F,date_js:bo(F.date)}))),"transactionsWithDates"),g=F=>{if(!F||B(F.length,0))return[];const ee={};F.forEach(J=>{if(J.amount<0&&J.category?.name){const re=J.category.name;ee[re]=(ee[re]||0)+Math.abs(J.amount)}});const E=Object.entries(ee).map(([J,re])=>({category:J,amount:re})).sort((J,re)=>re.amount-J.amount);return In(E,{x:"category",y:"amount"})},T=["pie","arc","bar","scatter"],m=D(p(()=>e(r).map((F,ee)=>At.getChartColor(ee%8))),"chartColors"),G=D(p(()=>{if(B(e(r).length,0))return 0;const F=e(r).reduce((ee,E)=>ee+(B(typeof E.y,"number")?E.y:0),0);return Math.round(F/e(r).length)}),"averageSpending");var Q=L(),z=u(Q);{var ae=F=>{{let ee=p(()=>({colors:e(m),dimensions:{padding:{top:20,right:30,bottom:60,left:70}}})),E=p(()=>({enabled:!0,field:"date",sourceData:e(o),sourceProcessor:g,sourceDateField:"date_js"})),J=p(()=>({show:!0,availableTypes:T,allowTypeChange:!0,allowPeriodChange:!0})),re=p(()=>({type:"both",labels:{show:!0,format:dr.currencySmart,position:"auto"},rules:{show:!0,values:[e(G)],orientation:"horizontal",class:"stroke-primary/60",strokeWidth:2,strokeDasharray:"4 2"}}));t(()=>vt(F,{get data(){return e(r)},type:"pie",get styling(){return e(ee)},axes:{x:{title:"Category",rotateLabels:!0},y:{title:"Spending Amount",nice:!0}},get timeFiltering(){return e(E)},get controls(){return e(J)},get annotations(){return e(re)},class:"h-full w-full"}),"component",mn,86,2,{componentTag:"UnifiedChart"})}},R=F=>{var ee=bv();n(F,ee)};t(()=>pe(z,F=>{e(r).length>0?F(ae):F(R,!1)}),"if",mn,85,0)}return n(c,Q),at({...nt()})}an[v]="src/routes/accounts/[id]/(components)/(charts)/income-vs-expenses-chart.svelte";var $v=h(y('<div class="h-full"><!></div>'),an[v],[[49,2]]),xv=h(y('<div class="flex items-center justify-center h-full text-muted-foreground">No income/expense data available</div>'),an[v],[[104,2]]);function an(c,a){et(new.target),tt(a,!0,an);const d=pv(a.transactions),r=D(p(()=>d.data),"processedData"),o=D(p(()=>Nc(e(r),{x:R=>bo(R.month),income:"income",expenses:"expenses"})),"transformedData"),g=D(p(()=>({combined:e(o).combined,income:e(o).income,expenses:e(o).expenses,series:e(o).series})),"chartData"),T=D(p(()=>B(e(o).combined.length,0)?[]:er(e(o).combined,"x")),"availablePeriods"),m=["bar","line","area","pie"];var G=L(),Q=u(G);{var z=R=>{var F=$v(),ee=A(F);{let E=p(()=>({colors:[At.getChartColor(1),At.getChartColor(2)],legend:{show:!0,position:"top",spacing:"wide",swatchSize:"medium"}})),J=p(()=>({combined:e(g).combined,income:e(g).income,expenses:e(g).expenses})),re=p(()=>({enabled:e(T).length>0,field:"x"})),ne=p(()=>({show:!0,availableTypes:m,allowTypeChange:!0,allowPeriodChange:e(T).length>0,allowColorChange:!0,allowCurveChange:!0,allowViewModeChange:!0,availableViewModes:["combined","side-by-side"]}));t(()=>vt(ee,{get data(){return e(g).combined},type:"bar",legendTitle:"Financial Overview",get styling(){return e(E)},axes:{x:{title:"Month",rotateLabels:!0},y:{title:"Amount ($)",nice:!0}},interactions:{tooltip:{enabled:!0,format:"currency",showTotal:!0}},yFields:["income","expenses"],yFieldLabels:["Income","Expenses"],suppressDuplicateWarnings:!0,get viewModeData(){return e(J)},get timeFiltering(){return e(re)},get controls(){return e(ne)},class:"h-full w-full"}),"component",an,50,4,{componentTag:"UnifiedChart"})}S(F),n(R,F)},ae=R=>{var F=xv();n(R,F)};t(()=>pe(Q,R=>{e(o).combined.length>0?R(z):R(ae,!1)}),"if",an,48,0)}return n(c,G),at({...nt()})}vn[v]="src/routes/accounts/[id]/(components)/(charts)/monthly-spending-chart.svelte";var Tv=h(y('<div class="flex items-center justify-center h-full text-muted-foreground">No spending data available</div>'),vn[v],[[84,2]]);function vn(c,a){et(new.target),tt(a,!0,vn);const d=gv(a.transactions),r=D(p(()=>In(d.data,{x:Q=>bo(Q.month),y:"amount"})),"chartData");Ut(()=>{console.log(...La("log","Monthly Spending Chart Data:",e(r))),console.log(...La("log","Tooltip Config:",{enabled:!0,format:"currency"}))});const o=["area","bar","line","scatter"];var g=L(),T=u(g);{var m=Q=>{{let z=p(()=>({show:!0,availableTypes:o,allowTypeChange:!0,allowPeriodChange:!0,allowColorChange:!0,allowCurveChange:!0}));t(()=>vt(Q,{get data(){return e(r)},type:"line",styling:{colors:"auto"},axes:{x:{title:"Month",rotateLabels:!0},y:{title:"Spending Amount",nice:!0}},annotations:{type:"labels",labels:{show:!0,placement:"outside"}},timeFiltering:{enabled:!0,field:"x"},interactions:{tooltip:{enabled:!0,format:"currency"}},get controls(){return e(z)},class:"h-full w-full"}),"component",vn,40,2,{componentTag:"UnifiedChart"})}},G=Q=>{var z=Tv();n(Q,z)};t(()=>pe(T,Q=>{e(r).length>0?Q(m):Q(G,!1)}),"if",vn,39,0)}return n(c,g),at({...nt()})}Po[v]="src/routes/accounts/[id]/(components)/(charts)/placeholder-chart.svelte";var wv=h(y('<div class="flex items-center justify-center h-full text-muted-foreground"><div class="text-center"><icon class="h-12 w-12 mx-auto mb-4 opacity-50"></icon> <h3 class="font-semibold mb-2"> </h3> <p> </p> <p class="mt-2 text-sm">Chart implementation coming soon...</p></div></div>'),Po[v],[[11,0,[[12,2,[[13,4],[14,4],[15,4],[16,4]]]]]]);function Po(c,a){et(new.target),tt(a,!0,Po);var d=wv(),r=A(d),o=s(A(r),2),g=A(o,!0);S(o);var T=s(o,2),m=A(T,!0);return S(T),H(2),S(r),S(d),xe(()=>{Te(g,a.title),Te(m,a.description)}),n(c,d),at({...nt()})}gn[v]="src/routes/accounts/[id]/(components)/(charts)/top-payees-chart.svelte";var Cv=h(y('<div class="flex items-center justify-center h-full text-muted-foreground">No payee data available</div>'),gn[v],[[71,2]]);function gn(c,a){et(new.target),tt(a,!0,gn);const d=_v(a.transactions),r=D(p(()=>In(d.data,{x:"payee",y:"total"})),"chartData"),o=D(p(()=>()=>{if(B(e(r).length,0))return 0;const Q=e(r).reduce((z,ae)=>z+(B(typeof ae.y,"number")?ae.y:0),0);return Math.round(Q/e(r).length)}),"averagePayeeAmount");var g=L(),T=u(g);{var m=Q=>{{let z=p(()=>({type:"labels",labels:{show:!0,format:dr.currencySmart,position:"auto",class:"fill-foreground text-xs font-medium"},rules:{show:!1,values:[e(o)()]}}));t(()=>vt(Q,{get data(){return e(r)},type:"bar",styling:{colors:"auto"},axes:{x:{title:"Payee",rotateLabels:!0},y:{title:"Total Amount",nice:!0}},controls:{show:!0,availableTypes:["bar","line","area"],allowTypeChange:!0,allowPeriodChange:!1},get annotations(){return e(z)},class:"h-full w-full"}),"component",gn,33,2,{componentTag:"UnifiedChart"})}},G=Q=>{var z=Cv();n(Q,z)};t(()=>pe(T,Q=>{e(r).length>0?Q(m):Q(G,!1)}),"if",gn,32,0)}return n(c,g),at({...nt()})}xt[v]="src/routes/accounts/[id]/(components)/analytics-dashboard.svelte";var Pv=h(y('<div class="flex items-center gap-2 w-full"><!> <span class="text-xs font-medium"> </span></div> <span class="text-xs opacity-75 text-left"> </span>',1),xt[v],[[44,10,[[46,12]]],[48,10]]),Sv=h(y('<div class="flex items-center gap-2"><!> <!></div> <!>',1),xt[v],[[58,8]]),Dv=h(y('<div class="h-[400px] w-full"><!></div>'),xt[v],[[65,8]]),Fv=h(y("<!> <!>",1),xt[v],[]),Iv=h(y('<div class="space-y-6"><div class="flex flex-col gap-4"><div><h2 class="text-2xl font-bold tracking-tight">Analytics</h2> <p class="text-muted-foreground">Detailed analysis of your spending patterns and financial trends</p></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-3"></div></div> <!></div>'),xt[v],[[25,0,[[27,2,[[28,4,[[29,6],[30,6]]],[36,4]]]]]]);function xt(c,a){et(new.target),tt(a,!0,xt);let d=D(Ge("monthly-spending"),"selectedAnalytic");const r=D(p(()=>jr.find(Q=>B(Q.id,e(d)))),"currentAnalytic");var o=Iv(),g=A(o),T=s(A(g),2);t(()=>rt(T,21,()=>jr,ut,(Q,z)=>{{let ae=p(()=>B(e(d),e(z).id)?"default":"outline");t(()=>Ke(Q,{get variant(){return e(ae)},size:"sm",class:"h-auto p-3 flex-col items-start gap-2",onclick:()=>ie(d,e(z).id,!0),children:l(xt,(R,F)=>{var ee=Pv(),E=u(ee),J=A(E);t(()=>i(J,()=>e(z).icon,(ce,X)=>{X(ce,{class:"h-4 w-4"})}),"component",xt,45,12,{componentTag:"analytic.icon"});var re=s(J,2),ne=A(re,!0);S(re),S(E);var ye=s(E,2),_e=A(ye,!0);S(ye),xe(()=>{Te(ne,e(z).title),Te(_e,e(z).description)}),n(R,ee)}),$$slots:{default:!0}}),"component",xt,38,8,{componentTag:"Button"})}}),"each",xt,37,6),S(T),S(g);var m=s(g,2);{var G=Q=>{var z=L(),ae=u(z);t(()=>i(ae,()=>Ho,(R,F)=>{F(R,{children:l(xt,(ee,E)=>{var J=Fv(),re=u(J);t(()=>i(re,()=>Go,(ye,_e)=>{_e(ye,{children:l(xt,(ce,X)=>{var te=Sv(),le=u(te),C=A(le);t(()=>i(C,()=>e(r).icon,(x,_)=>{_(x,{class:"h-5 w-5"})}),"component",xt,59,10,{componentTag:"currentAnalytic.icon"});var w=s(C,2);t(()=>i(w,()=>Uo,(x,_)=>{_(x,{children:l(xt,(b,P)=>{H();var f=K();xe(()=>Te(f,e(r).title)),n(b,f)}),$$slots:{default:!0}})}),"component",xt,60,10,{componentTag:"Card.Title"}),S(le);var U=s(le,2);t(()=>i(U,()=>tl,(x,_)=>{_(x,{children:l(xt,(b,P)=>{H();var f=K();xe(()=>Te(f,e(r).description)),n(b,f)}),$$slots:{default:!0}})}),"component",xt,62,8,{componentTag:"Card.Description"}),n(ce,te)}),$$slots:{default:!0}})}),"component",xt,57,6,{componentTag:"Card.Header"});var ne=s(re,2);t(()=>i(ne,()=>Qo,(ye,_e)=>{_e(ye,{class:"p-6",children:l(xt,(ce,X)=>{var te=Dv(),le=A(te);{var C=U=>{t(()=>vn(U,{get transactions(){return a.transactions}}),"component",xt,67,12,{componentTag:"MonthlySpendingChart"})},w=U=>{var x=L(),_=u(x);{var b=f=>{t(()=>an(f,{get transactions(){return a.transactions}}),"component",xt,69,12,{componentTag:"IncomeVsExpensesChart"})},P=f=>{var W=L(),k=u(W);{var q=N=>{t(()=>un(N,{get transactions(){return a.transactions}}),"component",xt,71,12,{componentTag:"CashFlowChart"})},I=N=>{var O=L(),Y=u(O);{var $=M=>{t(()=>mn(M,{get transactions(){return a.transactions}}),"component",xt,73,12,{componentTag:"CategorySpendingChart"})},V=M=>{var oe=L(),ue=u(oe);{var Z=ge=>{t(()=>gn(ge,{get transactions(){return a.transactions}}),"component",xt,75,12,{componentTag:"TopPayeesChart"})},j=ge=>{{let ve=p(()=>e(r)?.title||"Coming Soon"),Ie=p(()=>e(r)?.description||"This chart is not yet implemented"),$e=p(()=>e(r)?.icon);t(()=>Po(ge,{get title(){return e(ve)},get description(){return e(Ie)},get icon(){return e($e)}}),"component",xt,77,12,{componentTag:"PlaceholderChart"})}};t(()=>pe(ue,ge=>{B(e(d),"top-payees")?ge(Z):ge(j,!1)},!0),"if",xt,74,10)}n(M,oe)};t(()=>pe(Y,M=>{B(e(d),"category-spending")?M($):M(V,!1)},!0),"if",xt,72,10)}n(N,O)};t(()=>pe(k,N=>{B(e(d),"cash-flow")?N(q):N(I,!1)},!0),"if",xt,70,10)}n(f,W)};t(()=>pe(_,f=>{B(e(d),"income-vs-expenses")?f(b):f(P,!1)},!0),"if",xt,68,10)}n(U,x)};t(()=>pe(le,U=>{B(e(d),"monthly-spending")?U(C):U(w,!1)}),"if",xt,66,10)}S(te),n(ce,te)}),$$slots:{default:!0}})}),"component",xt,64,6,{componentTag:"Card.Content"}),n(ee,J)}),$$slots:{default:!0}})}),"component",xt,56,4,{componentTag:"Card.Root"}),n(Q,z)};t(()=>pe(m,Q=>{e(r)&&Q(G)}),"if",xt,55,2)}return S(o),n(c,o),at({...nt()})}go[v]="src/routes/accounts/[id]/(components)/(cells)/editable-date-cell.svelte";function go(c,a){et(new.target),tt(a,!0,go);var d=ya(a);let r=Ye(a,"value",15);const o=g=>{a.onUpdateValue&&a.onUpdateValue(g)};return d.binding("value",oa,r),t(()=>oa(c,{handleSubmit:o,get value(){return r()},set value(g){r(g)}}),"component",go,20,0,{componentTag:"DateInput"}),at({...nt()})}kn[v]="src/routes/accounts/[id]/(components)/(cells)/editable-entity-cell.svelte";function kn(c,a){et(new.target),tt(a,!0,kn);var d=ya(a);let r=Ye(a,"value",7),o=Ye(a,"entityLabel",7),g=Ye(a,"entities",7);const T=m=>{a.onUpdateValue(m?.id)};return d.binding("entityLabel",lt,o),d.binding("value",lt,r),d.binding("entities",lt,g),t(()=>lt(c,{get icon(){return a.icon},handleSubmit:T,get management(){return a.management},get entityLabel(){return o()},set entityLabel(m){o(m)},get value(){return r()},set value(m){r(m)},get entities(){return g()},set entities(m){g(m)}}),"component",kn,32,0,{componentTag:"EntityInput"}),at({...nt()})}Kt[v]="src/routes/accounts/[id]/(components)/(cells)/data-table-editable-cell.svelte";var kv=h(y("<!> ",1),Kt[v],[]),Av=h(y("<!> <!>",1),Kt[v],[]),Vv=h(y("<!> <!>",1),Kt[v],[]);function Kt(c,a){et(new.target),tt(a,!0,Kt);let d=Ye(a,"value",7),r=D(Ge(!1),"open"),o=D(Ge(void 0),"newValue");const g=()=>{ie(r,!1),d(e(o)),a.onUpdateValue(d())};var T=L(),m=u(T);return t(()=>i(m,()=>fa,(G,Q)=>{Q(G,{onOpenChange:()=>{ie(o,"")},get open(){return e(r)},set open(z){ie(r,z,!0)},children:l(Kt,(z,ae)=>{var R=Vv(),F=u(R);{const E=l(Kt,function(J,re){Ct(...arguments);let ne=()=>re?.().props;ne();{let ye=p(()=>Gt("block w-48 justify-start overflow-hidden text-ellipsis whitespace-nowrap text-left font-normal",!d()&&"text-muted-foreground"));t(()=>Ke(J,yt(ne,{variant:"outline",get class(){return e(ye)},children:l(Kt,(_e,ce)=>{var X=kv(),te=u(X);t(()=>Es(te,{class:"mr-1 inline-block size-4 align-top"}),"component",Kt,34,8,{componentTag:"SquarePen"});var le=s(te);xe(()=>Te(le,` ${d()??""}`)),n(_e,X)}),$$slots:{default:!0}})),"component",Kt,26,6,{componentTag:"Button"})}});t(()=>i(F,()=>_a,(J,re)=>{re(J,{child:E,$$slots:{child:!0}})}),"component",Kt,24,2,{componentTag:"Popover.Trigger"})}var ee=s(F,2);t(()=>i(ee,()=>ha,(E,J)=>{J(E,{class:"grid w-auto gap-2 p-2",align:"start",children:l(Kt,(re,ne)=>{var ye=Av(),_e=u(ye);{let X=p(()=>d()?.toString());t(()=>_n(_e,{placeholder:"",get value(){return e(X)},onchange:te=>ie(o,te.target.value,!0)}),"component",Kt,40,4,{componentTag:"Textarea"})}var ce=s(_e,2);t(()=>Ke(ce,{onclick:g,children:l(Kt,(X,te)=>{H();var le=K("Save");n(X,le)}),$$slots:{default:!0}}),"component",Kt,45,4,{componentTag:"Button"}),n(re,ye)}),$$slots:{default:!0}})}),"component",Kt,39,2,{componentTag:"Popover.Content"}),n(z,R)}),$$slots:{default:!0}})}),"component",Kt,18,0,{componentTag:"Popover.Root"}),n(c,T),at({...nt()})}function Rv(c){const{initialValue:a,onSave:d,onCancel:r,validator:o=()=>!0,formatter:g=J=>String(J)}=c;let T=D(Ge(!1),"isEditing"),m=D(Ge(Pt(a)),"currentValue"),G=D(Ge(Pt(a)),"originalValue");const Q=D(p(()=>g(e(m))),"displayValue"),z=D(p(()=>B(e(m),e(G),!1)),"hasChanges"),ae=D(p(()=>o(e(m))),"isValid");function R(){ie(T,!0),ie(G,e(m),!0)}function F(){ie(m,e(G),!0),ie(T,!1),r&&r()}async function ee(){if(e(ae))try{(await tr(d(e(m))))(),ie(G,e(m),!0),ie(T,!1)}catch(J){throw ie(m,e(G),!0),J}}function E(J){ie(m,J,!0)}return Ut(()=>{!e(z)&&!e(T)&&(ie(m,a,!0),ie(G,a,!0))}),{get isEditing(){return e(T)},get currentValue(){return e(m)},get displayValue(){return e(Q)},get hasChanges(){return e(z)},get isValid(){return e(ae)},startEdit:R,cancelEdit:F,saveEdit:ee,updateValue:E}}po[v]="src/routes/accounts/[id]/(components)/(cells)/editable-numeric-cell.svelte";function po(c,a){et(new.target),tt(a,!0,po);let d=Ye(a,"value",15);const r=Rv({initialValue:d(),onSave:async m=>{d(m),a.onUpdateValue(m)},validator:m=>!isNaN(m)&&isFinite(m),formatter:m=>Qa.format(m)});Ut(()=>{B(d(),r.currentValue,!1)&&!r.isEditing&&r.updateValue(d())});let o=D(Ge(Pt(r.currentValue)),"numericValue"),g=D(Ge(!1),"open");Ut(()=>{r.isEditing?(ie(o,r.currentValue,!0),ie(g,!0)):ie(g,!1)});function T(){r.updateValue(e(o)),r.saveEdit()}return t(()=>ht(c,{onSubmit:T,get value(){return e(o)},set value(m){ie(o,m,!0)},get open(){return e(g)},set open(m){ie(g,m,!0)}}),"component",po,58,0,{componentTag:"NumericInput"}),at({...nt()})}Nt[v]="src/routes/accounts/[id]/(dialogs)/delete-transaction-dialog.svelte";var Mv=h(y("<!> <!>",1),Nt[v],[]),Lv=h(y("<!> <!>",1),Nt[v],[]),Ov=h(y("<!> <!>",1),Nt[v],[]);function Nt(c,a){et(new.target),tt(a,!0,Nt);var d=ya(a);let r=Ye(a,"dialogOpen",15),o=Jl.get(),g=async()=>{a.transactions&&o?.deleteTransactions(a.transactions),a.onDelete&&a.onDelete(),r(!1)};var T=L(),m=u(T);return t(()=>i(m,()=>zn,(G,Q)=>{d.binding("dialogOpen",Q,r),Q(G,{get open(){return r()},set open(z){r(z)},children:l(Nt,(z,ae)=>{var R=L(),F=u(R);t(()=>i(F,()=>En,(ee,E)=>{E(ee,{children:l(Nt,(J,re)=>{var ne=Ov(),ye=u(ne);t(()=>i(ye,()=>Nn,(ce,X)=>{X(ce,{children:l(Nt,(te,le)=>{var C=Mv(),w=u(C);t(()=>i(w,()=>Bn,(x,_)=>{_(x,{children:l(Nt,(b,P)=>{H();var f=K("Are you absolutely sure?");n(b,f)}),$$slots:{default:!0}})}),"component",Nt,32,6,{componentTag:"AlertDialog.Title"});var U=s(w,2);t(()=>i(U,()=>qn,(x,_)=>{_(x,{children:l(Nt,(b,P)=>{H();var f=K("This action cannot be undone. This will permanently delete this transaction.");n(b,f)}),$$slots:{default:!0}})}),"component",Nt,33,6,{componentTag:"AlertDialog.Description"}),n(te,C)}),$$slots:{default:!0}})}),"component",Nt,31,4,{componentTag:"AlertDialog.Header"});var _e=s(ye,2);t(()=>i(_e,()=>jn,(ce,X)=>{X(ce,{children:l(Nt,(te,le)=>{var C=Lv(),w=u(C);t(()=>i(w,()=>Hn,(x,_)=>{_(x,{children:l(Nt,(b,P)=>{H();var f=K("Cancel");n(b,f)}),$$slots:{default:!0}})}),"component",Nt,38,6,{componentTag:"AlertDialog.Cancel"});var U=s(w,2);{let x=p(()=>Ea({variant:"destructive"}));t(()=>i(U,()=>Gn,(_,b)=>{b(_,{onclick:g,get class(){return e(x)},children:l(Nt,(P,f)=>{H();var W=K("Continue");n(P,W)}),$$slots:{default:!0}})}),"component",Nt,39,6,{componentTag:"AlertDialog.Action"})}n(te,C)}),$$slots:{default:!0}})}),"component",Nt,37,4,{componentTag:"AlertDialog.Footer"}),n(J,ne)}),$$slots:{default:!0}})}),"component",Nt,30,2,{componentTag:"AlertDialog.Content"}),n(z,R)}),$$slots:{default:!0}})}),"component",Nt,29,0,{componentTag:"AlertDialog.Root"}),n(c,T),at({...nt()})}jt[v]="src/routes/accounts/[id]/(components)/data-table-actions.svelte";var zv=h(y('<span class="sr-only">Open menu</span> <!>',1),jt[v],[[20,8]]),Ev=h(y("<!> <!>",1),jt[v],[]),Nv=h(y("<!> <!>",1),jt[v],[]);function jt(c,a){et(new.target),tt(a,!0,jt);let d=D(Ge(!1),"deleteOpen");var r=Nv(),o=u(r);t(()=>i(o,()=>$o,(m,G)=>{G(m,{children:l(jt,(Q,z)=>{var ae=Ev(),R=u(ae);{const ee=l(jt,function(E,J){Ct(...arguments);let re=()=>J?.().props;re(),t(()=>Ke(E,yt({variant:"ghost",size:"icon",class:"relative size-8 p-0"},re,{children:l(jt,(ne,ye)=>{var _e=zv(),ce=s(u(_e),2);t(()=>Ns(ce,{class:"size-4"}),"component",jt,21,8,{componentTag:"MoreHorizontal"}),n(ne,_e)}),$$slots:{default:!0}})),"component",jt,19,6,{componentTag:"Button"})});t(()=>i(R,()=>xo,(E,J)=>{J(E,{child:ee,$$slots:{child:!0}})}),"component",jt,17,2,{componentTag:"DropdownMenu.Trigger"})}var F=s(R,2);t(()=>i(F,()=>To,(ee,E)=>{E(ee,{children:l(jt,(J,re)=>{var ne=L(),ye=u(ne);t(()=>i(ye,()=>ar,(_e,ce)=>{ce(_e,{children:l(jt,(X,te)=>{var le=L(),C=u(le);t(()=>i(C,()=>dn,(w,U)=>{U(w,{onSelect:()=>ie(d,!0),children:l(jt,(x,_)=>{H();var b=K("Delete");n(x,b)}),$$slots:{default:!0}})}),"component",jt,36,6,{componentTag:"DropdownMenu.Item"}),n(X,le)}),$$slots:{default:!0}})}),"component",jt,35,4,{componentTag:"DropdownMenu.Group"}),n(J,ne)}),$$slots:{default:!0}})}),"component",jt,25,2,{componentTag:"DropdownMenu.Content"}),n(Q,ae)}),$$slots:{default:!0}})}),"component",jt,16,0,{componentTag:"DropdownMenu.Root"});var g=s(o,2);{var T=m=>{{let G=p(()=>[a.id]);t(()=>Nt(m,{get transactions(){return e(G)},get dialogOpen(){return e(d)},set dialogOpen(Q){ie(d,Q,!0)}}),"component",jt,42,2,{componentTag:"DeleteTransactionDialog"})}};t(()=>pe(g,m=>{e(d)&&m(T)}),"if",jt,41,0)}return n(c,r),at({...nt()})}Pa[v]="src/routes/accounts/[id]/(components)/(cells)/data-table-editable-status-cell.svelte";function Pa(c,a){et(new.target),tt(a,!0,Pa);const d=m=>{a.onUpdateValue&&a.onUpdateValue(m)};var r=L(),o=u(r);{var g=m=>{t(()=>Ke(m,{onclick:()=>d(cn(a.value,"cleared")?"pending":"cleared"),variant:"ghost",class:"[&_svg]:size-auto",children:l(Pa,(G,Q)=>{var z=L(),ae=u(z);{var R=ee=>{{let E=p(()=>Gt(B(a.value,"cleared")?"fill-primary":"fill-foreground","text-white"));t(()=>dl(ee,{get class(){return e(E)},strokeWidth:1.5,size:22}),"component",Pa,26,6,{componentTag:"SquareCheck"})}},F=ee=>{t(()=>Bs(ee,{strokeWidth:1.5,size:20,class:"text-gray-400"}),"component",Pa,28,6,{componentTag:"Square"})};t(()=>pe(ae,ee=>{B(a.value,"cleared")?ee(R):ee(F,!1)}),"if",Pa,25,4)}n(G,z)}),$$slots:{default:!0}}),"component",Pa,24,2,{componentTag:"Button"})},T=m=>{t(()=>qs(m,{color:"gray",size:"14"}),"component",Pa,32,2,{componentTag:"CalendarClock"})};t(()=>pe(o,m=>{B(a.value,"cleared")||B(a.value,"pending")?m(g):m(T,!1)}),"if",Pa,23,0)}return n(c,r),at({...nt()})}st[v]="src/routes/accounts/[id]/(components)/manage-payee-form.svelte";var Bv=h(y('<input type="hidden" name="id"/>'),st[v],[[59,4]]),qv=h(y("<!> <!> <!>",1),st[v],[]),jv=h(y("<!> <!> <!>",1),st[v],[]),Hv=h(y("<!> <!>",1),st[v],[]),Gv=h(y("<!> <!>",1),st[v],[]),Uv=h(y("<!> <!>",1),st[v],[]),Qv=h(y('<form method="post" action="/payees?/save-payee"><!> <!> <!> <!> <!></form> <!>',1),st[v],[[57,0]]);function st(c,a){et(new.target),tt(a,!0,st);const[d,r]=Rn(),o=()=>(Mn(m,"formData"),An(m,"$formData",d)),{data:{managePayeeForm:g}}=za,T=Un(g||{name:"",notes:""},{id:"payee-form",validators:wo(Js),onResult:async({result:X})=>{a.onSave&&B(X.type,"success")&&X.data&&a.onSave(X.data.entity,B(a.id??0,0))}}),{form:m,enhance:G}=T;if(a.id){const X=es.get().getById(a.id);ft(m,qe(o).name=X.name,qe(o)),ft(m,qe(o).notes=X.notes,qe(o))}let Q=D(Ge(!1),"alertDialogOpen");const z=async X=>{ie(Q,!1),a.onDelete&&a.onDelete(X)};var ae=Qv(),R=u(ae),F=A(R);{var ee=X=>{var te=Bv();Sa(te),xe(()=>yo(te,a.id)),n(X,te)};t(()=>pe(F,X=>{a.id&&X(ee)}),"if",st,58,2)}var E=s(F,2);t(()=>i(E,()=>ea,(X,te)=>{te(X,{get form(){return T},name:"name",children:l(st,(le,C)=>{var w=L(),U=u(w);{const x=l(st,function(_,b){Ct(...arguments);let P=()=>b?.().props;P();var f=qv(),W=u(f);t(()=>i(W,()=>Fa,(I,N)=>{N(I,{children:l(st,(O,Y)=>{H();var $=K("Name");n(O,$)}),$$slots:{default:!0}})}),"component",st,64,8,{componentTag:"Form.Label"});var k=s(W,2);t(()=>Dt(k,yt(P,{get value(){return o().name},set value(I){ft(m,qe(o).name=I,qe(o))}})),"component",st,65,8,{componentTag:"Input"});var q=s(k,2);t(()=>i(q,()=>va,(I,N)=>{N(I,{})}),"component",st,66,8,{componentTag:"Form.FieldErrors"}),n(_,f)});t(()=>i(U,()=>ta,(_,b)=>{b(_,{children:x,$$slots:{default:!0}})}),"component",st,62,4,{componentTag:"Form.Control"})}n(le,w)}),$$slots:{default:!0}})}),"component",st,61,2,{componentTag:"Form.Field"});var J=s(E,2);t(()=>i(J,()=>ea,(X,te)=>{te(X,{get form(){return T},name:"notes",class:"col-span-full",children:l(st,(le,C)=>{var w=L(),U=u(w);{const x=l(st,function(_,b){Ct(...arguments);let P=()=>b?.().props;P();var f=jv(),W=u(f);t(()=>i(W,()=>Fa,(I,N)=>{N(I,{children:l(st,(O,Y)=>{H();var $=K("Notes");n(O,$)}),$$slots:{default:!0}})}),"component",st,73,8,{componentTag:"Form.Label"});var k=s(W,2);t(()=>_n(k,yt(P,{get value(){return o().notes},set value(I){ft(m,qe(o).notes=I,qe(o))}})),"component",st,74,8,{componentTag:"Textarea"});var q=s(k,2);t(()=>i(q,()=>va,(I,N)=>{N(I,{})}),"component",st,75,8,{componentTag:"Form.FieldErrors"}),n(_,f)});t(()=>i(U,()=>ta,(_,b)=>{b(_,{children:x,$$slots:{default:!0}})}),"component",st,71,4,{componentTag:"Form.Control"})}n(le,w)}),$$slots:{default:!0}})}),"component",st,70,2,{componentTag:"Form.Field"});var re=s(J,2);t(()=>i(re,()=>On,(X,te)=>{te(X,{children:l(st,(le,C)=>{H();var w=K("save");n(le,w)}),$$slots:{default:!0}})}),"component",st,79,2,{componentTag:"Form.Button"});var ne=s(re,2);{var ye=X=>{t(()=>Ke(X,{variant:"destructive",onclick:()=>ie(Q,!0),children:l(st,(te,le)=>{H();var C=K("delete");n(te,C)}),$$slots:{default:!0}}),"component",st,81,4,{componentTag:"Button"})};t(()=>pe(ne,X=>{a.id&&X(ye)}),"if",st,80,2)}S(R),Vn(R,X=>G?.(X));var _e=s(R,2);t(()=>i(_e,()=>zn,(X,te)=>{te(X,{get open(){return e(Q)},set open(le){ie(Q,le,!0)},children:l(st,(le,C)=>{var w=L(),U=u(w);t(()=>i(U,()=>En,(x,_)=>{_(x,{children:l(st,(b,P)=>{var f=Uv(),W=u(f);t(()=>i(W,()=>Nn,(q,I)=>{I(q,{children:l(st,(N,O)=>{var Y=Hv(),$=u(Y);t(()=>i($,()=>Bn,(M,oe)=>{oe(M,{children:l(st,(ue,Z)=>{H();var j=K("Are you absolutely sure?");n(ue,j)}),$$slots:{default:!0}})}),"component",st,88,6,{componentTag:"AlertDialog.Title"});var V=s($,2);t(()=>i(V,()=>qn,(M,oe)=>{oe(M,{children:l(st,(ue,Z)=>{H();var j=K("This action cannot be undone. This will permanently delete this payee.");n(ue,j)}),$$slots:{default:!0}})}),"component",st,89,6,{componentTag:"AlertDialog.Description"}),n(N,Y)}),$$slots:{default:!0}})}),"component",st,87,4,{componentTag:"AlertDialog.Header"});var k=s(W,2);t(()=>i(k,()=>jn,(q,I)=>{I(q,{children:l(st,(N,O)=>{var Y=Gv(),$=u(Y);t(()=>i($,()=>Hn,(M,oe)=>{oe(M,{children:l(st,(ue,Z)=>{H();var j=K("Cancel");n(ue,j)}),$$slots:{default:!0}})}),"component",st,94,6,{componentTag:"AlertDialog.Cancel"});var V=s($,2);{let M=p(()=>Ea({variant:"destructive"}));t(()=>i(V,()=>Gn,(oe,ue)=>{ue(oe,{onclick:()=>z(a.id),get class(){return e(M)},children:l(st,(Z,j)=>{H();var ge=K("Continue");n(Z,ge)}),$$slots:{default:!0}})}),"component",st,95,6,{componentTag:"AlertDialog.Action"})}n(N,Y)}),$$slots:{default:!0}})}),"component",st,93,4,{componentTag:"AlertDialog.Footer"}),n(b,f)}),$$slots:{default:!0}})}),"component",st,86,2,{componentTag:"AlertDialog.Content"}),n(le,w)}),$$slots:{default:!0}})}),"component",st,85,0,{componentTag:"AlertDialog.Root"}),n(c,ae);var ce=at({...nt()});return r(),ce}it[v]="src/routes/accounts/[id]/(components)/manage-category-form.svelte";var Wv=h(y('<input type="hidden" name="id"/>'),it[v],[[58,4]]),Yv=h(y("<!> <!> <!>",1),it[v],[]),Kv=h(y("<!> <!> <!>",1),it[v],[]),Xv=h(y("<!> <!>",1),it[v],[]),Zv=h(y("<!> <!>",1),it[v],[]),Jv=h(y("<!> <!>",1),it[v],[]),eg=h(y('<form method="post" action="/categories?/save-category"><!> <!> <!> <!> <!></form> <!>',1),it[v],[[56,0]]);function it(c,a){et(new.target),tt(a,!0,it);const[d,r]=Rn(),o=()=>(Mn(m,"formData"),An(m,"$formData",d)),g=za.data.manageCategoryForm,T=Un(g||{name:"",notes:""},{id:"category-form",validators:wo(Zs),onResult:async({result:X})=>{a.onSave&&B(X.type,"success")&&X.data&&a.onSave(X.data.entity,B(a.id??0,0))}}),{form:m,enhance:G}=T;if(a.id){const X=ts.get().getById(a.id);ft(m,qe(o).name=X.name,qe(o)),ft(m,qe(o).notes=X.notes,qe(o))}let Q=D(Ge(!1),"alertDialogOpen");const z=async X=>{ie(Q,!1),a.onDelete&&a.onDelete(X)};var ae=eg(),R=u(ae),F=A(R);{var ee=X=>{var te=Wv();Sa(te),xe(()=>yo(te,a.id)),n(X,te)};t(()=>pe(F,X=>{a.id&&X(ee)}),"if",it,57,2)}var E=s(F,2);t(()=>i(E,()=>ea,(X,te)=>{te(X,{get form(){return T},name:"name",children:l(it,(le,C)=>{var w=L(),U=u(w);{const x=l(it,function(_,b){Ct(...arguments);let P=()=>b?.().props;P();var f=Yv(),W=u(f);t(()=>i(W,()=>Fa,(I,N)=>{N(I,{children:l(it,(O,Y)=>{H();var $=K("Name");n(O,$)}),$$slots:{default:!0}})}),"component",it,63,8,{componentTag:"Form.Label"});var k=s(W,2);t(()=>Dt(k,yt(P,{get value(){return o().name},set value(I){ft(m,qe(o).name=I,qe(o))}})),"component",it,64,8,{componentTag:"Input"});var q=s(k,2);t(()=>i(q,()=>va,(I,N)=>{N(I,{})}),"component",it,65,8,{componentTag:"Form.FieldErrors"}),n(_,f)});t(()=>i(U,()=>ta,(_,b)=>{b(_,{children:x,$$slots:{default:!0}})}),"component",it,61,4,{componentTag:"Form.Control"})}n(le,w)}),$$slots:{default:!0}})}),"component",it,60,2,{componentTag:"Form.Field"});var J=s(E,2);t(()=>i(J,()=>ea,(X,te)=>{te(X,{get form(){return T},name:"notes",class:"col-span-full",children:l(it,(le,C)=>{var w=L(),U=u(w);{const x=l(it,function(_,b){Ct(...arguments);let P=()=>b?.().props;P();var f=Kv(),W=u(f);t(()=>i(W,()=>Fa,(I,N)=>{N(I,{children:l(it,(O,Y)=>{H();var $=K("Notes");n(O,$)}),$$slots:{default:!0}})}),"component",it,72,8,{componentTag:"Form.Label"});var k=s(W,2);t(()=>_n(k,yt(P,{get value(){return o().notes},set value(I){ft(m,qe(o).notes=I,qe(o))}})),"component",it,73,8,{componentTag:"Textarea"});var q=s(k,2);t(()=>i(q,()=>va,(I,N)=>{N(I,{})}),"component",it,74,8,{componentTag:"Form.FieldErrors"}),n(_,f)});t(()=>i(U,()=>ta,(_,b)=>{b(_,{children:x,$$slots:{default:!0}})}),"component",it,70,4,{componentTag:"Form.Control"})}n(le,w)}),$$slots:{default:!0}})}),"component",it,69,2,{componentTag:"Form.Field"});var re=s(J,2);t(()=>i(re,()=>On,(X,te)=>{te(X,{children:l(it,(le,C)=>{H();var w=K("save");n(le,w)}),$$slots:{default:!0}})}),"component",it,78,2,{componentTag:"Form.Button"});var ne=s(re,2);{var ye=X=>{t(()=>Ke(X,{variant:"destructive",onclick:()=>ie(Q,!0),children:l(it,(te,le)=>{H();var C=K("delete");n(te,C)}),$$slots:{default:!0}}),"component",it,80,4,{componentTag:"Button"})};t(()=>pe(ne,X=>{a.id&&X(ye)}),"if",it,79,2)}S(R),Vn(R,X=>G?.(X));var _e=s(R,2);t(()=>i(_e,()=>zn,(X,te)=>{te(X,{get open(){return e(Q)},set open(le){ie(Q,le,!0)},children:l(it,(le,C)=>{var w=L(),U=u(w);t(()=>i(U,()=>En,(x,_)=>{_(x,{children:l(it,(b,P)=>{var f=Jv(),W=u(f);t(()=>i(W,()=>Nn,(q,I)=>{I(q,{children:l(it,(N,O)=>{var Y=Xv(),$=u(Y);t(()=>i($,()=>Bn,(M,oe)=>{oe(M,{children:l(it,(ue,Z)=>{H();var j=K("Are you absolutely sure?");n(ue,j)}),$$slots:{default:!0}})}),"component",it,87,6,{componentTag:"AlertDialog.Title"});var V=s($,2);t(()=>i(V,()=>qn,(M,oe)=>{oe(M,{children:l(it,(ue,Z)=>{H();var j=K("This action cannot be undone. This will permanently delete this category.");n(ue,j)}),$$slots:{default:!0}})}),"component",it,88,6,{componentTag:"AlertDialog.Description"}),n(N,Y)}),$$slots:{default:!0}})}),"component",it,86,4,{componentTag:"AlertDialog.Header"});var k=s(W,2);t(()=>i(k,()=>jn,(q,I)=>{I(q,{children:l(it,(N,O)=>{var Y=Zv(),$=u(Y);t(()=>i($,()=>Hn,(M,oe)=>{oe(M,{children:l(it,(ue,Z)=>{H();var j=K("Cancel");n(ue,j)}),$$slots:{default:!0}})}),"component",it,93,6,{componentTag:"AlertDialog.Cancel"});var V=s($,2);{let M=p(()=>Ea({variant:"destructive"}));t(()=>i(V,()=>Gn,(oe,ue)=>{ue(oe,{onclick:()=>z(a.id),get class(){return e(M)},children:l(it,(Z,j)=>{H();var ge=K("Continue");n(Z,ge)}),$$slots:{default:!0}})}),"component",it,94,6,{componentTag:"AlertDialog.Action"})}n(N,Y)}),$$slots:{default:!0}})}),"component",it,92,4,{componentTag:"AlertDialog.Footer"}),n(b,f)}),$$slots:{default:!0}})}),"component",it,85,2,{componentTag:"AlertDialog.Content"}),n(le,w)}),$$slots:{default:!0}})}),"component",it,84,0,{componentTag:"AlertDialog.Root"}),n(c,ae);var ce=at({...nt()});return r(),ce}fo[v]="src/routes/accounts/[id]/(components)/(facets)/data-table-faceted-filter-status.svelte";function fo(c,a){et(new.target),tt(a,!0,fo);const d=D(p(()=>za.data),"data"),r=D(p(()=>e(d).account),"account"),o=D(p(()=>ba.get().activeView),"activeView"),g=D(p(()=>e(o).view),"activeViewModel"),T=D(p(()=>e(g).getFilterValue(a.column.id)),"selectedValues"),m=D(p(()=>[...new jl(e(r).transactions.map(ae=>ae.status)).union(e(T))]),"statuses"),G=D(p(()=>Object.values(as)),"allStatuses"),Q=D(p(()=>new ua(e(m)?.map(ae=>[ae,{label:ae,value:ae,icon:Mr}]))),"statusOptions"),z=D(p(()=>new ua(e(G)?.map(ae=>[ae,{label:ae,value:ae,icon:Mr}]))),"allStatusOptions");return t(()=>Ne(c,{get column(){return a.column},title:"Status",get options(){return e(Q)},get allOptions(){return e(z)},get allIcon(){return ul}}),"component",fo,58,0,{componentTag:"DataTableFacetedFilter"}),at({...nt()})}_o[v]="src/routes/accounts/[id]/(components)/(facets)/data-table-faceted-filter-category.svelte";function _o(c,a){et(new.target),tt(a,!0,_o);const d=D(p(()=>za.data),"data"),r=D(p(()=>e(d).account),"account"),o=D(p(()=>ba.get().activeView),"activeView"),g=D(p(()=>e(o).view),"activeViewModel"),T=D(p(()=>e(g).getFilterValue(a.column.id)),"selectedValues"),m=D(p(()=>e(r).transactions.map(R=>R.category).concat(e(T))),"categories"),G=D(p(()=>e(d).categories),"allCategories"),Q=D(p(()=>e(r).transactions.some(R=>B(R.categoryId,null))),"hasNullCategories"),z=D(p(()=>{const R=new ua;return e(Q)&&R.set("null",{label:"(None)",value:"null",icon:Ja}),e(m)?.filter(F=>B(F.id,void 0,!1)).forEach(F=>{R.set(F.id,{label:F.name||"",value:F.id+"",icon:Ja})}),R}),"categoryOptions"),ae=D(p(()=>{const R=new ua;return e(Q)&&R.set("null",{label:"(None)",value:"null",icon:Ja}),e(G)?.forEach(F=>{R.set(F.id,{label:F.name||"",value:F.id+"",icon:Ja})}),R}),"allCategoryOptions");return t(()=>Ne(c,{get column(){return a.column},title:"Category",get options(){return e(z)},get allOptions(){return e(ae)},get allIcon(){return Ja}}),"component",_o,88,0,{componentTag:"DataTableFacetedFilter"}),at({...nt()})}ho[v]="src/routes/accounts/[id]/(components)/(facets)/data-table-faceted-filter-payee.svelte";function ho(c,a){et(new.target),tt(a,!0,ho);const d=D(p(()=>za.data),"data"),r=D(p(()=>e(d).account),"account"),o=D(p(()=>ba.get().activeView),"activeView"),g=D(p(()=>e(o).view),"activeViewModel"),T=D(p(()=>e(g).getFilterValue(a.column.id)),"selectedValues"),m=D(p(()=>e(r).transactions.map(R=>R.payee).concat(e(T))),"payees"),G=D(p(()=>e(d).payees),"allPayees"),Q=D(p(()=>e(r).transactions.some(R=>B(R.payeeId,null))),"hasNullPayees"),z=D(p(()=>{const R=new ua;return e(Q)&&R.set("null",{label:"(None)",value:"null",icon:Ma}),e(m)?.filter(F=>B(F.id,void 0,!1)).forEach(F=>{R.set(F.id,{label:F.name||"",value:F.id+"",icon:Ma})}),R}),"payeeOptions"),ae=D(p(()=>{const R=new ua;return e(Q)&&R.set("null",{label:"(None)",value:"null",icon:Ma}),e(G)?.forEach(F=>{R.set(F.id,{label:F.name||"",value:F.id+"",icon:Ma})}),R}),"allPayeeOptions");return t(()=>Ne(c,{get column(){return a.column},title:"Payee",get options(){return e(z)},get allOptions(){return e(ae)},get allIcon(){return Ma}}),"component",ho,86,0,{componentTag:"DataTableFacetedFilter"}),at({...nt()})}da[v]="src/lib/components/dialogs/advanced-date-dialog.svelte";var tg=h(y("<!> <!>",1),da[v],[]);function da(c,a){et(new.target),tt(a,!0,da);let d=Ye(a,"dialogOpen",15);const r=G=>{a.onSubmit(G)};var o=L(),g=u(o),T=()=>d(),m=G=>d(G);return t(()=>i(g,()=>nr,(G,Q)=>{Q(G,{get open(){return T()},set open(z){m(z)},children:l(da,(z,ae)=>{var R=L(),F=u(R);t(()=>i(F,()=>or,(ee,E)=>{E(ee,{children:l(da,(J,re)=>{var ne=L(),ye=u(ne);t(()=>i(ye,()=>rr,(_e,ce)=>{ce(_e,{children:l(da,(X,te)=>{var le=tg(),C=u(le);t(()=>i(C,()=>lr,(U,x)=>{x(U,{children:l(da,(_,b)=>{H();var P=K("Custom Date");n(_,P)}),$$slots:{default:!0}})}),"component",da,16,6,{componentTag:"Dialog.Title"});var w=s(C,2);t(()=>i(w,()=>sr,(U,x)=>{x(U,{children:l(da,(_,b)=>{t(()=>Qe(_,{onSubmit:r}),"component",da,18,8,{componentTag:"AdvancedDateInput"})}),$$slots:{default:!0}})}),"component",da,17,6,{componentTag:"Dialog.Description"}),n(X,le)}),$$slots:{default:!0}})}),"component",da,15,4,{componentTag:"Dialog.Header"}),n(J,ne)}),$$slots:{default:!0}})}),"component",da,14,2,{componentTag:"Dialog.Content"}),n(z,R)}),$$slots:{default:!0}})}),"component",da,13,0,{componentTag:"Dialog.Root"}),n(c,o),at({...nt()})}Ra[v]="src/routes/accounts/[id]/(components)/(facets)/data-table-faceted-filter-date.svelte";var ag=h(y("<!> <!>",1),Ra[v],[]);function Ra(c,a){et(new.target),tt(a,!0,Ra);const d=l(Ra,function(E){Ct(...arguments);var J=L(),re=u(J);t(()=>i(re,()=>en,(ne,ye)=>{ye(ne,{onSelect:()=>ie(ae,!0),class:"justify-center text-center",children:l(Ra,(_e,ce)=>{H();var X=K("Custom value");n(_e,X)}),$$slots:{default:!0}})}),"component",Ra,65,2,{componentTag:"Command.Item"}),n(E,J)});let r=Zr.get();const o=D(p(()=>r?.dateFilters),"allDates"),g=D(p(()=>a.column.getFacetedUniqueValues()),"faceted"),T=D(p(()=>ba.get().activeView),"activeView"),m=D(p(()=>e(T).view),"activeViewModel"),G=D(p(()=>e(m).getFilterValue(a.column.id)),"selectedValues"),Q=D(p(()=>{const E=new ua;if(e(o))for(const J of e(o))E.set(J.value,J);if(e(G)&&e(G).size>0)for(const J of e(G))!E.has(J)&&B(typeof J,"string")&&E.set(J,{value:J,label:J,icon:void 0});return E}),"allOptions"),z=D(p(()=>new ua(e(o)?.filter(E=>e(g).has(E.value)).map(E=>[E.value,E]))),"options");let ae=D(Ge(!1),"dialogOpen");var R=ag(),F=u(R);t(()=>Ne(F,{get column(){return a.column},title:"Date",get options(){return e(z)},get allOptions(){return e(Q)},get allIcon(){return ul},get customValueSnippet(){return d}}),"component",Ra,73,0,{componentTag:"DataTableFacetedFilter"});var ee=s(F,2);return t(()=>da(ee,{onSubmit:E=>{r?.add(E),ie(ae,!1)},get dialogOpen(){return e(ae)},set dialogOpen(E){ie(ae,E,!0)}}),"component",Ra,82,0,{componentTag:"AdvancedDateDialog"}),n(c,R),at({...nt()})}mt[v]="src/routes/accounts/[id]/(components)/(facets)/data-table-faceted-filter-amount.svelte";var ng=h(y('<div class="space-y-1 p-2"></div>'),mt[v],[[171,6]]),og=h(y("<!> <!>",1),mt[v],[]),rg=h(y('<div class="grid grid-cols-2 gap-2"><div class="space-y-2"><label for="amount-min" class="text-sm font-medium">Min Amount</label> <!></div> <div class="space-y-2"><label for="amount-max" class="text-sm font-medium">Max Amount</label> <!></div></div>'),mt[v],[[206,10,[[207,12,[[208,14]]],[222,12,[[223,14]]]]]]),lg=h(y('<div class="space-y-2"><label for="amount-value" class="text-sm font-medium">Amount</label> <!></div>'),mt[v],[[239,10,[[240,12]]]]),sg=h(y('<div class="space-y-4 p-4"><!> <div class="flex space-x-2"><!> <!></div></div>'),mt[v],[[204,6,[[256,8]]]]),ig=h(y("<!> <!>",1),mt[v],[]),cg=h(y('<div class="flex"><!> <!> <!> <!></div>'),mt[v],[[153,0]]);function mt(c,a){et(new.target),tt(a,!0,mt);let d=Ye(a,"title",3,"Amount"),r=D(Ge(!1),"operatorOpen"),o=D(Ge(!1),"valueOpen");const g=[{value:"equals",label:"equals"},{value:"greaterThan",label:"greater than"},{value:"lessThan",label:"less than"},{value:"between",label:"between"},{value:"notEquals",label:"not equals"}],T=D(p(()=>ba.get().activeView),"activeView");D(p(()=>e(T).view),"activeViewModel");const m=D(p(()=>a.column.getFilterValue()),"currentFilter");D(p(()=>B(e(m),void 0,!1)),"hasFilter");const G=D(p(()=>()=>e(m)&&g.find(ce=>B(ce.value,e(m).type))||g[0]),"activeOperator"),Q=ce=>{if(e(m)){const X={type:ce.value};a.column.setFilterValue(X)}else a.column.setFilterValue({type:ce.value});ie(r,!1)},z=()=>{a.column.setFilterValue(void 0),ie(o,!1)},ae=ce=>ce?B(ce.type,"between")?B(ce.min,void 0)&&B(ce.max,void 0)?"Select range":B(ce.min,void 0,!1)&&B(ce.max,void 0,!1)?`${Qa.format(ce.min)} - ${Qa.format(ce.max)}`:"Select range":B(ce.value,void 0)?"Select value":Qa.format(ce.value):"Select value";let R=D(Ge(""),"inputValue"),F=D(Ge(""),"rangeMin"),ee=D(Ge(""),"rangeMax");const E=()=>{if(e(m)){if(B(e(m).type,"between")){const ce=parseFloat(e(F)),X=parseFloat(e(ee));if(!isNaN(ce)&&!isNaN(X)){const te={...e(m),min:ce,max:X};console.log(...La("log"," Applying between filter:",te)),a.column.setFilterValue(te)}}else{const ce=parseFloat(e(R));if(!isNaN(ce)){const X={...e(m),value:ce};console.log(...La("log"," Applying single value filter:",X)),a.column.setFilterValue(X)}}ie(o,!1)}};Ut(()=>{e(m)?B(e(m).type,"between")?(ie(F,B(e(m).min,void 0,!1)?e(m).min.toString():"",!0),ie(ee,B(e(m).max,void 0,!1)?e(m).max.toString():"",!0)):ie(R,B(e(m).value,void 0,!1)?e(m).value.toString():"",!0):(ie(R,""),ie(F,""),ie(ee,""))});var J=cg(),re=A(J);t(()=>Xt(re,{variant:"outline",class:"h-8 rounded-r-none",children:l(mt,(ce,X)=>{H();var te=K();xe(()=>Te(te,d())),n(ce,te)}),$$slots:{default:!0}}),"component",mt,154,2,{componentTag:"Badge"});var ne=s(re,2);t(()=>i(ne,()=>fa,(ce,X)=>{X(ce,{get open(){return e(r)},set open(te){ie(r,te,!0)},children:l(mt,(te,le)=>{var C=og(),w=u(C);{const x=l(mt,function(_,b){Ct(...arguments);let P=()=>b?.().props;P(),t(()=>Ke(_,yt(P,{variant:"outline",size:"sm",class:"h-8 rounded-none border-l-0 border-r-0",children:l(mt,(f,W)=>{H();var k=K();xe(q=>Te(k,q),[()=>e(G)().label]),n(f,k)}),$$slots:{default:!0}})),"component",mt,160,8,{componentTag:"Button"})});t(()=>i(w,()=>_a,(_,b)=>{b(_,{child:x,$$slots:{child:!0}})}),"component",mt,158,4,{componentTag:"Popover.Trigger"})}var U=s(w,2);t(()=>i(U,()=>ha,(x,_)=>{_(x,{class:"w-48 p-0",align:"start",children:l(mt,(b,P)=>{var f=ng();t(()=>rt(f,21,()=>g,ut,(W,k)=>{{let q=p(()=>Gt("w-full justify-start",B(e(G)().value,e(k).value)&&"bg-accent"));t(()=>Ke(W,{variant:"ghost",size:"sm",get class(){return e(q)},onclick:()=>Q(e(k)),children:l(mt,(I,N)=>{H();var O=K();xe(()=>Te(O,e(k).label)),n(I,O)}),$$slots:{default:!0}}),"component",mt,173,10,{componentTag:"Button"})}}),"each",mt,172,8),S(f),n(b,f)}),$$slots:{default:!0}})}),"component",mt,170,4,{componentTag:"Popover.Content"}),n(te,C)}),$$slots:{default:!0}})}),"component",mt,157,2,{componentTag:"Popover.Root"});var ye=s(ne,2);t(()=>i(ye,()=>fa,(ce,X)=>{X(ce,{get open(){return e(o)},set open(te){ie(o,te,!0)},children:l(mt,(te,le)=>{var C=ig(),w=u(C);{const x=l(mt,function(_,b){Ct(...arguments);let P=()=>b?.().props;P(),t(()=>Ke(_,yt(P,{variant:"outline",size:"sm",class:"h-8 rounded-none",children:l(mt,(f,W)=>{H();var k=K();xe(q=>Te(k,q),[()=>ae(e(m))]),n(f,k)}),$$slots:{default:!0}})),"component",mt,193,8,{componentTag:"Button"})});t(()=>i(w,()=>_a,(_,b)=>{b(_,{child:x,$$slots:{child:!0}})}),"component",mt,191,4,{componentTag:"Popover.Trigger"})}var U=s(w,2);t(()=>i(U,()=>ha,(x,_)=>{_(x,{class:"w-80",align:"start",children:l(mt,(b,P)=>{var f=sg(),W=A(f);{var k=Y=>{var $=rg(),V=A($),M=s(A(V),2);t(()=>Dt(M,{id:"amount-min",type:"number",step:"0.01",placeholder:"0.00",onkeydown:Z=>{B(Z.key,"Enter")&&E()},get value(){return e(F)},set value(Z){ie(F,Z,!0)}}),"component",mt,209,14,{componentTag:"Input"}),S(V);var oe=s(V,2),ue=s(A(oe),2);t(()=>Dt(ue,{id:"amount-max",type:"number",step:"0.01",placeholder:"100.00",onkeydown:Z=>{B(Z.key,"Enter")&&E()},get value(){return e(ee)},set value(Z){ie(ee,Z,!0)}}),"component",mt,224,14,{componentTag:"Input"}),S(oe),S($),n(Y,$)},q=Y=>{var $=lg(),V=s(A($),2);t(()=>Dt(V,{id:"amount-value",type:"number",step:"0.01",placeholder:"0.00",onkeydown:M=>{B(M.key,"Enter")&&E()},get value(){return e(R)},set value(M){ie(R,M,!0)}}),"component",mt,241,12,{componentTag:"Input"}),S($),n(Y,$)};t(()=>pe(W,Y=>{B(e(m)?.type,"between")?Y(k):Y(q,!1)}),"if",mt,205,8)}var I=s(W,2),N=A(I);t(()=>Ke(N,{size:"sm",onclick:E,children:l(mt,(Y,$)=>{H();var V=K("Apply");n(Y,V)}),$$slots:{default:!0}}),"component",mt,257,10,{componentTag:"Button"});var O=s(N,2);t(()=>Ke(O,{variant:"outline",size:"sm",onclick:z,children:l(mt,(Y,$)=>{H();var V=K("Clear");n(Y,V)}),$$slots:{default:!0}}),"component",mt,260,10,{componentTag:"Button"}),S(I),S(f),n(b,f)}),$$slots:{default:!0}})}),"component",mt,203,4,{componentTag:"Popover.Content"}),n(te,C)}),$$slots:{default:!0}})}),"component",mt,190,2,{componentTag:"Popover.Root"});var _e=s(ye,2);return t(()=>Ke(_e,{variant:"outline",size:"sm",class:"h-8 rounded-l-none border-l-0 p-2",onclick:z,children:l(mt,(ce,X)=>{t(()=>vo(ce,{class:"h-4 w-4"}),"component",mt,275,4,{componentTag:"X"})}),$$slots:{default:!0}}),"component",mt,269,2,{componentTag:"Button"}),S(J),n(c,J),at({...nt()})}const _g=(c,a,d)=>{const r=(o,g,T,m=G=>G)=>d(o.row.original.id,g,m(T));return[{id:"select-col",header:({table:o})=>Rt(Pn,{checked:o.getIsAllPageRowsSelected(),indeterminate:o.getIsSomePageRowsSelected()&&!o.getIsAllPageRowsSelected(),onCheckedChange:g=>o.toggleAllPageRowsSelected(!!g),controlledChecked:!0,"aria-label":"Select all"}),cell:({row:o})=>Rt(Pn,{checked:o.getIsSelected(),disabled:!o.getCanSelect(),onCheckedChange:g=>o.toggleSelected(!!g),controlledChecked:!0,"aria-label":"Select row"}),aggregatedCell:({row:o})=>Rt(Pn,{checked:o.getIsSelected(),disabled:!o.getCanSelect(),onCheckedChange:g=>o.toggleSelected(!!g),controlledChecked:!0,"aria-label":"Select row"}),enableColumnFilter:!1,enableGrouping:!1,enableSorting:!1,enableHiding:!1},{id:"expand-contract-col",header:({table:o})=>o.getCanSomeRowsExpand()?Rt(Ir,{checked:o.getIsAllRowsExpanded(),onCheckedChange:o.getToggleAllRowsExpandedHandler(),controlledChecked:!0,"aria-label":"Expand/contract all"}):"",aggregatedCell:({row:o})=>o.getCanExpand()?Rt(Ir,{checked:o.getIsExpanded(),disabled:!o.getCanExpand(),onCheckedChange:o.getToggleExpandedHandler(),controlledChecked:!0,"aria-label":"Expand/contract row"}):"",enableColumnFilter:!1,enableGrouping:!1,enableSorting:!1,enableHiding:!1},{accessorKey:"id",cell:o=>o.getValue(),aggregatedCell:()=>{},header:({column:o})=>Rt(dt,{column:o,title:"ID"}),sortingFn:"alphanumeric",enableColumnFilter:!1,enableGrouping:!1,meta:{label:"ID"}},{accessorKey:"date",id:"date",cell:o=>Rt(go,{value:o.getValue(),onUpdateValue:g=>r(o,"date",g,T=>T&&B(typeof T,"object")&&"toString"in T?T.toString():T)}),aggregatedCell:()=>{},header:({column:o})=>Rt(dt,{title:"Date",column:o}),sortingFn:(o,g)=>{const T=o.getValue("date"),m=g.getValue("date");return!T||!m?0:T.compare(m)},filterFn:"dateAfter",meta:{label:"Date",facetedFilter:o=>({name:"Date",icon:mo,column:o,component:()=>Rt(Ra,{column:o})}),availableFilters:[{id:"dateIn",label:"in"},{id:"dateBefore",label:"before"},{id:"dateAfter",label:"after"}]}},{accessorKey:"payeeId",id:"payee",cell:o=>Rt(kn,{value:a.getById(o.getValue()),entityLabel:"payee",onUpdateValue:g=>r(o,"payeeId",g),entities:a.all,icon:Ma,management:{enable:!0,component:st,onSave:(g,T)=>{T?a.addPayee(g):a.updatePayee(g)},onDelete:g=>{a.deletePayee(g)}}}),aggregatedCell:()=>{},header:({column:o})=>Rt(dt,{column:o,title:"Payee"}),sortingFn:(o,g)=>Sr(a.getById(o.getValue("payee"))?.name||"",a.getById(g.getValue("payee"))?.name||""),enableColumnFilter:!0,filterFn:"entityIsFilter",meta:{label:"Payee",facetedFilter:(o,g)=>({name:"Payee",icon:Ma,column:o,value:g,component:()=>Rt(ho,{column:o})}),availableFilters:[{id:"entityIsFilter",label:"is"},{id:"entityIsNotFilter",label:"is not"}]}},{accessorKey:"notes",id:"notes",cell:o=>Rt(Kt,{value:o.getValue(),onUpdateValue:g=>d(o.row.original.id,"notes",g)}),aggregatedCell:()=>{},header:({column:o})=>Rt(dt,{column:o,title:"Notes"}),enableSorting:!1,enableGrouping:!1,meta:{label:"Notes"}},{accessorKey:"categoryId",id:"category",cell:o=>Rt(kn,{value:c.getById(o.getValue()),entityLabel:"category",onUpdateValue:g=>r(o,"categoryId",g),entities:c.all,icon:Ja,management:{enable:!0,component:it,onSave:(g,T)=>{T?c.addCategory(g):c.updateCategory(g)},onDelete:g=>{c.deleteCategory(g)}}}),aggregatedCell:()=>{},header:({column:o})=>Rt(dt,{column:o,title:"Category"}),sortingFn:(o,g)=>Sr(c.getById(o.getValue("category"))?.name||"",c.getById(g.getValue("category"))?.name||""),filterFn:"entityIsFilter",meta:{label:"Category",facetedFilter:o=>({name:"Category",icon:Ja,column:o,component:()=>Rt(_o,{column:o})}),availableFilters:[{id:"entityIsFilter",label:"is"},{id:"entityIsNotFilter",label:"is not"}]}},{accessorKey:"amount",id:"amount",cell:o=>Rt(po,{value:o.getValue(),onUpdateValue:g=>r(o,"amount",g)}),aggregatedCell:o=>{const g=o.getValue();return Qa.format(isNaN(g)?0:g??0)},header:({column:o})=>Rt(dt,{column:o,title:"Amount"}),sortingFn:(o,g)=>(o.getValue("amount")||0)-(g.getValue("amount")||0),enableGrouping:!1,enableColumnFilter:!0,filterFn:"amountFilter",meta:{label:"Amount",facetedFilter:o=>({name:"Amount",icon:js,column:o,component:()=>Rt(mt,{column:o,title:"Amount"})}),availableFilters:[{id:"amountFilter",label:"amount"}]}},{accessorKey:"balance",id:"balance",header:({column:o})=>Rt(dt,{column:o,title:"Balance"}),cell:o=>{const g=o.getValue();return Qa.format(isNaN(g)?0:g??0)},aggregatedCell:o=>{const g=o.getValue();return Qa.format(isNaN(g)?0:g??0)},enableColumnFilter:!1,enableGrouping:!1,enableSorting:!1,meta:{label:"Balance"}},{accessorKey:"status",id:"status",cell:o=>Rt(Pa,{value:o.getValue(),onUpdateValue:g=>r(o,"status",g)}),aggregatedCell:()=>{},header:"",filterFn:"equalsString",meta:{label:"Status",facetedFilter:(o,g)=>({name:"Status",icon:dl,column:o,value:g,component:()=>Rt(fo,{column:o})}),availableFilters:[{id:"equalsString",label:"is"},{id:"doesntEqualString",label:"is not"}]}},{id:"actions",accessorFn:o=>o.id,aggregatedCell:()=>{},header:"",cell:o=>Rt(jt,{id:o.getValue()}),enableColumnFilter:!1,enableSorting:!1,enableGrouping:!1,enableHiding:!1}]};export{aa as A,qt as D,Se as T,vt as U,na as a,je as b,_g as c,xt as d,Nt as e};
