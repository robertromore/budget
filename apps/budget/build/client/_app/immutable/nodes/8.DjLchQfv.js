import{a as m,b as $,p as ve,g as a,s as g,i as d,l as ie,z as tt,A as at,u as fe,d as je,ac as He,cM as nt,G as K,H as C,I as j,J as p,a4 as Te,T as O,V as ue,X as re,N as T,K as ee,Y as ye,U as Je,M as Ce,O as ot,P as st,j as N,a9 as Me,$ as J,a0 as U,a2 as H}from"../chunks/CglMtoSz.js";import{B as ze,J as rt,K as it,M as Ae,N as Ee}from"../chunks/D3gtaW12.js";import{r as ct,P as lt,t as dt}from"../chunks/BMuJlwvQ.js";import{g as Le,h as ut,f as gt,Z as Ye,a6 as pt,j as mt,a7 as ht,a8 as ft,a9 as yt,T as vt,$ as bt,P as St}from"../chunks/D2V3TrCl.js";import{T as Tt,c as wt,b as _t,d as $t,e as xt}from"../chunks/C0BpSEqy.js";import{e as Ke}from"../chunks/BFKdG0ZG.js";import"../chunks/KFa1jneB.js";const we=[{id:"balance",type:"balance",title:"Balance",enabled:!0,position:0,size:"small",settings:{}},{id:"transaction-count",type:"transaction-count",title:"Transactions",enabled:!0,position:1,size:"small",settings:{}},{id:"monthly-cashflow",type:"monthly-cashflow",title:"This Month",enabled:!0,position:2,size:"small",settings:{}},{id:"recent-activity",type:"recent-activity",title:"Recent Activity",enabled:!0,position:3,size:"small",settings:{days:30}},{id:"pending-balance",type:"pending-balance",title:"Pending",enabled:!0,position:4,size:"small",settings:{}},{id:"category-pie-chart",type:"category-pie-chart",title:"Category Breakdown",enabled:!0,position:5,size:"medium",settings:{period:"month",chartType:"pie"}}],Ue={balance:{type:"balance",name:"Account Balance",description:"Current account balance",icon:bt,defaultSize:"small",availableSizes:["small","medium","large"],defaultSettings:{},configurable:!1},"transaction-count":{type:"transaction-count",name:"Transaction Count",description:"Total number of transactions",icon:Le,defaultSize:"small",availableSizes:["small","medium"],defaultSettings:{},configurable:!1},"monthly-cashflow":{type:"monthly-cashflow",name:"Monthly Cash Flow",description:"Net income/expenses for current month",icon:vt,defaultSize:"small",availableSizes:["small","medium","large"],defaultSettings:{},configurable:!1},"recent-activity":{type:"recent-activity",name:"Recent Activity",description:"Transaction activity in recent period",icon:Ye,defaultSize:"small",availableSizes:["small","medium"],defaultSettings:{days:30},configurable:!0},"pending-balance":{type:"pending-balance",name:"Pending Balance",description:"Total amount of uncleared transactions",icon:yt,defaultSize:"small",availableSizes:["small","medium"],defaultSettings:{},configurable:!1},"top-categories":{type:"top-categories",name:"Top Categories",description:"Highest spending categories",icon:ft,defaultSize:"medium",availableSizes:["medium","large"],defaultSettings:{limit:5,period:"month"},configurable:!0},"spending-trend":{type:"spending-trend",name:"Spending Trend",description:"Spending pattern over time",icon:ht,defaultSize:"large",availableSizes:["medium","large"],defaultSettings:{period:"month",showAverage:!0},configurable:!0},"monthly-comparison":{type:"monthly-comparison",name:"Monthly Comparison",description:"Compare current month to previous months",icon:mt,defaultSize:"medium",availableSizes:["medium","large"],defaultSettings:{compareMonths:3},configurable:!0},"account-health":{type:"account-health",name:"Account Health",description:"Overall account health score",icon:pt,defaultSize:"medium",availableSizes:["small","medium"],defaultSettings:{},configurable:!1},"quick-stats":{type:"quick-stats",name:"Quick Stats",description:"Key financial metrics at a glance",icon:Ye,defaultSize:"large",availableSizes:["medium","large"],defaultSettings:{metrics:["avgTransaction","highestExpense","lastActivity"]},configurable:!0},"balance-trend-chart":{type:"balance-trend-chart",name:"Balance Trend Chart",description:"Balance changes over time",icon:gt,defaultSize:"large",availableSizes:["medium","large"],defaultSettings:{period:"day",chartType:"line"},configurable:!0},"category-pie-chart":{type:"category-pie-chart",name:"Category Pie Chart",description:"Spending breakdown by category",icon:ut,defaultSize:"medium",availableSizes:["medium","large"],defaultSettings:{period:"month",chartType:"pie"},configurable:!0},"income-expenses-chart":{type:"income-expenses-chart",name:"Income vs Expenses Chart",description:"Income and expenses comparison over time",icon:Le,defaultSize:"large",availableSizes:["medium","large"],defaultSettings:{period:"month",chartType:"bar"},configurable:!0}},Qe="account-dashboard-widgets";class Dt{#e=m($(ve([...we])),"WidgetStore.widgets");get widgets(){return a(this.#e)}set widgets(r){g(this.#e,r,!0)}#t=m($(!1),"WidgetStore.editMode");get editMode(){return a(this.#t)}set editMode(r){g(this.#t,r,!0)}constructor(){setTimeout(()=>this.loadFromStorage(),0)}get allWidgets(){return this.widgets}get enabledWidgets(){return this.widgets.filter(r=>r.enabled).sort((r,t)=>r.position-t.position)}get isEditMode(){return this.editMode}get availableWidgets(){const r=new Set(this.widgets.filter(t=>t.enabled).map(t=>t.type));return Object.values(Ue).filter(t=>!r.has(t.type))}toggleEditMode(){this.editMode=!this.editMode}addWidget(r,t){const l=Ue[r];if(!l)return;const x={id:`${r}-${Date.now()}`,type:l.type,title:l.name,enabled:!0,position:this.widgets.length,size:l.defaultSize,settings:{...l.defaultSettings},...t};this.widgets.push(x),this.saveToStorage()}removeWidget(r){this.widgets=this.widgets.filter(t=>d(t.id,r,!1)),this.reorderPositions(),this.saveToStorage()}toggleWidget(r){const t=this.widgets.find(l=>d(l.id,r));t&&(t.enabled=!t.enabled,t.enabled&&(t.position=this.enabledWidgets.length),this.reorderPositions(),this.saveToStorage())}updateWidget(r,t){const l=this.widgets.find(x=>d(x.id,r));l&&(Object.assign(l,t),this.saveToStorage())}reorderWidgets(r){r.forEach((t,l)=>{const x=this.widgets.find(Q=>d(Q.id,t));x&&(x.position=l)}),this.saveToStorage()}resetToDefaults(){this.widgets=[...we],this.saveToStorage()}reorderPositions(){this.widgets.filter(t=>t.enabled).sort((t,l)=>t.position-l.position).forEach((t,l)=>{t.position=l})}saveToStorage(){try{localStorage.setItem(Qe,JSON.stringify(this.widgets))}catch(r){console.warn(...ie("warn","Failed to save widget configuration:",r))}}loadFromStorage(){try{const r=localStorage.getItem(Qe);if(r){const t=JSON.parse(r);this.widgets=this.mergeWithDefaults(t)}}catch(r){console.warn(...ie("warn","Failed to load widget configuration:",r)),this.widgets=[...we]}}mergeWithDefaults(r){const t=[...r];return we.forEach(l=>{t.find(x=>d(x.type,l.type))||(console.log(`[Widget Store] Adding new default widget: ${l.type}`),t.push({...l}))}),console.log(...ie("log",`[Widget Store] Loaded ${t.length} widgets:`,t.map(l=>`${l.type}(${l.enabled})`))),t}calculateWidgetData(r,t,l){const x=new Date,Q=x.getMonth(),M=x.getFullYear();let q=0,te=0,ge=0;const R={},v={};t.forEach(n=>{const s=new Date(d(typeof n.date,"string")?n.date:n.date.toString()),h=n.amount||0;d(s.getMonth(),Q)&&d(s.getFullYear(),M)&&(q+=h),d(n.status,"pending")&&(te+=h),(x.getTime()-s.getTime())/(1e3*60*60*24)<=30&&(ge+=Math.abs(h)),n.category?.name&&(R[n.category.name]=(R[n.category.name]||0)+Math.abs(h));const w=`${s.getFullYear()}-${s.getMonth()}`;v[w]=(v[w]||0)+h});const G=["hsl(220, 91%, 60%)","hsl(142, 71%, 45%)","hsl(350, 89%, 60%)","hsl(262, 83%, 58%)","hsl(25, 95%, 53%)","hsl(175, 85%, 45%)","hsl(48, 94%, 68%)","hsl(343, 75%, 68%)"],Z=Object.entries(R).sort(([,n],[,s])=>s-n).slice(0,8).map(([n,s],h)=>({name:n,amount:s,color:G[h%G.length]})),ae=[];for(let n=5;n>=0;n--){const s=new Date(M,Q-n,1),h=`${s.getFullYear()}-${s.getMonth()}`,f=Math.abs(v[h]||0);ae.push({label:s.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),amount:f})}const ne=[];for(let n=2;n>=0;n--){const s=new Date(M,Q-n,1);`${s.getFullYear()}${s.getMonth()}`;let h=0,f=0;t.forEach(w=>{const X=new Date(d(typeof w.date,"string")?w.date:w.date.toString());if(d(X.getMonth(),s.getMonth())&&d(X.getFullYear(),s.getFullYear())){const he=w.amount||0;he>0?h+=he:f+=Math.abs(he)}}),ne.push({period:s.toLocaleDateString("en-US",{month:"short"}),income:h,expenses:f})}const z=[],be=l?.balance??0,A=[...t].sort((n,s)=>{const h=new Date(d(typeof n.date,"string")?n.date:n.date.toString()),f=new Date(d(typeof s.date,"string")?s.date:s.date.toString());return h.getTime()-f.getTime()});let D=be;const ce=new Date;ce.setDate(ce.getDate()-30),A.forEach(n=>{new Date(d(typeof n.date,"string")?n.date:n.date.toString())>=ce&&(D-=n.amount||0)});let pe=D;for(let n=29;n>=0;n--){const s=new Date;s.setDate(s.getDate()-n);const f=A.filter(w=>{const X=new Date(d(typeof w.date,"string")?w.date:w.date.toString());return d(X.toDateString(),s.toDateString())}).reduce((w,X)=>w+(X.amount||0),0);pe+=f,z.push({date:s.toISOString(),balance:pe})}const _e=t.slice(0,10).map(n=>({...n,date:d(typeof n.date,"string")?n.date:n.date.toString(),amount:n.amount||0,description:n.description||n.account?.name||"Transaction"})),$e={score:Math.min(100,Math.max(0,70+(q>0?20:-20)+(d(te,0)?10:-10)+(t.length>0?0:-30))),factors:[q>0?{type:"positive",description:"Positive monthly cash flow"}:{type:"negative",description:"Negative monthly cash flow"},d(te,0)?{type:"positive",description:"No pending transactions"}:{type:"warning",description:`$${Math.abs(te).toFixed(2)} in pending transactions`},ge>0?{type:"positive",description:"Active account usage"}:{type:"warning",description:"Low account activity"}]},me={avgTransaction:t.length>0?q/t.length:0,avgTransactionTrend:0,highestExpense:Math.max(...t.map(n=>Math.abs(n.amount||0)),0),totalIncome:t.filter(n=>(n.amount||0)>0).reduce((n,s)=>n+s.amount,0),incomeTrend:0,totalExpenses:Math.abs(t.filter(n=>(n.amount||0)<0).reduce((n,s)=>n+s.amount,0)),expensesTrend:0,lastActivity:t.length>0?new Date(t[0]?.date).toLocaleDateString():"No activity"},le=[];for(let n=2;n>=0;n--){const s=new Date(M,Q-n,1),h=`${s.getFullYear()}-${s.getMonth()}`,f=Math.abs(v[h]||0);le.push({name:s.toLocaleDateString("en-US",{month:"long"}),spending:f})}return{balance:l?.balance??0,previousBalance:(l?.balance??0)-q,accounts:{"Main Account":l?.balance??0},transactionCount:t.length,monthlyCashFlow:q,pendingBalance:te,recentActivity:ge,recentTransactions:_e,topCategories:Z,monthlyTrends:v,spendingTrend:ae,incomeExpenses:ne,categoryBreakdown:Z,balanceHistory:z,accountHealth:$e,quickStats:me,monthlyComparison:le}}}new Dt;o[J]="src/routes/accounts/[id]/+page.svelte";var It=K(U('<div class="flex items-center space-x-2 mr-4 px-3 py-1 bg-blue-50 border border-blue-200 rounded-md"><span class="text-sm text-blue-700"> </span> <!> <!></div>'),o[J],[[334,8,[[335,10]]]]),Ct=K(U("<!> Add Transaction",1),o[J],[]),Mt=K(U('<div class="rounded-lg border border-red-200 bg-red-50 p-4"><div class="flex items-center space-x-2"><div class="text-red-600">⚠️</div> <div class="text-red-800 font-medium">Error loading account data</div></div> <p class="mt-2 text-red-700"> </p></div>'),o[J],[[369,4,[[370,6,[[371,8],[372,8]]],[374,6]]]]),zt=K(U("<!> <!> <!>",1),o[J],[]),At=K(U('<div class="rounded-lg border border-blue-200 bg-blue-50 p-6"><div class="flex items-center gap-3 mb-4"><div class="w-4 h-4 bg-blue-500 rounded-full"></div> <h2 class="text-lg font-semibold text-blue-900">Dashboard Temporarily Disabled</h2></div> <p class="text-blue-800 mb-3">Widget dashboard is currently disabled for focused testing of the monthly spending trends chart.</p> <p class="text-blue-700 text-sm">Switch to the <strong>Analytics</strong> tab to test the isolated monthly spending chart functionality.</p></div>'),o[J],[[388,6,[[389,8,[[390,10],[391,10]]],[393,8],[396,8,[[397,24]]]]]]),Et=K(U("<!> <!>",1),o[J],[]),Pt=K(U('<div class="space-y-4"><div class="flex items-center justify-between"><div class="h-8 w-48 bg-muted animate-pulse rounded"></div> <div class="h-10 w-64 bg-muted animate-pulse rounded"></div></div> <div class="h-[400px] bg-muted animate-pulse rounded-lg"></div></div>'),o[J],[[440,8,[[441,10,[[442,12],[443,12]]],[445,10]]]]),Ft=K(U("<!> <!> <!> <!>",1),o[J],[]),Ot=K(U('<div class="space-y-6"><div class="flex items-center justify-between"><div><div class="flex items-center gap-2"><h1 class="text-2xl font-bold tracking-tight"> </h1> <div class="w-3 h-3 bg-green-500 rounded-full" title="Active account"></div></div></div> <div class="flex items-center space-x-2"><!> <!></div></div> <!> <!> <!></div>'),o[J],[[318,0,[[320,2,[[321,4,[[322,6,[[323,8],[326,8]]]]],[331,4]]]]]]);function o(Pe,r){tt(new.target),at(r,!0,o);const t=m(fe(()=>r.data.accountId),"accountId");let l=m($("dashboard"),"activeTab");const x=5e3,Q=30*1e3,M=new Map,q=(e,i)=>i?`${e}?${JSON.stringify(i)}`:e,te=e=>{const i=M.get(e);return i&&Date.now()-i.timestamp<Q?i.data:null},ge=(e,i)=>{if(M.set(e,{data:i,timestamp:Date.now()}),M.size>50){const c=M.keys().next().value;c&&M.delete(c)}};let R=m($(void 0),"account"),v=m($(ve([])),"transactions"),G=m($(!1),"isLoading"),Z=m($(void 0),"error"),ae=m($(void 0),"summary"),ne=m($(!0),"useClientSideTable"),z=m($(void 0),"table"),be=m($(void 0),"serverAccountState"),A=je(ve({page:0,pageSize:50,totalCount:0,totalPages:0}),"pagination"),D=je(ve({searchQuery:"",sortBy:"date",sortOrder:"desc",dateFrom:void 0,dateTo:void 0}),"filters");const ce=ct.get(),pe=lt.get(),_e=m(fe(()=>ce?.all||[]),"categories"),$e=m(fe(()=>pe?.all||[]),"payees");let me=m($(!1),"addTransactionDialogOpen"),le=m($(!1),"bulkDeleteDialogOpen"),n=m($(ve([])),"selectedTransactionIds");const s=m(fe(()=>a(v)?.length?a(v).map(e=>{const c=(d(typeof e.date,"string")?e.date:e.date.toString()).split("T")[0];return{id:e.id??"",date:Ke(c),amount:e.amount,notes:e.notes,status:e.status,accountId:a(t),payeeId:e.payee?.id||null,payee:e.payee||null,categoryId:e.category?.id||null,category:e.category||null,parentId:null,balance:e.balance||null}}):[]),"formattedTransactions"),h=m(fe(()=>()=>a(v)?.length?a(v).map(e=>({id:e.id,date:d(typeof e.date,"string")?e.date:e.date.toString(),amount:e.amount,notes:e.notes||"",status:e.status,payee:e.payee,category:e.category})):[]),"simpleFormatted");He(()=>{if(a(t)){const e=new dt(a(t));e.initializeWithServerData({id:a(t),name:`Account ${a(t)}`,slug:"",type:"",balance:0,transactionCount:0},{transactions:[],pagination:{page:0,pageSize:50,totalCount:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}}),g(be,e,!0)}});async function f(){if(!d(typeof window,"undefined"))try{g(G,!0);const e=Number(a(t));if(isNaN(e))throw new Error(`Invalid account ID: ${a(t)}`);const i=q("serverAccountsRoutes.loadSummary",{id:e});let c=te(i);if(!c){const I=(await N(fetch(`/trpc/serverAccountsRoutes.loadSummary?input=${encodeURIComponent(JSON.stringify({id:e}))}`)))();if(!I.ok)throw new Error(`Failed to load summary: HTTP ${I.status}`);const W=(await N(I.text()))();if(!W.trim())throw new Error("Empty response from server");const L=JSON.parse(W);c=L.result?.data||L,ge(i,c)}g(ae,{balance:c?.balance||0,transactionCount:c?.transactionCount||0},!0),g(ne,(c?.transactionCount||0)<=x);const u=(await N(fetch(`/trpc/accountRoutes.load?input=${encodeURIComponent(JSON.stringify({id:e}))}`)))();if(!u.ok)throw new Error(`Failed to load account: HTTP ${u.status}`);const S=(await N(u.text()))();if(!S.trim())throw new Error("Empty account response");const b=JSON.parse(S),y=b.result?.data||b;g(R,{id:y.id,name:y.name},!0);const _={accountId:e,page:a(ne)?0:A.page,pageSize:a(ne)?100:A.pageSize,sortBy:D.sortBy,sortOrder:D.sortOrder};D.searchQuery&&(_.searchQuery=D.searchQuery),D.dateFrom&&(_.dateFrom=D.dateFrom),D.dateTo&&(_.dateTo=D.dateTo);const E=(await N(fetch(`/trpc/serverAccountsRoutes.loadTransactions?input=${encodeURIComponent(JSON.stringify(_))}`)))();if(!E.ok)throw new Error(`Failed to load transactions: HTTP ${E.status}`);const P=(await N(E.text()))();if(!P.trim())throw new Error("Empty transactions response");const k=JSON.parse(P),B=k.result?.data||k;g(v,B?.transactions||[],!0);const de=B?.pagination;A.totalCount=de?.totalCount||0,A.totalPages=de?.totalPages||Math.ceil(A.totalCount/A.pageSize),g(Z,void 0)}catch(e){console.error(...ie("error","❌ Failed to load account data:",e)),console.error(...ie("error","Error details:",e?.message,e?.stack)),g(Z,e?.message||"Failed to load account data",!0),g(v,[],!0),g(R,void 0)}finally{g(G,!1)}}const w=async e=>{if(a(R)?.id)try{const i=(await N(fetch("/trpc/transactionRoutes.save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({0:{json:{accountId:Number(a(R).id),amount:e.amount,date:e.date,notes:e.notes||null,payeeId:e.payeeId,categoryId:e.categoryId,status:e.status}}})})))();if(!i.ok)throw new Error(`Failed to create transaction: HTTP ${i.status}`);const c=(await N(i.text()))();if(!c.trim())throw new Error("Empty response when creating transaction");const u=JSON.parse(c),S=u[0]?.result?.data||u[0]?.result;if(S){const b={...S,date:d(typeof S.date,"string")?Ke(S.date):S.date,balance:null};g(v,[b,...a(v)],!0),a(ae)&&(a(ae).balance+=S.amount,a(ae).transactionCount+=1),M.clear()}}catch(i){throw console.error(...ie("error","❌ Failed to create transaction:",i)),i}},X=e=>{D.searchQuery=e,A.page=0,f()},he=async(e,i,c)=>{try{const u=a(v).find(P=>d(P.id,e));if(!u)return;const b={payee:"payeeId",category:"categoryId",date:"date",amount:"amount",notes:"notes",status:"status"}[i]||i,y={id:e,accountId:Number(u.accountId||a(t)),amount:Number(u.amount),date:u.date,notes:u.notes||null,payeeId:u.payee?.id?Number(u.payee.id):null,categoryId:u.category?.id?Number(u.category.id):null,status:u.status||"pending"};d(b,"payeeId")||d(b,"categoryId")||d(b,"accountId")?y[b]=c?Number(c):null:d(b,"amount")?y[b]=Number(c):y[b]=c;const _=(await N(fetch(`/accounts/${a(t)}/api/update-transaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})))();if(!_.ok)throw new Error(`Failed to update transaction: HTTP ${_.status}`);const E=(await N(_.json()))();if(!E.success)throw new Error(E.error||"Failed to update transaction");M.clear(),(await N(f()))()}catch(u){console.error(...ie("error","❌ Failed to update transaction:",u)),g(Z,u?.message||"Failed to update transaction",!0)}};let Fe=m($(void 0),"previousAccountId");nt(()=>f()),He(()=>{a(t)&&d(a(t),a(Fe),!1)&&(A.page=0,D.searchQuery="",g(Fe,a(t),!0),f())});var xe=Ot(),De=j(xe),Ie=j(De),Oe=j(Ie),Ne=j(Oe),qe=j(Ne,!0);H(Ne),re(2),H(Oe),H(Ie);var Re=C(Ie,2),ke=j(Re);{var Ge=e=>{var i=It(),c=j(i),u=j(c);H(c);var S=C(c,2);p(()=>ze(S,{size:"sm",variant:"destructive",onclick:()=>{if(!a(z))return;const y=Object.keys(a(z).getSelectedRowModel().rowsById);g(n,y.map(_=>parseInt(_)),!0),g(le,!0)},children:O(o,(y,_)=>{re();var E=ye("Delete Selected");T(y,E)}),$$slots:{default:!0}}),"component",o,338,10,{componentTag:"Button"});var b=C(S,2);p(()=>ze(b,{size:"sm",variant:"outline",onclick:()=>a(z)?.resetRowSelection(),children:O(o,(y,_)=>{re();var E=ye("Clear Selection");T(y,E)}),$$slots:{default:!0}}),"component",o,350,10,{componentTag:"Button"}),H(i),Ce(y=>Me(u,`${y??""} selected`),[()=>Object.keys(a(z).getSelectedRowModel().rowsById).length]),T(e,i)};p(()=>Te(ke,e=>{a(z)&&Object.keys(a(z).getSelectedRowModel().rowsById).length>0&&e(Ge)}),"if",o,333,6)}var Ze=C(ke,2);p(()=>ze(Ze,{onclick:()=>g(me,!0),children:O(o,(e,i)=>{var c=Ct(),u=ue(c);p(()=>St(u,{class:"h-4 w-4 mr-2"}),"component",o,361,8,{componentTag:"Plus"}),re(),T(e,c)}),$$slots:{default:!0}}),"component",o,360,6,{componentTag:"Button"}),H(Re),H(De);var Be=C(De,2);{var Xe=e=>{var i=Mt(),c=C(j(i),2),u=j(c,!0);H(c),H(i),Ce(()=>Me(u,a(Z))),T(e,i)};p(()=>Te(Be,e=>{a(Z)&&e(Xe)}),"if",o,368,2)}var We=C(Be,2);p(()=>ee(We,()=>rt,(e,i)=>{i(e,{class:"w-full mb-1",get value(){return a(l)},set value(c){g(l,c,!0)},children:O(o,(c,u)=>{var S=Ft(),b=ue(S);p(()=>ee(b,()=>it,(P,k)=>{k(P,{class:"inline-flex h-11",children:O(o,(B,de)=>{var I=zt(),W=ue(I);p(()=>ee(W,()=>Ae,(F,V)=>{V(F,{value:"dashboard",class:"px-6 font-medium",children:O(o,(se,Se)=>{re();var Y=ye("Dashboard");T(se,Y)}),$$slots:{default:!0}})}),"component",o,381,6,{componentTag:"Tabs.Trigger"});var L=C(W,2);p(()=>ee(L,()=>Ae,(F,V)=>{V(F,{value:"transactions",class:"px-6 font-medium",children:O(o,(se,Se)=>{re();var Y=ye("Transactions");T(se,Y)}),$$slots:{default:!0}})}),"component",o,382,6,{componentTag:"Tabs.Trigger"});var oe=C(L,2);p(()=>ee(oe,()=>Ae,(F,V)=>{V(F,{value:"analytics",class:"px-6 font-medium",children:O(o,(se,Se)=>{re();var Y=ye("Analytics");T(se,Y)}),$$slots:{default:!0}})}),"component",o,383,6,{componentTag:"Tabs.Trigger"}),T(B,I)}),$$slots:{default:!0}})}),"component",o,380,4,{componentTag:"Tabs.List"});var y=C(b,2);p(()=>ee(y,()=>Ee,(P,k)=>{k(P,{value:"dashboard",class:"space-y-4",children:O(o,(B,de)=>{var I=At();T(B,I)}),$$slots:{default:!0}})}),"component",o,387,4,{componentTag:"Tabs.Content"});var _=C(y,2);p(()=>ee(_,()=>Ee,(P,k)=>{k(P,{value:"transactions",class:"space-y-4",children:O(o,(B,de)=>{var I=Et(),W=ue(I);p(()=>Tt(W,{get isLoading(){return a(G)},get useClientSideTable(){return a(ne)},get transactions(){return a(v)},get filters(){return D},get pagination(){return A},get serverAccountState(){return a(be)},get accountId(){return a(t)},get categoriesState(){return ce},get payeesState(){return pe},get views(){return r.data.views},get columns(){return wt},get formattedTransactions(){return a(s)},get simpleFormatted(){return a(h)},updateTransactionData:he,searchTransactions:X,loadData:f,get table(){return a(z)},set table(oe){g(z,oe,!0)}}),"component",o,404,6,{componentTag:"TransactionTableContainer"});var L=C(W,2);p(()=>_t(L,{get account(){return a(R)},get payees(){return a($e)},get categories(){return a(_e)},onSubmit:w,get open(){return a(me)},set open(oe){g(me,oe,!0)}}),"component",o,425,6,{componentTag:"AddTransactionDialog"}),T(B,I)}),$$slots:{default:!0}})}),"component",o,403,4,{componentTag:"Tabs.Content"});var E=C(_,2);p(()=>ee(E,()=>Ee,(P,k)=>{k(P,{value:"analytics",class:"space-y-4",children:O(o,(B,de)=>{var I=Je(),W=ue(I);{var L=F=>{p(()=>$t(F,{get transactions(){return a(s)},get accountId(){return a(t)}}),"component",o,437,8,{componentTag:"AnalyticsDashboard"})},oe=F=>{var V=Je(),se=ue(V);{var Se=Y=>{var et=Pt();T(Y,et)};p(()=>Te(se,Y=>{a(G)&&Y(Se)},!0),"if",o,438,6)}T(F,V)};p(()=>Te(W,F=>{a(v)&&!a(G)&&d(a(l),"analytics")?F(L):F(oe,!1)}),"if",o,436,6)}T(B,I)}),$$slots:{default:!0}})}),"component",o,435,4,{componentTag:"Tabs.Content"}),T(c,S)}),$$slots:{default:!0}})}),"component",o,379,2,{componentTag:"Tabs.Root"});var Ve=C(We,2);return p(()=>xt(Ve,{get transactions(){return a(n)},onDelete:()=>{a(z)?.resetRowSelection(),f()},get dialogOpen(){return a(le)},set dialogOpen(e){g(le,e,!0)}}),"component",o,452,2,{componentTag:"DeleteTransactionDialog"}),H(xe),Ce(()=>Me(qe,a(R)?.name||`Account ${a(t)}`)),T(Pe,xe),ot({...st()})}export{o as component};
